/*!CK:24480187!*//*1427720123,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["UQeYU"]); }

__d("AdsAPICustomAudienceFilteringFields",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={DELIVERY_STATUS_CODE:"delivery_status.code",DATA_SOURCE_SUBTYPE:"data_source.subtype",QUICK_LOOK:"quicklook",SUBTYPE:"subtype"};},null);
__d("AdsConnectionObjTypes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={PAGE:1,APPLICATION:2,EVENT:3,GROUP:4,REVIEW:5,PLACE:6,DOMAIN:7,STATUS:8,PLAN:9,VIDEO:10,SHARE:11,PHOTO:12,MOBILE_STORE_OBJECT:13,COUPON:14};},null);
__d("CustomAudienceDataSourceSubType",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ANYTHING:"ANYTHING",NOTHING:"NOTHING",HASHES:"HASHES",USER_IDS:"USER_IDS",HASHES_OR_USER_IDS:"HASHES_OR_USER_IDS",MOBILE_ADVERTISER_IDS:"MOBILE_ADVERTISER_IDS",EXTERNAL_IDS:"EXTERNAL_IDS",MULTI_HASHES:"MULTI_HASHES",WEB_PIXEL_HITS:"WEB_PIXEL_HITS",MOBILE_APP_EVENTS:"MOBILE_APP_EVENTS",MOBILE_APP_COMBINATION_EVENTS:"MOBILE_APP_COMBINATION_EVENTS",VIDEO_EVENTS:"VIDEO_EVENTS",WEB_PIXEL_COMBINATION_EVENTS:"WEB_PIXEL_COMBINATION_EVENTS",CUSTOM_AUDIENCE_USERS:"CUSTOM_AUDIENCE_USERS",PAGE_FANS:"PAGE_FANS",CONVERSION_PIXEL_HITS:"CONVERSION_PIXEL_HITS",APP_USERS:"APP_USERS",S_EXPR:"S_EXPR",DYNAMIC_RULE:"DYNAMIC_RULE",CAMPAIGN_CONVERSIONS:"CAMPAIGN_CONVERSIONS",WEB_PIXEL_HITS_CUSTOM_AUDIENCE_USERS:"WEB_PIXEL_HITS_CUSTOM_AUDIENCE_USERS",MOBILE_APP_CUSTOM_AUDIENCE_USERS:"MOBILE_APP_CUSTOM_AUDIENCE_USERS",COMBINATION_CUSTOM_AUDIENCE_USERS:"COMBINATION_CUSTOM_AUDIENCE_USERS",REV_SHARE_CUSTOM_AUDIENCE_USERS:"REV_SHARE_CUSTOM_AUDIENCE_USERS",INTEREST_ENGAGERS:"INTEREST_ENGAGERS",MAIL_CHIMP_EMAIL_HASHES:"MAIL_CHIMP_EMAIL_HASHES",CONSTANT_CONTACTS_EMAIL_HASHES:"CONSTANT_CONTACTS_EMAIL_HASHES",COPY_PASTE_EMAIL_HASHES:"COPY_PASTE_EMAIL_HASHES",USER_PROPERTIES:"USER_PROPERTIES",CONTACT_IMPORTER:"CONTACT_IMPORTER"};},null);
__d("CustomAudienceDataSourceSubTypeInt",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ANYTHING:0,NOTHING:-1,HASHES:1001,USER_IDS:1002,HASHES_OR_USER_IDS:1003,MOBILE_ADVERTISER_IDS:1004,EXTERNAL_IDS:1005,MULTI_HASHES:1006,WEB_PIXEL_HITS:2001,MOBILE_APP_EVENTS:2002,MOBILE_APP_COMBINATION_EVENTS:2003,VIDEO_EVENTS:2004,WEB_PIXEL_COMBINATION_EVENTS:2005,CUSTOM_AUDIENCE_USERS:3001,PAGE_FANS:3002,CONVERSION_PIXEL_HITS:3003,APP_USERS:3004,S_EXPR:3005,DYNAMIC_RULE:3006,CAMPAIGN_CONVERSIONS:3007,WEB_PIXEL_HITS_CUSTOM_AUDIENCE_USERS:3008,MOBILE_APP_CUSTOM_AUDIENCE_USERS:3009,COMBINATION_CUSTOM_AUDIENCE_USERS:3010,REV_SHARE_CUSTOM_AUDIENCE_USERS:3011,INTEREST_ENGAGERS:3012,MAIL_CHIMP_EMAIL_HASHES:4001,CONSTANT_CONTACTS_EMAIL_HASHES:4002,COPY_PASTE_EMAIL_HASHES:5001,USER_PROPERTIES:6001,CONTACT_IMPORTER:7001};},null);
__d("CustomAudienceDataSourceType",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={UNKNOWN:"UNKNOWN",FILE_IMPORTED:"FILE_IMPORTED",EVENT_BASED:"EVENT_BASED",SEED_BASED:"SEED_BASED",THIRD_PARTY_IMPORTED:"THIRD_PARTY_IMPORTED",COPY_PASTE:"COPY_PASTE",CLAIM_BASED:"CLAIM_BASED",CONTACT_IMPORTER:"CONTACT_IMPORTER"};},null);
__d("CustomAudienceOperationStatus",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={NO_STATUS:0,NORMAL:200,UPDATING:300,WARNING:400,LOW_MATCH_RATE:411,HIGH_INVALID_RATE:412,LOW_UID_VALID_RATE:413,PIXEL_UNVERIFIED:421,PIXEL_NOT_FIRING:422,LEGACY_PIXEL:423,REFRESH_FAIL_SOURCE_DELETED:431,BUILD_FAIL_SOURCE_DELETED:432,BUILD_FAIL_UNKNOWN:433,BUILD_RETRYING:434,ERROR:500};},null);
__d("CustomAudienceSharingCapabilities",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={USE_FOR_ADS:"USE_FOR_ADS",USE_FOR_INSIGHTS:"USE_FOR_INSIGHTS"};},null);
__d("SavedTargetSpecSyncStatus",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={SUCCESS:"SUCCESS",FAILURE:"FAILURE"};},null);
__d("AdsSentenceLinesActionTypes",["AdsDispatchActionTypeUtils"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h={TARGETING_LOAD_ERROR:null,TARGETING_LOAD_SUCCESS:null},i=g.createActionTypeMap('SENTENCE_LINES_',h);e.exports=i;},null);
__d("AdsSentenceLinesServerActions",["AdsSentenceLinesActionTypes","AdsDispatcher"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i={updateTargeting:function(j,k){h.handleUpdateFromServerResponse({params:j,sentenceLines:k,type:g.TARGETING_LOAD_SUCCESS});},failTargeting:function(j,k){h.handleUpdateFromServerResponse({error:k,params:j,type:g.TARGETING_LOAD_ERROR});}};e.exports=i;},null);
__d("AdsAMAudienceActions",["AdsDispatcher","AdsAMActionTypes"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i={initializeAccount:function(j){g.handleUpdateFromInitialServer({account:j,type:h.ACCOUNT_INIT});},initializeAudiences:function(j,k){g.handleUpdateFromInitialServer({audiences:j,paging:k,type:h.AUDIENCE_INIT});},addAudience:function(j){g.handleUpdateFromServerResponse({audience:j,type:h.AUDIENCE_ADD});},addAudiences:function(j){g.handleUpdateFromServerResponse({audiences:j,type:h.AUDIENCE_BULK_ADD});},deleteAudience:function(j){g.handleUpdateFromServerResponse({audience:j,type:h.AUDIENCE_DELETE});},deleteAudiences:function(j){g.handleUpdateFromServerResponse({audiences:j,type:h.AUDIENCE_BULK_DELETE});},updateAudience:function(j,k){g.handleUpdateFromServerResponse({audienceID:j,changedProperties:k,type:h.AUDIENCE_CHANGE});},sortAudience:function(j,k,l){g.handleUpdateFromViewAction({compareFunction:l,sortKey:k,sortOrder:j,type:h.AUDIENCE_SORT});},error:function(j,k){g.handleUpdateFromServerResponse({error:k,rawData:j,type:h.ERROR});},clearErrors:function(){g.handleUpdateFromViewAction({type:h.VIEW_CLEAR_ERRORS});},saveCustomAudiencesToBuffer:function(j){g.handleUpdateFromServerResponse({audiences:j,type:h.AUDIENCE_SAVE_TO_CA_BUFFER});},saveSavedTargetSpecsToBuffer:function(j){g.handleUpdateFromServerResponse({audiences:j,type:h.AUDIENCE_SAVE_TO_STS_BUFFER});}};e.exports=i;},null);
__d("AudienceManagerRequestBatch",["AdsFBBatch_DEPRECATED","adsGKCheck"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={execute:function(j,k,l){var m=new g(),n=[],o=false;j.forEach(function(p){var q=h('audience_manager_api_versioning')?'/v2.2'+p.getEndpoint():p.getEndpoint();m.add(p.getMethod(),q,p.getParameters(),function(r,s){if(r.error)o=true;n.push(r);s();});});m.run(function(p){if(!o){k(n);}else if(l)l(n);});}};e.exports=i;},null);
__d("AudienceManagerAPIRequest",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i){"use strict";this.$AudienceManagerAPIRequest0=h;this.$AudienceManagerAPIRequest1=i;}g.prototype.getMethod=function(){"use strict";return this.$AudienceManagerAPIRequest0;};g.prototype.getParameters=function(){"use strict";return this.$AudienceManagerAPIRequest1;};g.prototype.isParamsValid=function(){"use strict";return true;};g.prototype.getEndpoint=function(){"use strict";return null;};e.exports=g;},null);
__d("AudienceManagerUpdateRequest",["AudienceManagerAPIRequest"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;function j(k){"use strict";g.call(this,'POST',k);this.$AudienceManagerUpdateRequest0=k.id;}j.prototype.getEndpoint=function(){"use strict";return '/'+this.$AudienceManagerUpdateRequest0;};j.prototype.isParamsValid=function(){"use strict";return this.$AudienceManagerUpdateRequest0;};e.exports=j;},null);
/**
 * @providesModule sha256
 * @preserve-header
 *
 * Copyright (c) 2003, Christoph Bichlmeier
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of contributors
 *    may be used to endorse or promote products derived from this software
 *    without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE AUTHORS ''AS IS'' AND ANY EXPRESS
 * OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHORS OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
 * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */__d("sha256",["str2rstr"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(fa,ga){return ((ga>>>fa)|(ga<<(32-fa)));}function i(fa,ga,ha){return ((fa&ga)^(~fa&ha));}function j(fa,ga,ha){return ((fa&ga)^(fa&ha)^(ga&ha));}function k(fa){return (h(2,fa)^h(13,fa)^h(22,fa));}function l(fa){return (h(6,fa)^h(11,fa)^h(25,fa));}function m(fa){return (h(7,fa)^h(18,fa)^(fa>>>3));}function n(fa){return (h(17,fa)^h(19,fa)^(fa>>>10));}function o(fa,ga){return (fa[ga&15]+=n(fa[(ga+14)&15])+fa[(ga+9)&15]+m(fa[(ga+1)&15]));}var p=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),q=new Array(8),r=new Array(2),s=new Array(64),t=new Array(16),u="0123456789abcdef";function v(fa,ga){var ha=(fa&65535)+(ga&65535),ia=(fa>>16)+(ga>>16)+(ha>>16);return (ia<<16)|(ha&65535);}function w(){r[0]=r[1]=0;q[0]=1779033703;q[1]=3144134277;q[2]=1013904242;q[3]=2773480762;q[4]=1359893119;q[5]=2600822924;q[6]=528734635;q[7]=1541459225;}function x(){var fa,ga,ha,ia,ja,ka,la,ma,na,oa;fa=q[0];ga=q[1];ha=q[2];ia=q[3];ja=q[4];ka=q[5];la=q[6];ma=q[7];for(var pa=0;pa<16;pa++)t[pa]=((s[(pa<<2)+3])|(s[(pa<<2)+2]<<8)|(s[(pa<<2)+1]<<16)|(s[pa<<2]<<24));for(var qa=0;qa<64;qa++){na=ma+l(ja)+i(ja,ka,la)+p[qa];if(qa<16){na+=t[qa];}else na+=o(t,qa);oa=k(fa)+j(fa,ga,ha);ma=la;la=ka;ka=ja;ja=v(ia,na);ia=ha;ha=ga;ga=fa;fa=v(na,oa);}q[0]+=fa;q[1]+=ga;q[2]+=ha;q[3]+=ia;q[4]+=ja;q[5]+=ka;q[6]+=la;q[7]+=ma;}function y(fa,ga){var ha,ia,ja=0;ia=((r[0]>>3)&63);var ka=(ga&63);if((r[0]+=(ga<<3))<(ga<<3))r[1]++;r[1]+=(ga>>29);for(ha=0;ha+63<ga;ha+=64){for(var la=ia;la<64;la++)s[la]=fa.charCodeAt(ja++);x();ia=0;}for(var la=0;la<ka;la++)s[la]=fa.charCodeAt(ja++);}function z(){var fa=((r[0]>>3)&63);s[fa++]=128;if(fa<=56){for(var ga=fa;ga<56;ga++)s[ga]=0;}else{for(var ga=fa;ga<64;ga++)s[ga]=0;x();for(var ga=0;ga<56;ga++)s[ga]=0;}s[56]=(r[1]>>>24)&255;s[57]=(r[1]>>>16)&255;s[58]=(r[1]>>>8)&255;s[59]=r[1]&255;s[60]=(r[0]>>>24)&255;s[61]=(r[0]>>>16)&255;s[62]=(r[0]>>>8)&255;s[63]=r[0]&255;x();}function aa(){var fa=0,ga=new Array(32);for(var ha=0;ha<8;ha++){ga[fa++]=((q[ha]>>>24)&255);ga[fa++]=((q[ha]>>>16)&255);ga[fa++]=((q[ha]>>>8)&255);ga[fa++]=(q[ha]&255);}return ga;}function ba(){var fa=new String();for(var ga=0;ga<8;ga++)for(var ha=28;ha>=0;ha-=4)fa+=u.charAt((q[ga]>>>ha)&15);return fa;}function ca(fa){var ga=0;for(var ha=0;ha<8;ha++)for(var ia=28;ia>=0;ia-=4)fa[ga++]=u.charCodeAt((q[ha]>>>ia)&15);}function da(fa,ga){w();y(fa,fa.length);z();if(ga){ca(ga);}else return ba();}function ea(fa,ga,ha){if(fa===null||fa===(void 0))return null;ga=(typeof ga=='undefined')?true:ga;if(ga)fa=g(fa);return da(fa,ha);}e.exports=ea;},null);
__d("ads-crypto-email-hash",["sha256"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h='sha256',i={getHashType:function(){return h;},hashEmail:function(j,k){return g(j,true,k);}};e.exports=i;},null);
__d("isInternationalPhoneNumber",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=/^1\(?\d{3}\)?\d{7}$/,h=/^47\d{8}$/,i=/^\d{1,4}\(?\d{2,3}\)?\d{4,}$/;function j(k){k=k.replace(/[\-\s]+/g,'').replace(/^\+?0{0,2}/,'');if(k.startsWith('0'))return false;if(k.startsWith('1'))return g.test(k);if(k.startsWith('47'))return h.test(k);return i.test(k);}e.exports=j;},null);
__d("AudienceTokenProcessor",["ads-crypto-email-hash","isEmail","isInternationalPhoneNumber","ads-cluster-constants","CustomAudienceHashIdSchemaTypesJS","CustomAudienceSimpleIdSchemaTypesJS"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=/^\d+$/,n=/^[0-9a-f]{32}$/,o=/^[0-9a-f]{64}$/,p=/^0*/,q=/[\-@#<>'",; ]|\(|\)|\+|[a-z]/gi,r=/[0-9a-z_\-]+/i;function s(t){"use strict";this.$AudienceTokenProcessor0=t;}s.prototype.processToken=function(t,u){"use strict";if(!t)return false;if(!this.$AudienceTokenProcessor0)this.$AudienceTokenProcessor0=this.$AudienceTokenProcessor1(t);switch(this.$AudienceTokenProcessor0){case j.UPLOAD_TYPE_PHONE:return this.$AudienceTokenProcessor2(t,u);case j.UPLOAD_TYPE_EMAIL:return this.$AudienceTokenProcessor3(t,u);case j.UPLOAD_TYPE_UID:return this.$AudienceTokenProcessor4(t,u);case j.UPLOAD_TYPE_PARTNER_TOKEN:return this.$AudienceTokenProcessor5(t,u);case j.UPLOAD_TYPE_PLATFORM_ADVERTISER_TOKEN:case j.UPLOAD_TYPE_MOBILE_ADVERTISER_ID:this.$AudienceTokenProcessor6(t,u);return true;}return false;};s.prototype.getPayloadSchema=function(){"use strict";switch(this.$AudienceTokenProcessor0){case j.UPLOAD_TYPE_PHONE:return this.$AudienceTokenProcessor7==='md5'?k.PHONE_MD5:k.PHONE_SHA256;case j.UPLOAD_TYPE_EMAIL:return this.$AudienceTokenProcessor7==='md5'?k.EMAIL_MD5:k.EMAIL_SHA256;case j.UPLOAD_TYPE_UID:return l.UID;case j.UPLOAD_TYPE_PARTNER_TOKEN:return l.TOKEN;case j.UPLOAD_TYPE_PLATFORM_ADVERTISER_TOKEN:return l.THIRD_PARTY_TOKEN;case j.UPLOAD_TYPE_MOBILE_ADVERTISER_ID:return l.MOBILE_ADVERTISER_ID;}};s.prototype.isHash=function(){"use strict";return !!this.$AudienceTokenProcessor7;};s.prototype.$AudienceTokenProcessor6=function(t,u,v,w){"use strict";if(u.getUserCount()>0)u.appendString(',');u.appendString('"');u.appendUserToken(t,v,w);u.appendString('"');};s.prototype.$AudienceTokenProcessor2=function(t,u){"use strict";if(i(t)){t=t.replace(q,'').replace(p,'');this.$AudienceTokenProcessor6(t,u,g.hashEmail,64);return true;}else if(o.test(t)){this.$AudienceTokenProcessor8('sha256');this.$AudienceTokenProcessor6(t,u);return true;}else if(n.test(t)){this.$AudienceTokenProcessor8('md5');this.$AudienceTokenProcessor6(t,u);return true;}return false;};s.prototype.$AudienceTokenProcessor4=function(t,u){"use strict";if(m.test(t)){this.$AudienceTokenProcessor6(t,u);return true;}return false;};s.prototype.$AudienceTokenProcessor5=function(t,u){"use strict";if(r.test(t)){this.$AudienceTokenProcessor6(t,u);return true;}return false;};s.prototype.$AudienceTokenProcessor3=function(t,u){"use strict";t=t.toLowerCase();if(h(t)){this.$AudienceTokenProcessor6(t,u,g.hashEmail,64);return true;}else if(o.test(t)){this.$AudienceTokenProcessor8('sha256');this.$AudienceTokenProcessor6(t,u);return true;}else if(n.test(t)){this.$AudienceTokenProcessor8('md5');this.$AudienceTokenProcessor6(t,u);return true;}return false;};s.prototype.$AudienceTokenProcessor8=function(t){"use strict";if(this.$AudienceTokenProcessor7)return;this.$AudienceTokenProcessor7=t;};s.prototype.$AudienceTokenProcessor1=function(t){"use strict";if(h(t))return j.UPLOAD_TYPE_EMAIL;if(r.test(t))return j.UPLOAD_TYPE_PARTNER_TOKEN;return j.UPLOAD_TYPE_EMAIL;};s.prototype.getType=function(){"use strict";return this.$AudienceTokenProcessor0;};e.exports=s;},null);
__d("CustomAudienceBigPostPool",["ads-lib-connect_DEPRECATED","invariant","ads-cluster-constants","CustomAudienceGraphVersion","UserAgent_DEPRECATED","UrlMap","URI","WebApiApplication"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=g.FB,p=k.chrome()>22,q=3;function r(t){"use strict";this.$CustomAudienceBigPostPool0=t;this.$CustomAudienceBigPostPool1=0;this.$CustomAudienceBigPostPool2=[];}r.prototype.acquireBigPost=function(){"use strict";h(this.$CustomAudienceBigPostPool1<this.$CustomAudienceBigPostPool0);this.$CustomAudienceBigPostPool1++;if(this.$CustomAudienceBigPostPool2.length===0){return new s(this.releaseBigPost.bind(this));}else return this.$CustomAudienceBigPostPool2.shift();};r.prototype.releaseBigPost=function(t){"use strict";var u=false;for(var v=0;v<this.$CustomAudienceBigPostPool2.length;v++)if(this.$CustomAudienceBigPostPool2[v]===t)u=true;h(!u);this.$CustomAudienceBigPostPool2.push(t);this.$CustomAudienceBigPostPool1--;};function s(t){"use strict";if(p)this.$CustomAudienceBigPost0=new Uint8Array(i.CLUSTER_API_MAX_SIZE*500);this.$CustomAudienceBigPost1();this.releaseCallback=t;}s.prototype.$CustomAudienceBigPost1=function(){"use strict";if(p){this.$CustomAudienceBigPost2=0;this.$CustomAudienceBigPost3=0;this.appendString('payload');this.appendRawString('=');}else this.$CustomAudienceBigPost4='';this.$CustomAudienceBigPost5=0;this.appendString('{"data":[');};s.prototype.appendString=function(t){"use strict";if(p)t=encodeURIComponent(t);this.appendRawString(t);};s.prototype.appendRawString=function(t){"use strict";if(p){for(var u=0;u<t.length;u++)this.$CustomAudienceBigPost0[this.$CustomAudienceBigPost2++]=t.charCodeAt(u);}else this.$CustomAudienceBigPost4+=t;};s.prototype.appendUserToken=function(t,u,v){"use strict";if(u){if(p){var w=new Uint8Array(this.$CustomAudienceBigPost0.buffer,this.$CustomAudienceBigPost2,v);u(t,w);this.$CustomAudienceBigPost2+=v;}else this.$CustomAudienceBigPost4+=u(t);}else this.appendString(t);this.$CustomAudienceBigPost5++;};s.prototype.appendAppIDs=function(t){"use strict";this.appendString('], "app_ids": [');this.appendString(t.join());};s.prototype.appendPayloadSchema=function(t){"use strict";this.appendString('], "schema":"');this.appendString(t);this.appendString('"}');};s.prototype.request=function(t,u,v,w){"use strict";if(p){this.$CustomAudienceBigPost6(t,u,v,w);}else{v.payload=this.$CustomAudienceBigPost4;o.api(t,u,v,w);}};s.prototype.$CustomAudienceBigPost6=function(t,u,v,w){"use strict";if(this.$CustomAudienceBigPost3===0){if(!v.access_token)v.access_token=n.getAccessToken();v.suppress_http_code=1;u=(u||'get').toLowerCase();v.method=u;u=u==='get'?'get':'post';for(var x in v){this.appendRawString('&');this.appendString(x);this.appendRawString('=');this.appendString(v[x]);}}var y=new m(t),z=l.resolve('graph')+'/'+j.GRAPH_VERSION+y.getPath(),aa=new XMLHttpRequest();aa.open(u,z,true);aa.setRequestHeader('Content-type','application/x-www-form-urlencoded');aa.onload=function(){var ba=JSON.parse(aa.responseText);if(!ba||ba.error)if(this.$CustomAudienceBigPost7(t,u,v,w))return;this.$CustomAudienceBigPost8();w(ba);}.bind(this);aa.onerror=function(){if(!this.$CustomAudienceBigPost7(t,u,v,w)){this.$CustomAudienceBigPost8();w(JSON.parse(aa.responseText));}}.bind(this);aa.send(new Uint8Array(this.$CustomAudienceBigPost0.buffer,0,this.$CustomAudienceBigPost2));};s.prototype.$CustomAudienceBigPost7=function(t,u,v,w){"use strict";if(this.$CustomAudienceBigPost3<q){this.$CustomAudienceBigPost3++;this.$CustomAudienceBigPost6(t,u,v,w);return true;}else return false;};s.prototype.$CustomAudienceBigPost8=function(){"use strict";this.$CustomAudienceBigPost1();this.releaseCallback(this);};s.prototype.getUserCount=function(){"use strict";return this.$CustomAudienceBigPost5;};e.exports=r;},null);
__d("CAUploadSessionStatus",["copyProperties","invariant","CustomAudienceSessionTypesJS"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(l){"use strict";this.seq=l;this.size=0;this.last=false;this.status=j.INIT;this.startTime=0;this.latency=0;}j.prototype.start=function(){"use strict";this.startTime=Date.now();this.status=j.REQUESTED;};j.prototype.end=function(l){"use strict";this.latency=Date.now()-this.startTime;if(l){this.error=l;this.status=j.FAILED;}else this.status=j.SUCCEEDED;};j.prototype.toObject=function(){"use strict";var l={seq:this.seq,size:this.size,status:this.status,start_time:Math.round(this.startTime/1000),latency:this.latency};if(this.error)l.error=this.error;if(this.last)l.last=this.last;return l;};g(j,{INIT:'INIT',REQUESTED:'REQUESTED',FAILED:'FAILED',SUCCEEDED:'SUCCEEDED'});function k(){"use strict";this.name='ClusterUploadSession';this.clear();}k.prototype.clear=function(){"use strict";this.$CAUploadSessionStatus0=Math.ceil(Math.random()*16777216);this.$CAUploadSessionStatus1=0;this.$CAUploadSessionStatus2=0;this.$CAUploadSessionStatus3=0;this.$CAUploadSessionStatus4=0;this.$CAUploadSessionStatus5=0;this.$CAUploadSessionStatus6=0;this.$CAUploadSessionStatus7={};this.$CAUploadSessionStatus8=null;};k.prototype.isSessionCompleted=function(){"use strict";if(!this.isLastBatch())return false;for(var l in this.$CAUploadSessionStatus7){var m=this.$CAUploadSessionStatus7[l];if(m.status!=j.FAILED&&m.status!=j.SUCCEEDED)return false;}return true;};k.prototype.start=function(){"use strict";this.$CAUploadSessionStatus1=Date.now();};k.prototype.end=function(){"use strict";this.$CAUploadSessionStatus2=Date.now()-this.$CAUploadSessionStatus1;};k.prototype.startBatch=function(l,m){"use strict";this.$CAUploadSessionStatus4+=m;var n=this.$CAUploadSessionStatus9(l);n.size=m;n.start();};k.prototype.setBatchResult=function(l,m){"use strict";var n=this.$CAUploadSessionStatus9(l),o=m&&!m.error;if(o){this.$CAUploadSessionStatus5+=n.size;n.end();}else{this.$CAUploadSessionStatus6+=n.size;n.end(m?m.error:'no response');}};k.prototype.getNumUploadAttempted=function(){"use strict";return this.$CAUploadSessionStatus4;};k.prototype.getNumUploadSucceeded=function(){"use strict";return this.$CAUploadSessionStatus5;};k.prototype.getNumUploadFailed=function(){"use strict";return this.$CAUploadSessionStatus6;};k.prototype.getSessionID=function(){"use strict";return this.$CAUploadSessionStatus0;};k.prototype.getTotalBatchID=function(){"use strict";return this.$CAUploadSessionStatus3;};k.prototype.getCurrentBatchID=function(){"use strict";return this.$CAUploadSessionStatus3;};k.prototype.createNewBatch=function(){"use strict";++this.$CAUploadSessionStatus3;this.$CAUploadSessionStatus7[this.$CAUploadSessionStatus3]=new j(this.$CAUploadSessionStatus3);return this;};k.prototype.markLastBatch=function(){"use strict";this.$CAUploadSessionStatus9(this.$CAUploadSessionStatus3).last=true;return this;};k.prototype.noBatchCreated=function(){"use strict";return (this.$CAUploadSessionStatus3===0);};k.prototype.isFirstBatch=function(){"use strict";return (this.$CAUploadSessionStatus3===1);};k.prototype.isLastBatch=function(){"use strict";if(this.$CAUploadSessionStatus3===0)return false;return this.$CAUploadSessionStatus9(this.$CAUploadSessionStatus3).last;};k.prototype.getAPISpecForCurrentBatch=function(){"use strict";return {session_type:i.ACTION_BASED_SESSION,session_id:this.getSessionID(),batch_seq:this.getCurrentBatchID(),last_batch_flag:this.isLastBatch()};};k.prototype.setSessionException=function(l){"use strict";this.$CAUploadSessionStatus8=l;};k.prototype.toObject=function(){"use strict";var l=[],m=0,n=0;for(var o in this.$CAUploadSessionStatus7){var p=this.$CAUploadSessionStatus7[o];if(p.status!==j.SUCCEEDED)l.push(p.toObject());if(p.status===j.SUCCEEDED||p.status===j.FAILED){m+=p.latency;n++;}}var q={local_session_id:this.$CAUploadSessionStatus0,num_batches:this.getTotalBatchID(),time_start_ui:Math.round(this.$CAUploadSessionStatus1/1000),time_upload_ui:Math.round(this.$CAUploadSessionStatus2/1000),num_attempted_ui:this.$CAUploadSessionStatus4,num_succeeded_ui:this.$CAUploadSessionStatus5,num_failed_ui:this.$CAUploadSessionStatus6,batches_detail:JSON.stringify(l),error_msg:this.$CAUploadSessionStatus8};if(n>0)q.avg_batch_latency=Math.round(m/n);return q;};k.prototype.$CAUploadSessionStatus9=function(l){"use strict";h(this.$CAUploadSessionStatus7.hasOwnProperty(l));return this.$CAUploadSessionStatus7[l];};e.exports=k;},null);
__d("CustomAudienceCreationErrors",["keyMirror"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g({FILE_IMPORT_NO_VALID_ENTRY:null,FILE_IMPORT_TOKEN_ERROR:null,FILE_IMPORT_ERROR_LIMIT_REACH:null,COPY_PASTE_TOKEN_ERROR:null,COPY_PASTE_REQUEST_ERROR:null,FILE_IMPORT_CSV_CONVERT_ERROR:null,FATAL_ERROR:null});e.exports=h;},null);
__d("AdsMigrationOverrides",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={};e.exports=Object.keys(g).length?JSON.stringify(g):'';},null);
__d("BufferedTokenReader",["ArbiterMixin","copyProperties","fileSlice","invariant","mixin"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=k(g);for(var m in l)if(l.hasOwnProperty(m))o[m]=l[m];var n=l===null?null:l.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=l;function o(p,q){"use strict";j(a.FileReader!==(void 0));this.$BufferedTokenReader0=p;this.$BufferedTokenReader1=new a.FileReader();this.$BufferedTokenReader1.onloadend=this.$BufferedTokenReader2.bind(this);this.$BufferedTokenReader3='';this.$BufferedTokenReader4=0;this.$BufferedTokenReader5=1;this.$BufferedTokenReader6=0;this.$BufferedTokenReader7=q;this.$BufferedTokenReader8=0;this.$BufferedTokenReader9=null;this.$BufferedTokenReadera=null;}o.prototype.nextToken=function(){"use strict";if(this.$BufferedTokenReaderb())return this.$BufferedTokenReaderc();while(this.$BufferedTokenReadera){this.$BufferedTokenReader9=this.$BufferedTokenReadera;this.$BufferedTokenReadera=null;this.$BufferedTokenReader8=0;this.readLines();if(this.$BufferedTokenReaderb())return this.$BufferedTokenReaderc();}if(!this.currentlyReading()&&!this.hasMore())if(this.$BufferedTokenReader3){this.$BufferedTokenReader4++;return this.$BufferedTokenReaderc();}else return o.EOF;this.readLines();return null;};o.prototype.hasMore=function(){"use strict";return this.$BufferedTokenReader6<this.$BufferedTokenReader0.size;};o.prototype.progress=function(){"use strict";return this.$BufferedTokenReader6/this.$BufferedTokenReader0.size;};o.prototype.getNumTokens=function(){"use strict";return this.$BufferedTokenReader4;};o.prototype.getLineNumber=function(){"use strict";return this.$BufferedTokenReader5;};o.prototype.getFileSize=function(){"use strict";return this.$BufferedTokenReader0.size;};o.prototype.readLines=function(){"use strict";if(this.currentlyReading())return;if(this.hasMore())this.$BufferedTokenReader1.readAsText(this.$BufferedTokenReaderd());};o.prototype.currentlyReading=function(){"use strict";return this.$BufferedTokenReader1.readyState===a.FileReader.LOADING;};o.prototype.$BufferedTokenReaderb=function(){"use strict";if(this.$BufferedTokenReader9&&this.$BufferedTokenReader8<this.$BufferedTokenReader9.length)while(this.$BufferedTokenReader8<this.$BufferedTokenReader9.length){var p=this.$BufferedTokenReader9.charAt(this.$BufferedTokenReader8);if(o.LINE_BREAKS[p])if(this.$BufferedTokenReader3){this.$BufferedTokenReader4++;return true;}else{this.$BufferedTokenReader5++;this.$BufferedTokenReader8++;var q=this.$BufferedTokenReader9.charAt(this.$BufferedTokenReader8);if(p!=q&&o.LINE_BREAKS[q])this.$BufferedTokenReader8++;continue;}this.$BufferedTokenReader8++;if(p==='\0')continue;if(o.TOKEN_BREAKS[p]){if(this.$BufferedTokenReader3){this.$BufferedTokenReader4++;return true;}continue;}this.$BufferedTokenReader3+=p;}return false;};o.prototype.$BufferedTokenReaderc=function(){"use strict";var p=this.$BufferedTokenReader3;this.$BufferedTokenReader3='';return p;};o.prototype.$BufferedTokenReader2=function(){"use strict";j(!this.$BufferedTokenReadera);this.$BufferedTokenReadera=this.$BufferedTokenReader1.result;this.inform(o.DATA_LOADED_EVENT);};o.prototype.$BufferedTokenReaderd=function(){"use strict";var p=this.$BufferedTokenReader6,q=Math.min(this.$BufferedTokenReader6+this.$BufferedTokenReader7,this.$BufferedTokenReader0.size);this.$BufferedTokenReader6=q;return i.call(this.$BufferedTokenReader0,p,q);};h(o,{EOF:'\0\0',DATA_LOADED_EVENT:'bufferedlinereader_data_loaded',name:'BufferedTokenReader',LINE_BREAKS:{'\r':true,'\n':true},TOKEN_BREAKS:{'<':true,'>':true,'"':true,"'":true,',':true,' ':true,'|':true,';':true,'\t':true}});e.exports=o;},null);
__d("CustomAudienceUiLogger",["AsyncRequest"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h='/ajax/ads/manage/custom_audience/log/',i={EVENT_UI_SESSION_FINISH:'ui_session_finish',log:function(j){var k=new g(h);k.setData(j||{}).send();}};e.exports=i;},null);
__d("CustomAudienceUploader",["ads-cluster-constants","AdsMigrationOverrides","ArbiterMixin","AudienceTokenProcessor","CustomAudienceBigPostPool","BufferedTokenReader","CAUploadSessionStatus","CustomAudienceUiLogger","CustomAudienceSessionTypesJS","CustomAudienceHashIdSchemaTypesJS","CustomAudienceSimpleIdSchemaTypesJS","WebApiApplication","copyProperties","fbt","invariant","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){b.__markCompiled&&b.__markCompiled();var w=b('ads-cluster-constants').ERROR_THRESHOLD_RATE,x={INIT:"INIT",READING:"READING",FILE_LOADING:"FILE_LOADING",WAITING_FOR_ERROR_CHECK:"WAITING_FOR_ERROR_CHECK",WAITING_FOR_REQUEST:"WAITING_FOR_REQUEST",WAITING_REQUEST_SENT:"WAITING_REQUEST_SENT",STOPPED:"STOPPED",DONE:"DONE"},y=v(i);for(var z in y)if(y.hasOwnProperty(z))ba[z]=y[z];var aa=y===null?null:y.prototype;ba.prototype=Object.create(aa);ba.prototype.constructor=ba;ba.__superConstructor__=y;function ba(ca,da){"use strict";this.dao=ca;this.N_UPLOAD_CONCURRENCY=da;this._clusterReader=null;this._numUploaded=0;this._clusterID=0;this._removeUsers=false;this._encOption=null;this._state=x.INIT;this._uploadSession=new m();this._bigPostPool=new k(da+2);this._bigPost=this._bigPostPool.acquireBigPost();this._hashType=null;this._requestNumber=0;this._waitingRequest=null;this._currentLineInfo={lineNum:0,numValidTokens:0,firstInvalidToken:null};this._numInvalidLines=0;this._appIDs=null;}ba.prototype.createCluster=function(ca,da,ea){"use strict";this._encOption=ea.encOption;this._uploadType=ea.uploadType;this._accountId=ea.accountId;this._createCluster=true;this._appIDs=ea.appIDs;this.inform(ba.PROGRESS_CREATING_CLUSTER);this._readFile(da);this._errorLimitCallback=function(){this.dao.add.createCustomAudience.one(function(fa){this._clusterID=fa.id;this.inform(ba.CREATING_CLUSTER_FINISHED,{audienceId:this._clusterID,audienceName:ca});if(this._state!=x.STOPPED)this._continueAfterFirstBatchCheck();}.bind(this),{migrations_override:h,name:ca,accountId:ea.accountId,opt_out_link:ea.optOutLink,rev_share_policy_id:ea.revSharePolicyID,description:ea.description,partner_reference_key:ea.partnerReferenceKey,is_partner_category:!!ea.isPartnerCategory,creation_params:{type:'file',file_name:da.name},subtype:this.inferAudienceSubtype(ea),handleError:function(fa,ga){var ha={type:'FatalError',message:ga.error.message};this.inform(ba.FATAL_ERROR,ha);}.bind(this)});}.bind(this);};ba.prototype.inferAudienceSubtype=function(ca){"use strict";if(!!ca.revSharePolicyID)return 'managed';return 'custom';};ba.prototype.modifyUsers=function(ca,da,ea){"use strict";this._accountId=ea.accountId;this._uploadType=ea.uploadType;this._encOption=ea.encOption;this._removeUsers=ea.removeUsers;this._clusterID=ca;this._appIDs=ea.appIDs;this._readFile(da);this._errorLimitCallback=function(){this._continueAfterFirstBatchCheck();}.bind(this);};ba.prototype.removeUsersFromAllAudiences=function(ca,da){"use strict";this._accountId=da.accountId;this._uploadType=da.uploadType;this._encOption=da.encOption;this._optOut=true;this._readFile(ca);this._errorLimitCallback=function(){this._continueAfterFirstBatchCheck();}.bind(this);};ba.prototype.getNumErrors=function(){"use strict";return this._numInvalidLines;};ba.prototype.getNumUploaded=function(){"use strict";var ca=this._uploadSession.getNumUploadSucceeded()-(this._uploadSession.getTotalBatchID()-1);if(ca<0)ca=0;return ca;};ba.prototype.getNumFailed=function(){"use strict";return this._uploadSession.getNumUploadFailed();};ba.prototype.getNumTokens=function(){"use strict";return this._clusterReader.getNumTokens();};ba.prototype.getNumLines=function(){"use strict";return this._clusterReader.getLineNumber();};ba.prototype.getProgress=function(){"use strict";if(this._uploadSession.isSessionCompleted())return 100;return this._clusterReader?this._clusterReader.progress()*100:0;};ba.prototype.stop=function(){"use strict";u(this._state==x.READING||this._state==x.FILE_LOADING||this._state==x.WAITING_FOR_REQUEST||this._state==x.WAITING_FOR_ERROR_CHECK);this._state=x.STOPPED;this._uploadSession.end();this._logToServer(false);this._clusterReader=null;};ba.prototype._continueAfterFirstBatchCheck=function(){"use strict";u(this._state==x.WAITING_FOR_ERROR_CHECK);this.inform(ba.PROGRESS_START_UPLOADING);if(this._waitingRequest){this._sendWaitingRequest();}else this._endUpload();};ba.prototype._handleLine=function(){"use strict";while(true){if(this._state===x.STOPPED)break;u(this._state===x.READING);var ca=this._clusterReader.nextToken();if(ca===null){this._state=x.FILE_LOADING;break;}if(ca==l.EOF){this._mayTriggerTokenErrorEvent();this._endOfFile=true;if(this._bigPost.getUserCount()>0){this._sendRequest();}else if(this._bigPost.getUserCount()===0&&this._uploadSession.noBatchCreated()){this.inform(ba.NO_VALID_ENTRIES);return;}break;}if(this._currentLineInfo.line&&this._clusterReader.getLineNumber()>this._currentLineInfo.line)this._mayTriggerTokenErrorEvent();if(ca==='')continue;this._currentLineInfo.line=this._clusterReader.getLineNumber();var da=this._tokenProcessor.processToken(ca,this._bigPost);if(!da){if(this._currentLineInfo.firstInvalidToken===null)this._currentLineInfo.firstInvalidToken=ca;continue;}this._currentLineInfo.numValidTokens++;if(this._bigPost.getUserCount()==g.CLUSTER_API_MAX_SIZE){var ea=!this._sendRequest();this._tokenProcessor.processToken(ca,this._bigPost);if(ea)break;}}if(this._state!=x.STOPPED)this.inform(ba.PROGRESS_PARSING);if(this._state==x.WAITING_FOR_ERROR_CHECK)if(this._numInvalidLines/this._clusterReader.getLineNumber()>w){this.inform(ba.ERROR_LIMIT_REACHED,{numErrors:this._numInvalidLines,numLines:this._clusterReader.getLineNumber(),errorRate:this._numInvalidLines/this._clusterReader.getLineNumber(),continueCallback:this._errorLimitCallback});}else this._errorLimitCallback();};ba.prototype._readFile=function(ca){"use strict";this._endOfFile=false;this._tokenProcessor=new j(this._uploadType);this._clusterReader=new l(ca,10000);this._clusterReader.subscribe(l.DATA_LOADED_EVENT,this._continueReadFile.bind(this));this._uploadSession.start();this._continueReadFile();this.inform(ba.PROGRESS_START_READING);};ba.prototype._continueReadFile=function(){"use strict";if(this._state==x.INIT||this._state==x.FILE_LOADING||this._state==x.WAITING_REQUEST_SENT){this._state=x.READING;try{this._handleLine();}catch(ca){this._uploadSession.setSessionException(ca.message);this._logToServer(false);throw ca;}}};ba.prototype._onTokenError=function(ca,da){"use strict";var ea=this._tokenProcessor.getType(),fa=this._getUploadTypeString(ea);if(this._tokenProcessor.isHash()){ea=g.UPLOAD_TYPE_HASH;fa=t._("hash");}var ga={type:ea,message:t._("ligne {line} contient {token}",[t.param("line",da),t.param("token",ca)]),token:ca};this._numInvalidLines++;this.inform(ba.ERROR,ga);};ba.prototype._getUploadTypeString=function(ca){"use strict";switch(ca){case g.UPLOAD_TYPE_EMAIL:return t._("adresse \u00e9lectronique");case g.UPLOAD_TYPE_UID:return t._("Identifiant utilisateur");case g.UPLOAD_TYPE_PHONE:return t._("num\u00e9ro de t\u00e9l\u00e9phone");case g.UPLOAD_TYPE_PARTNER_TOKEN:return t._("token de partenaire");case g.UPLOAD_TYPE_PLATFORM_ADVERTISER_TOKEN:return t._("Identifiant d\u2019utilisateur de l\u2019application");case g.UPLOAD_TYPE_MOBILE_ADVERTISER_Id:return t._("Identifiant publicitaire mobile");}return '';};ba.prototype._sendRequest=function(){"use strict";this._uploadSession.createNewBatch();if(this._endOfFile)this._uploadSession.markLastBatch();u(this._createCluster&&this._uploadSession.isFirstBatch()||this._clusterID||this._optOut);u(this.dao);u(this._state==x.READING);var ca=this._bigPost;this._bigPost=this._bigPostPool.acquireBigPost();var da=ca.getUserCount();u(this._endOfFile&&da>0||da==g.CLUSTER_API_MAX_SIZE);var ea=this._makeUploadingAPIParams(ca);if(this._uploadSession.isFirstBatch()||this._requestNumber>=this.N_UPLOAD_CONCURRENCY){this._waitingRequest=function(){this._callUploadingAPI(ca,ea);}.bind(this);this._state=this._uploadSession.isFirstBatch()?x.WAITING_FOR_ERROR_CHECK:x.WAITING_FOR_REQUEST;return false;}this._callUploadingAPI(ca,ea);return true;};ba.prototype._requestCallback=function(ca){"use strict";return (function(da){this._uploadSession.setBatchResult(ca,da);this.inform(ba.PROGRESS_UPLOADING);if(!da||da.error){var ea=t._("Erreur inconnue");if(da&&da.error)ea=da.error.message;var fa={type:'UploadRequest',message:ea};this.inform(ba.ERROR,fa);}this._requestNumber--;if(this._uploadSession.isSessionCompleted()){this._endUpload();return;}if(this._state==x.WAITING_FOR_REQUEST)this._sendWaitingRequest();}).bind(this);};ba.prototype._sendWaitingRequest=function(){"use strict";u(this._state==x.WAITING_FOR_REQUEST||this._state==x.WAITING_FOR_ERROR_CHECK);var ca=this._waitingRequest;this._waitingRequest=null;ca();this._state=x.WAITING_REQUEST_SENT;this._continueReadFile();};ba.prototype._makeUploadingAPIParams=function(ca){"use strict";if(this._appIDs)ca.appendAppIDs(this._appIDs);ca.appendPayloadSchema(this._tokenProcessor.getPayloadSchema());var da=this._uploadSession.getAPISpecForCurrentBatch();da.estimated_num_total=Math.round((this._uploadSession.getNumUploadAttempted()+ca.getUserCount())/this.getProgress()*100);return da;};ba.prototype._callUploadingAPI=function(ca,da){"use strict";this._requestNumber++;this._uploadSession.startBatch(da.batch_seq,ca.getUserCount());var ea={session:JSON.stringify(da)};if(this._optOut){ca.request('/act_'+this._accountId+'/usersofanyaudience','DELETE',ea,this._requestCallback(this._uploadSession.getCurrentBatchID()));}else ca.request('/'+this._clusterID+'/users',this._removeUsers?'DELETE':'POST',ea,this._requestCallback(this._uploadSession.getCurrentBatchID()));};ba.prototype._endUpload=function(){"use strict";this._state=x.DONE;this._uploadSession.end();this._logToServer(true);this.inform(ba.FINISHED,{audienceId:this._clusterID,sessionId:this._uploadSession.getSessionID()});};ba.prototype._mayTriggerTokenErrorEvent=function(){"use strict";if(this._currentLineInfo.line&&this._currentLineInfo.numValidTokens===0&&this._currentLineInfo.firstInvalidToken)this._onTokenError(this._currentLineInfo.firstInvalidToken,this._currentLineInfo.line);this._currentLineInfo.line=0;this._currentLineInfo.numValidTokens=0;this._currentLineInfo.firstInvalidToken=null;};ba.prototype._logToServer=function(ca){"use strict";var da=this._uploadSession.toObject();da.app_id=r.getClientID();da.audience_id=this._clusterID;if(this._accountId)da.ad_account_id=this._accountId;da.event_name=n.EVENT_UI_SESSION_FINISH;da.num_invalid_ui=this._numInvalidLines;da.num_lines_ui=this._clusterReader.getLineNumber();da.file_size=this._clusterReader.getFileSize();da.session_type=o.ACTION_BASED_SESSION;da.action_type=this._getActionType();da.payload_schema=this._getPayloadSchema();if(ca){da.upload_progress=100;}else da.upload_progress=Math.round(this.getProgress()/100*99);n.log(da);};ba.prototype._getActionType=function(){"use strict";if(this._optOut)return "OPTOUT";if(this._removeUsers)return "REMOVE_USER";return "ADD_USER";};ba.prototype._getPayloadSchema=function(){"use strict";switch(this._uploadType){case g.UPLOAD_TYPE_EMAIL:return p.EMAIL_SHA256;case g.UPLOAD_TYPE_UID:return q.UID;case g.UPLOAD_TYPE_PHONE:return p.PHONE_SHA256;case g.UPLOAD_TYPE_PLATFORM_ADVERTISER_TOKEN:return q.THIRD_PARTY_TOKEN;case g.UPLOAD_TYPE_PARTNER_TOKEN:return q.TOKEN;case g.UPLOAD_TYPE_MOBILE_ADVERTISER_ID:return q.MOBILE_ADVERTISER_ID;}};s(ba,{PROGRESS_START_READING:'progress_reading',PROGRESS_PARSING:'progress_parsing',PROGRESS_START_UPLOADING:'progress_start_uploading',PROGRESS_UPLOADING:'progress_uploading',PROGRESS_CREATING_CLUSTER:'progress_creating_cluster',NO_VALID_ENTRIES:'no_valid_entries_event',ERROR_LIMIT_REACHED:'error_limit_reached_event',ERROR:'error_event',FATAL_ERROR:'fatal_error_event',CREATING_CLUSTER_FINISHED:'creating_cluster_finished_event',FINISHED:'finished_event',STATES:x});e.exports=ba;},null);
__d("XAdsCreatorController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/ads\/create\/",{business_id:{type:"Int"},act:{type:"Int"},campaign:{type:"Int"},ad_set:{type:"Int"},campaign_id:{type:"Int"},campaign_placement:{type:"String"},oid:{type:"Int"},fbid:{type:"Int"},storyid:{type:"Int"},objective:{type:"String"},edit_ad_link:{type:"Bool",defaultValue:false},conversion_pixel_id:{type:"Int"},targeting_spec:{type:"String"},ref:{type:"String"},desturl:{type:"String"},coupon_code:{type:"String"},coupon_error:{type:"Bool",defaultValue:false}});},null);
__d("AdsAMCreateAudienceServerActions",["AdsAMActionTypes","AdsAMConstants","AdsAMDispatcher","AdsCustomAudienceThirdPartyEmailImportStrategyTypes","AudienceDaoManager","AudienceManagerRequestBatch","AudienceManagerUpdateRequest","AudienceTokenProcessor","CustomAudienceBigPostPool","BusinessURI.brands","CAUploadSessionStatus","CustomAudienceCreationErrors","CustomAudienceUploader","ads-cluster-constants","XAdsCreatorController","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){b.__markCompiled&&b.__markCompiled();var w=10,x={DELETE:'DELETE',POST:'POST'},y={validRecord:0,invalidRecord:0,totalRecord:0},z=null,aa={uploadSelectedFileToServer:function(na,oa,pa,qa,ra,sa){var ta=k.getPrimedDao(na);ta.add.acceptCustomAudiencesTos.one(function(){return da(qa,function(ua){return ea(na,sa,oa,pa,ua);});},{tos_id:ra});},continueUploadSelectedFileToServer:function(){if(z){z();}else i.handleUpdateFromServerResponse({actionType:g.FILE_IMPORT_ERROR});},uploadCopyPasteEmailsToServer:function(na,oa,pa,qa,ra,sa){var ta=k.getPrimedDao(na);ta.add.acceptCustomAudiencesTos.one(function(){return ka(na,sa,oa,pa,qa);},{tos_id:ra});},uploadMailChimpListsToServer:function(na,oa,pa,qa){var ra=k.getPrimedDao(na);ra.add.acceptCustomAudiencesTos.one(function(){return ma(na,qa,oa);},{tos_id:pa});},updateAudienceNameDescription:function(na,oa,pa){var qa=k.getPrimedDao(na),ra={id:oa.id,handleError:function(sa,ta){i.handleUpdateFromServerResponse({actionType:g.UPDATE_AUDIENCE_ERROR,audienceID:oa.id,rawData:ta,result:sa});},name:oa.name,description:oa.description};qa.mutate.customAudience.one(function(){var sa=[];sa[oa.id]=oa;i.handleUpdateFromServerResponse({actionType:g.UPDATE_NAME_DESCRIPTION_COMPLETE,audiences:sa});pa();},ra);},batchUpdateAudienceNameDescription:function(na,oa,pa){var qa=oa.map(function(ta){var ua={id:ta.id,name:ta.name,description:ta.description};return new m(ua);}),ra=function(ta){i.handleUpdateFromServerResponse({actionType:g.MAIL_CHIMP_ERROR});},sa=function(ta){i.handleUpdateFromServerResponse({actionType:g.UPDATE_NAME_DESCRIPTION_COMPLETE,audiences:oa});pa();};l.execute(qa,sa,ra);},batchCreateAd:function(na,oa){var pa=[];Object.keys(oa).forEach(function(sa){pa.push({id:oa[sa].id,name:oa[sa].name});});var qa={custom_audiences:pa},ra=p((u.getURIBuilder()).setInt('act',na).setString('targeting_spec',JSON.stringify(qa)).getURI());window.open(ra,'_blank');},fetchContactListsFromServer:function(na,oa,pa){var qa=k.getPrimedDao(na),ra={accountId:na,third_party_data:{strategy_type:j.MAILCHIMP,access_token:oa,start_page:pa-1}};qa.fetch.contactsLists.one(function(sa){i.handleUpdateFromServerResponse({actionType:g.MAIL_CHIMP_FETCH_COMPLETE,currentPage:pa,totalPage:Math.ceil(sa.total/w),contactsLists:sa.lists});},ra);},uploadFileAddUsers:function(na,oa,pa,qa,ra){da(ra,function(sa){return fa(na,oa,pa,qa,sa);});},uploadFileRemoveUsers:function(na,oa,pa,qa,ra){da(ra,function(sa){return ga(na,oa,pa,qa,sa);});},copyPasteAddUsers:function(na,oa,pa,qa,ra){la(na,oa,pa,qa,ra,x.POST);},copyPasteRemoveUsers:function(na,oa,pa,qa,ra){la(na,oa,pa,qa,ra,x.DELETE);},removeUsersFromAllCustomAudiences:function(na,oa,pa){ha(na,oa,pa);}};function ba(){y={validRecord:0,invalidRecord:0,totalRecord:0};}function ca(na){var oa=k.getPrimedDao(na),pa=new s(oa,h.FILE_UPLOAD_CONCURRENCY),qa=[pa.subscribe(s.ERROR_LIMIT_REACHED,function(ra,sa){if(sa.numErrors<sa.numLines){i.handleUpdateFromServerResponse({actionType:g.FILE_IMPORT_ERROR,type:r.FILE_IMPORT_ERROR_LIMIT_REACH,errorDetails:{numErrors:sa.numErrors,numLines:sa.numLines}});z=sa.continueCallback;}}),pa.subscribe(s.PROGRESS_START_UPLOADING,function(){return i.handleUpdateFromServerResponse({actionType:g.FILE_IMPORT_START_UPLOAD});}),pa.subscribe(s.PROGRESS_UPLOADING,function(){return i.handleUpdateFromServerResponse({actionType:g.FILE_IMPORT_UPLOAD_PROGRESS,progress:pa.getProgress()});}),pa.subscribe(s.ERROR,function(ra,sa){return i.handleUpdateFromServerResponse({actionType:g.FILE_IMPORT_ERROR,type:r.FILE_IMPORT_TOKEN_ERROR,error:sa});}),pa.subscribe(s.NO_VALID_ENTRIES,function(){return i.handleUpdateFromServerResponse({actionType:g.FILE_IMPORT_ERROR,type:r.FILE_IMPORT_NO_VALID_ENTRY});}),pa.subscribe(s.FATAL_ERROR,function(ra,sa){return i.handleUpdateFromServerResponse({actionType:g.FILE_IMPORT_ERROR,type:r.FATAL_ERROR,error:sa});}),pa.subscribe(s.CREATING_CLUSTER_FINISHED,function(ra,sa){i.handleUpdateFromServerResponse({actionType:g.FILE_IMPORT_CREATE_AUDIENCE_COMPLETE,audienceID:sa.audienceId,audienceName:sa.audienceName});}),pa.subscribe(s.FINISHED,function(ra,sa){y={validRecord:pa.getNumUploaded(),invalidRecord:pa.getNumFailed(),totalRecord:pa.getNumTokens()};i.handleUpdateFromServerResponse({actionType:g.FILE_IMPORT_UPLOAD_COMPLETE,numberOfRecords:y});ba();qa.forEach(pa.unsubscribe,pa);})];return pa;}function da(na,oa){if(ja(na)){ia(na,function(pa){return oa(pa);});}else oa(na);}function ea(na,oa,pa,qa,ra){var sa=ca(na),ta={uploadType:pa,accountId:na};if(pa===t.UPLOAD_TYPE_UID)ta.appIDs=qa.map(function(ua){return ua.getUniqueID();});sa.createCluster(oa,ra,ta);}function fa(na,oa,pa,qa,ra){var sa=ca(na),ta={uploadType:pa,accountId:na,removeUsers:false};if(pa===t.UPLOAD_TYPE_UID)ta.appIDs=qa.map(function(ua){return ua.getUniqueID();});sa.modifyUsers(oa,ra,ta);}function ga(na,oa,pa,qa,ra){var sa=ca(na),ta={uploadType:pa,accountId:na,removeUsers:true};if(pa===t.UPLOAD_TYPE_UID)ta.appIDs=qa.map(function(ua){return ua.getUniqueID();});sa.modifyUsers(oa,ra,ta);}function ha(na,oa,pa){var qa=ca(na),ra={uploadType:oa,accountId:na};qa.removeUsersFromAllAudiences(pa,ra);}function ia(na,oa){}function ja(na){return na.name.endsWith('.xls')||na.name.endsWith('.xlsx');}function ka(na,oa,pa,qa,ra){var sa=k.getPrimedDao(na);sa.add.createCustomAudience.one(function(ta){la(na,ta.id,pa,qa,ra,x.POST);i.handleUpdateFromServerResponse({actionType:g.COPY_PASTE_CREATE_AUDIENCE_COMPLETE,audienceID:ta.id,audienceName:oa});},{name:oa,subtype:'custom',creation_params:{type:'copy_paste'},handleError:function(ta,ua){return i.handleUpdateFromServerResponse({actionType:g.FILE_IMPORT_ERROR,type:r.FATAL_ERROR,error:ua.error});}});}function la(na,oa,pa,qa,ra,sa){var ta=new o(1),ua=ta.acquireBigPost(),va=new n(pa);ra.map(function(bb){var cb=va.processToken(bb,ua);if(!cb){var db={type:pa,token:bb};i.handleUpdateFromServerResponse({actionType:g.COPY_PASTE_ERROR,type:r.COPY_PASTE_TOKEN_ERROR,error:db});}});var wa=new q();wa.createNewBatch();wa.markLastBatch();if(pa===t.UPLOAD_TYPE_UID){var xa=qa.map(function(bb){return bb.getUniqueID();});ua.appendAppIDs(xa);}ua.appendPayloadSchema(va.getPayloadSchema());var ya=wa.getAPISpecForCurrentBatch();ya.estimated_num_total=ua.getUserCount();var za={session:JSON.stringify(ya)},ab=function(bb){wa.setBatchResult(wa.getCurrentBatchID(),bb);i.handleUpdateFromServerResponse({actionType:g.COPY_PASTE_UPLOAD_PROGRESS,progress:100});if(!bb||bb.error)i.handleUpdateFromServerResponse({actionType:g.COPY_PASTE_ERROR,type:r.COPY_PASTE_REQUEST_ERROR,errorDetails:bb.error});y={validRecord:bb.num_received-bb.num_invalid_entries,invalidRecord:bb.num_invalid_entries,totalRecord:bb.num_received};wa.end();i.handleUpdateFromServerResponse({actionType:g.COPY_PASTE_UPLOAD_COMPLETE,numberOfRecords:y});ba();};ua.request('/'+oa+'/upload',sa,za,ab);}function ma(na,oa,pa){var qa=pa.length,ra=0,sa={},ta=k.getPrimedDao(na);pa.forEach(function(ua){var va={name:ua.name,third_party_data:{list_id:ua.list_id,strategy_type:j.MAILCHIMP,access_token:oa}};ta.add.audiencesImport.one(function(wa){ra++;sa[wa.id]={id:wa.id,name:ua.name};var xa=ra/qa*100;i.handleUpdateFromServerResponse({actionType:g.MAIL_CHIMP_UPLOAD_PROGRESS,progress:xa});if(ra===qa)i.handleUpdateFromServerResponse({actionType:g.MAIL_CHIMP_UPLOAD_COMPLETE,audiences:sa});},va);});}e.exports=aa;},null);
__d("AdsAMCreateAudienceViewActions",["AdsAMDispatcher","AdsAMActionTypes","AdsAMCreateAudienceServerActions"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={reset:function(){g.handleUpdateFromViewAction({actionType:h.CREATE_AUDIENCE_RESET});},setViewStage:function(k){g.handleUpdateFromViewAction({actionType:h.CREATE_AUDIENCE_SET_VIEW_STAGE,viewStage:k});},setViewDialogType:function(k){g.handleUpdateFromViewAction({actionType:h.CREATE_AUDIENCE_SET_VIEW_DIALOG_TYPE,viewDialogType:k});},showMobileAppDialog:function(){g.handleUpdateFromViewAction({actionType:h.CREATE_AUDIENCE_SHOW_MACA_DIALOG});},startFileImport:function(k,l,m,n,o,p){g.handleUpdateFromViewAction({actionType:h.FILE_IMPORT_CHECK_FILE});i.uploadSelectedFileToServer(k,l,m,n,o,p);},startCopyPasteUpload:function(k,l,m,n,o,p){g.handleUpdateFromViewAction({actionType:h.COPY_PASTE_START_UPLOAD});i.uploadCopyPasteEmailsToServer(k,l,m,n,o,p);},startMailChimpUpload:function(k,l,m,n){g.handleUpdateFromViewAction({actionType:h.MAIL_CHIMP_START_UPLOAD});i.uploadMailChimpListsToServer(k,l,m,n);},updateAudiencesNameDescription:function(k,l,m){if(l.length===0){m();}else if(l.length===1){i.updateAudienceNameDescription(k,l[0],m);}else i.batchUpdateAudienceNameDescription(k,l,m);},handleMailChimpLogin:function(k,l){i.fetchContactListsFromServer(k,l,1);},loadContactsList:function(k,l,m){i.fetchContactListsFromServer(k,l,m);}};e.exports=j;},null);
__d("AudiencePropertyConstants",["AdsAPISpec","AdsUtils"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g.CUSTOM_AUDIENCE_FIELDS_WITH_EXPANSION.map(h.underscoreKey),j=function(){var k=['capabilities'],l=i;k.forEach(function(m){if(l.indexOf(m)===-1)l.push(m);});return l;};e.exports={ACCOUNT_ID:'account_id',APPROXIMATE_COUNT:'approximate_count',DATA_SOURCE:'data_source',DESCRIPTION:'description',ID:'id',NAME:'name',PARENT_AUDIENCE_ID:'parent_audience_id',PARENT_CATEGORY:'parent_category',RETENTION_DAYS:'retention_days',RULE:'rule',STATUS:'status',DELIVERY_STATUS:'delivery_status',OPERATION_STATUS:'operation_status',PERMISSION_FOR_ACTIONS:'permission_for_actions',SUBTYPE:'subtype',SUBTYPE_NAME:'subtype_name',TIME_CONTENT_UPDATED:'time_content_updated',TIME_CREATED:'time_created',TIME_UPDATED:'time_updated',TYPE:'type',TYPE_NAME:'type_name',INCLUDED_CUSTOM_AUDIENCES:'included_custom_audiences',EXCLUDED_CUSTOM_AUDIENCES:'excluded_custom_audiences',LOOKALIKE_SPEC:'lookalike_spec',LOOKALIKE_AUDIENCE_IDS:'lookalike_audience_ids',CAPABILITIES:'capabilities',AUDIENCE_MANAGER_FIELDS:j()};},null);
__d("SavedTargetSpecAPIFields",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={ID:'id',AUDIENCE_ID:'audience_id',ACCOUNT_ID:'account_id',AUDIENCE_NAME:'audience_name',TARGET_SPEC:'target_spec',TIME_UPDATED_TIMESTAMP:'time_updated_timestamp',APPROXIMATE_COUNT:'approximate_count',TARGETING_SENTENCE_LINES:'targeting_sentence_lines',IS_SAVED_TARGET_SPEC:'isSavedTargetSpec'};e.exports={FIELDS:g,DEFAULT_FIELDS_FOR_AUDIENCE_MANAGER:[g.ID,g.ACCOUNT_ID,g.AUDIENCE_NAME,g.APPROXIMATE_COUNT,g.TARGET_SPEC,g.TIME_UPDATED_TIMESTAMP,g.TARGETING_SENTENCE_LINES]};},null);
__d("AdsAudienceDataLoader",["AudiencePropertyConstants","AudienceManagerUIConstants","GraphAPI","SavedTargetSpecAPIFields"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=g.AUDIENCE_MANAGER_FIELDS;k.push('external_event_source.fields(last_fired_time, name)');var l=j.DEFAULT_FIELDS_FOR_AUDIENCE_MANAGER,m=h.SAVED_AUDIENCE_API_FIELDS,n={getPromiseForAudienceUpdate:function(o,p){for(var q in p)if(p[q]===null||p[q]===(void 0))delete p[q];return i('2.2').object('audience',o).post(p);},getPromiseToDeleteAudience:function(o){return i('2.2').object('audience',o).remove();},fetchAudience:function(o){return i('2.2').object('audience',o).get({fields:k});},fetchAudiencMetadata:function(o){return i('2.2').object('audience',o).get({metadata:true});},getPromiseForSavedTargetSpecUpdate:function(o,p){return i('2.2').object('saved_target_group',o).post({name:p.name,targeting_spec:p.targetSpec});},getPromiseToRemoveCapabilities:function(o,p){return i('2.2').object('audience',o).edge('capabilities').batched().remove({adaccounts:p});},getPromiseToUpdateCapabilities:function(o,p){return i('2.2').object('audience',o).edge('capabilities').batched().post({accounts_capabilities:p});},fetchSavedTargetSpec:function(o){return i('2.2').object('saved_target_group',o).get({fields:l});},fetchSavedAudience:function(o){return i('2.2').object('saved_audience',o).get({fields:m,date_format:'U'});},fetchLookalikeNames:function(o){return i('2.2').objects('audience',o).get({fields:['name']});},fetchAppName:function(o){return i('2.2').object('app_info',o).get({fields:['name']});},fetchAdAccountNames:function(o){var p=o.map(function(q){return 'act_'+q;});return i('2.2').objects('accounts',p).get({fields:['name']});},fetchAdgroupsUsingAudience:function(o){return i('2.2').object('audience',o).edge('adgroups').batched().get({adgroup_status:['ACTIVE'],fields:['name']});}};e.exports=n;},null);
__d("AdsAudienceDataSourceUtils",["CustomAudienceDataSourceType","CustomAudienceDataSourceSubType","Map","Set","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=g,m=h,n=l.FILE_IMPORTED,o=new i([[l.UNKNOWN,k._("Inconnu")],[l.FILE_IMPORTED,k._("Fichier de donn\u00e9es")],[l.EVENT_BASED,k._("\u00c9v\u00e8nement")],[l.SEED_BASED,k._("Sosie")],[l.THIRD_PARTY_IMPORTED,k._("Fournisseur de messagerie \u00e9lectronique")],[l.COPY_PASTE,k._("Copier et coller")],[l.CLAIM_BASED,k._("Revendiquer")]]),p=new i([[m.ANYTHING,k._("N\u2019importe quoi")],[m.NOTHING,k._("Rien")],[m.HASHES,k._("Empreintes num\u00e9riques")],[m.USER_IDS,k._("Identifiants d\u2019utilisateurs")],[m.HASHES_OR_USER_IDS,k._("Empreintes num\u00e9riques et identifiants d\u2019utilisateurs")],[m.MOBILE_ADVERTISER_IDS,k._("Identifiants d\u2019annonceurs mobiles")],[m.EXTERNAL_IDS,k._("Identifiants externes")],[m.MULTI_HASHES,k._("Plusieurs empreintes num\u00e9riques")],[m.WEB_PIXEL_HITS,k._("Site web")],[m.WEB_PIXEL_COMBINATION_EVENTS,k._("Site web")],[m.MOBILE_APP_EVENTS,k._("Application")],[m.MOBILE_APP_COMBINATION_EVENTS,k._("Application")],[m.CUSTOM_AUDIENCE_USERS,k._("Audience personnalis\u00e9e")],[m.PAGE_FANS,k._("Fans de la Page")],[m.CONVERSION_PIXEL_HITS,k._("Pixels de conversion atteints")],[m.APP_USERS,k._("Utilisateurs de l\u2019application")],[m.S_EXPR,k._("Groupe cible enregistr\u00e9")],[m.MAIL_CHIMP_EMAIL_HASHES,k._("MailChimp")],[m.CONSTANT_CONTACTS_EMAIL_HASHES,k._("Contacts permanents")],[m.COPY_PASTE_EMAIL_HASHES,k._("Adresses \u00e9lectroniques")],[m.USER_PROPERTIES,k._("Propri\u00e9t\u00e9s de l\u2019utilisateur")]]),q=new j([l.CLAIM_BASED]),r=new j([m.USER_PROPERTIES]),s={TYPES:l,SUBTYPES:m,isDisallowedByDataSource:function(t){return q.has(t.type)||r.has(t.sub_type);},textByType:function(t){return o.get(t)||o.get(n);},textBySubType:function(t){return p.get(t)||'';},detailOfAudience:function(t){var u=t.data_source.type;if(!u)return '';var v;switch(u){case l.FILE_IMPORTED:v=JSON.parse(t.data_source.creation_params);return (v&&v.file_name)||'';case l.SEED_BASED:var w=t.lookalike_spec&&t.lookalike_spec.origin;if(w&&w.length){var x=w.map(function(y){return y.name;}).join(', ');return k._("Semblable \u00e0 {name}",[k.param("name",x)]);}return '';case l.THIRD_PARTY_IMPORTED:v=JSON.parse(t.data_source.creation_params);return (v&&v.list_name)||'';default:return '';}},textByDataSource:function(t){var u=s.textBySubType(t.sub_type);if(!u)u=s.textByType(t.type);if(!u)u=k._("Inconnu");return u;}};e.exports=s;},null);
__d("AdvertiserActivityLogStore",["Arbiter","copyProperties","CurrentLocale","ImmutableObject","adsDaoGraphFetch"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=b("adsDaoGraphFetch").fetch,l=h(new g(),{getLogs:function(m,n,o,p,q,r){o=o||{};o.accountId=m;o.locale=i.get();o.since=Math.floor(n.start/1000);o.until=Math.floor(n.end/1000);for(var s in o)if(o[s]===null)delete o[s];if(r)o.errorHandler=r;k.logsForAccount.one(this._processLogFromAPI.bind(null,q,p),o);},_processLogFromAPI:function(m,n,o){var p=o.after,q=o.data,r=q.map(function(t){return new j({actorID:t.actor_id,actorName:t.actor_name?t.actor_name:t.actor_id,appID:t.application_id,appName:t.application_name?t.application_name:t.application_id,actionType:t.action_type,objectID:t.object_id,objectName:t.object_name?t.object_name:t.object_id,objectType:t.object_type,eventTime:new Date(t.event_time*1000),eventType:t.event_type,translatedEventType:t.translated_event_type,extraData:JSON.parse(t.extra_data),dateTimeInTimezone:t.date_time_in_timezone});}),s=n?n.concat(r):r;m(s,p);}});e.exports=l;},null);
__d("AdsAudienceDetailActions",["AdsAMActionTypes","AdsAudienceDataLoader","AdsAudienceDataSourceUtils","AdvertiserActivityLogStore","AdsDispatcher","BusinessURI.brands","d3/time/day","XAdsCreatorController","dotAccess","isEmpty"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();'use strict';var q="adaudience",r="savedaudience",s={initializeAudienceDetails:function(t,u){h.fetchAudiencMetadata(u).then(function(x){if(x.metadata.type===q){this._initializeAudienceDetailsSavedTargetSpec(u);}else if(x.metadata.type===r){this._initializeAudienceDetailsSavedAudience(u);}else this._initializeAudienceDetailsCustomAudience(t,u);}.bind(this));var v=Date.now(),w=m.offset(v,-30).getTime();this._loadingAudienceActivities();j.getLogs(t,{start:w,end:v},{oid:u,accountId:t},null,this._initializeAudienceActivities,this._initializeAudienceActivitiesError);},_initializeAudienceDetailsCustomAudience:function(t,u){h.fetchAudience(u).then(function(v){k.handleUpdateFromInitialServer({audience:v,type:g.AUDIENCE_DETAILS_INIT_AUDIENCE});if(v.lookalike_audience_ids){this._loadAudienceLookalikeNames();this._fetchLookalikeNames(v.lookalike_audience_ids);}var w=o(v,'data_source.sub_type');if(w===i.SUBTYPES.MOBILE_APP_EVENTS||w===i.SUBTYPES.MOBILE_APP_COMBINATION_EVENTS){this._loadAudienceApp();var x=this._getAppIDFromAudience(v);this._fetchAppInformation(x);}var y=o(v,'capabilities.data.0.capabilities');if(!p(y)&&t===v.account_id){this._loadAudienceSharingInfo();this._fetchAudienceSharedWith(Object.keys(y));}else if(t!==v.account_id){this._loadAudienceSharingInfo();this._fetchAudienceSharedBy(v.account_id);}}.bind(this))["catch"](function(v){return this._errorGettingAudience(v);}.bind(this));},_fetchLookalikeNames:function(t){h.fetchLookalikeNames(t).then(function(u){k.handleUpdateFromServerResponse({lookalikeNames:u,type:g.AUDIENCE_DETAILS_GET_AUDIENCE_LOOKALIKE_NAMES});})["catch"](function(u){return this._errorGettingAudience(u);}.bind(this));},_fetchAppInformation:function(t){h.fetchAppName(t).then(function(u){k.handleUpdateFromServerResponse({appName:u.name,type:g.AUDIENCE_DETAILS_GET_AUDIENCE_APP});})["catch"](function(u){return this._errorGettingAudience(u);}.bind(this));},_fetchAudienceSharedWith:function(t){h.fetchAdAccountNames(t).then(function(u){k.handleUpdateFromServerResponse({accounts:u,type:g.AUDIENCE_DETAILS_GET_AUDIENCE_SHARED_WTIH_ACCOUNTS});})["catch"](function(u){return this._errorGettingAudience(u);}.bind(this));},_fetchAudienceSharedBy:function(t){h.fetchAdAccountNames([t]).then(function(u){k.handleUpdateFromServerResponse({actionType:g.AUDIENCE_DETAILS_GET_AUDIENCE_SHARED_BY_ACCOUNT,account:u['act_'+t]});})["catch"](function(u){return this._errorGettingAudience(u);}.bind(this));},_getAppIDFromAudience:function(t){var u='';if(t.included_custom_audiences){u=o(t,'included_custom_audiences.0.rule');}else u=t.rule;var v=JSON.parse(u.replace(/'/g,'"'));return v._application;},fetchNewlyCreatedLookalikeName:function(t){this._loadAudienceLookalikeNames();h.fetchLookalikeNames([t]).then(function(u){k.handleUpdateFromServerResponse({actionType:g.AUDIENCE_DETAILS_APPEND_LOOKALIKE_NAME,lookalikeName:u[t]});})["catch"](function(u){return this._errorGettingAudience(u);}.bind(this));},_initializeAudienceDetailsSavedTargetSpec:function(t){h.fetchSavedTargetSpec(t).then(function(u){u.isSavedTargetSpec=true;k.handleUpdateFromInitialServer({audience:u,type:g.AUDIENCE_DETAILS_INIT_AUDIENCE});})["catch"](function(u){return this._errorGettingAudience(u);}.bind(this));},_initializeAudienceDetailsSavedAudience:function(t){h.fetchSavedAudience(t).then(function(u){u.isSavedAudience=true;u.isSavedTargetSpec=true;k.handleUpdateFromInitialServer({audience:u,type:g.AUDIENCE_DETAILS_INIT_AUDIENCE});})["catch"](function(u){return this._errorGettingAudience(u);}.bind(this));},_loadAudienceLookalikeNames:function(){k.handleUpdateFromViewAction({type:g.AUDIENCE_DETAILS_LOAD_AUDIENCE_LOOKALIKE_NAMES});},_loadAudienceApp:function(){k.handleUpdateFromViewAction({type:g.AUDIENCE_DETAILS_LOAD_AUDIENCE_APP});},_loadAudienceSharingInfo:function(){k.handleUpdateFromViewAction({type:g.AUDIENCE_DETAILS_LOAD_AUDIENCE_SHARING_INFO});},_initializeAudienceActivities:function(t,u){k.handleUpdateFromServerResponse({activities:t,type:g.AUDIENCE_DETAILS_GET_AUDIENCE_ACTIVITIES});},_loadingAudienceActivities:function(){k.handleUpdateFromViewAction({type:g.AUDIENCE_DETAILS_LOAD_AUDIENCE_ACTIVITIES});},_initializeAudienceActivitiesError:function(){k.handleUpdateFromServerResponse({type:g.AUDIENCE_DETAILS_GET_AUDIENCE_ACTIVITIES_ERROR});},updateAudience:function(t,u){h.getPromiseForAudienceUpdate(t,u).then(function(v){h.fetchAudience(t).then(function(w){k.handleUpdateFromServerResponse({audience:w,type:g.AUDIENCE_DETAILS_UPDATE_AUDIENCE});})["catch"](function(w){return this._errorGettingAudience(w);}.bind(this));}.bind(this))["catch"](function(v){return this._errorUpdatingAudience(v);}.bind(this));},updateTargetSpec:function(t,u){h.getPromiseForSavedTargetSpecUpdate(t,u).then(function(v){h.fetchSavedTargetSpec(t).then(function(w){w.isSavedTargetSpec=true;k.handleUpdateFromServerResponse({audience:w,type:g.AUDIENCE_DETAILS_UPDATE_AUDIENCE});})["catch"](function(w){return this._errorGettingAudience(w);}.bind(this));}.bind(this))["catch"](function(v){return this._errorUpdatingAudience(v);}.bind(this));},deleteAudience:function(t){this._deletingAudience();h.getPromiseToDeleteAudience(t).done(function(u){k.handleUpdateFromServerResponse({type:g.AUDIENCE_DETAILS_DELETE_AUDIENCE_DONE});},function(u){k.handleUpdateFromServerResponse({type:g.AUDIENCE_DETAILS_DELETE_AUDIENCE_ERROR});});},_deletingAudience:function(){k.handleUpdateFromServerResponse({type:g.AUDIENCE_DETAILS_DELETE_AUDIENCE});},changeCapabilities:function(t,u,v){h.getPromiseToRemoveCapabilities(t,v).then(function(w){h.getPromiseToUpdateCapabilities(t,u).then(function(x){if(!p(x)){this._loadAudienceSharingInfo();this._fetchAudienceSharedWith(Object.keys(x));}}.bind(this))["catch"](function(x){return this._errorUpdatingAudience(x);}.bind(this));}.bind(this))["catch"](function(w){return this._errorUpdatingAudience(w);}.bind(this));},_errorGettingAudience:function(t){k.handleUpdateFromServerResponse({error:t,type:g.AUDIENCE_DETAILS_GET_AUDIENCE_ERROR});},_errorUpdatingAudience:function(t){k.handleUpdateFromServerResponse({error:t,type:g.AUDIENCE_DETAILS_UPDATE_AUDIENCE_ERROR});},createAdFromCustomAudience:function(t,u,v){var w={custom_audiences:[{id:t,name:u}]},x=l(n.getURIBuilder().setInt('act',v).setString('targeting_spec',JSON.stringify(w)).getURI().toString());window.open(x,'_blank');},createAdFromSavedTargetGroup:function(t,u){var v=l(n.getURIBuilder().setInt('act',u).setString('targeting_spec',JSON.stringify(t)).getURI().toString());window.open(v,'_blank');}};e.exports=s;},null);
__d("AdsAMFilterAPIParamConsts",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={TYPE:'type',SOURCE:'source',AVAILABILITY:'availability',QUICK_LOOK:'quicklook'},h={TYPE_CUSTOM_AUDIENCE:'CUSTOM_AUDIENCE',TYPE_LOOKALIKE:'LOOKALIKE',TYPE_SAVED_AUDIENCE:'SAVED_AUDIENCE',QUICKLOOK_RECENTLY_USED:'recently_used',QUICKLOOK_INACTIVE_ADS:'inactive_ads',QUICKLOOK_ACTION_NEEDED:'action_needed',QUICKLOOK_SHARED:'shared'},i={VALUES:h,UI_FIELD_NAME:g};e.exports=i;},null);
__d("AdsAMFilterValueConfig",["AdsAMFilterAPIParamConsts","AudienceManagerUIConstants","CustomAudienceDataSourceSubTypeInt","CustomAudienceDeliveryStatus","adsGKCheck","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=function(o,p,q){return {value:o,text:p,filteringParamValues:q};},n={TYPE_CUSTOM_AUDIENCE:m('TYPE_CUSTOM_AUDIENCE',h.CA_DISPLAY_NAME,[g.VALUES.TYPE_CUSTOM_AUDIENCE]),TYPE_LOOKALIKE:m('TYPE_LOOKALIKE',h.LAL_DISPLAY_NAME,[g.VALUES.TYPE_LOOKALIKE]),TYPE_SAVED_AUDIENCE:m('TYPE_SAVED_AUDIENCE',k('ads_saved_audience')?h.SAVED_AUDIENCE_DISPLAY_NAME:h.STS_DISPLAY_NAME,[g.VALUES.TYPE_SAVED_AUDIENCE]),AVAILABILITY_READY:m('AVAILABILITY_READY',l._("Pr\u00eate"),[j.ACTIVE]),AVAILABILITY_NOT_READY:m('AVAILABILITY_NOT_READY',l._("Pas pr\u00eate"),[j.INACTIVE]),AVAILABILITY_ERROR:m('AVAILABILITY_ERROR',l._("Erreur"),[j.INVALID,j.INVALID_FOR_SAME_FIRST_OR_LAST_NAME]),SOURCE_DATA_FILE:m('SOURCE_DATA_FILE',l._("Fichier de donn\u00e9es"),[i.HASHES,i.USER_IDS,i.HASHES_OR_USER_IDS,i.MOBILE_ADVERTISER_IDS,i.EXTERNAL_IDS,i.MULTI_HASHES]),SOURCE_WEBSITE:m('SOURCE_WEBSITE',l._("Site web"),[i.WEB_PIXEL_HITS,i.WEB_PIXEL_COMBINATION_EVENTS]),SOURCE_MOBILE_APP:m('SOURCE_MOBILE_APP',l._("Application mobile"),[i.MOBILE_APP_EVENTS,i.MOBILE_APP_COMBINATION_EVENTS]),SOURCE_SAVED_AUDIENCE:m('SOURCE_SAVED_AUDIENCE',h.STS_DISPLAY_NAME,[i.S_EXPR]),SOURCE_PAGE_AUDIENCE:m('SOURCE_PAGE_AUDIENCE',l._("Audience de la Page"),[i.PAGE_FANS]),SOURCE_EVENT_AUDIENCE:m('SOURCE_EVENT_AUDIENCE',l._("Audience de l\u2019\u00e9v\u00e8nement"),[i.WEB_PIXEL_HITS,i.WEB_PIXEL_COMBINATION_EVENTS,i.MOBILE_APP_EVENTS,i.MOBILE_APP_COMBINATION_EVENTS]),SOURCE_CUSTOM_AUDIENCE:m('SOURCE_CUSTOM_AUDIENCE',l._("Audience personnalis\u00e9e"),[i.CUSTOM_AUDIENCE_USERS]),SOURCE_CONVERSION_PIXEL:m('SOURCE_CONVERSION_PIXEL',l._("Pixel de conversion"),[i.CONVERSION_PIXEL_HITS]),QUICKLOOK_RECENTLY_USED:m('QUICKLOOK_RECENTLY_USED',l._("R\u00e9cemment utilis\u00e9es"),[g.VALUES.QUICKLOOK_RECENTLY_USED]),QUICKLOOK_INACTIVE_ADS:m('QUICKLOOK_INACTIVE_ADS',l._("Dans les publicit\u00e9s actives"),[g.VALUES.QUICKLOOK_INACTIVE_ADS]),QUICKLOOK_ACTION_NEEDED:m('QUICKLOOK_ACTION_NEEDED',l._("Action requise"),[g.VALUES.QUICKLOOK_ACTION_NEEDED]),QUICKLOOK_SHARED:m('QUICKLOOK_SHARED',l._("Partag\u00e9"),[g.VALUES.QUICKLOOK_SHARED])};e.exports=n;},null);
__d("AdsAMFilterFieldConfig",["AdsAMFilterAPIParamConsts","AdsAMFilterValueConfig","AdsGenericFilterFieldType","AdsGenericFilterField","AdsGenericFilterOperatorConfig","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=function(p){if(!h[p])return p;return h[p].text;},o={AUDIENCE_TYPE:{text:l._("Type"),field:new j(g.UI_FIELD_NAME.TYPE,i.STRING_SET),operators:[k.IN],values:[h.TYPE_CUSTOM_AUDIENCE,h.TYPE_LOOKALIKE,h.TYPE_SAVED_AUDIENCE],iconURI:m('/images/deprecated/glyphs/dark/friends-of-friends_s.png'),valueRenderer:n},AVAILABILITY:{text:l._("Disponibilit\u00e9"),field:new j(g.UI_FIELD_NAME.AVAILABILITY,i.STRING_SET),operators:[k.IN],values:[h.AVAILABILITY_READY,h.AVAILABILITY_ERROR,h.AVAILABILITY_NOT_READY],iconURI:m('/images/deprecated/glyphs/dark/friend-added_s.png'),valueRenderer:n},SOURCE:{text:l._("Source"),field:new j(g.UI_FIELD_NAME.SOURCE,i.STRING_SET),operators:[k.IN],values:[h.SOURCE_DATA_FILE,h.SOURCE_WEBSITE,h.SOURCE_MOBILE_APP,h.SOURCE_SAVED_AUDIENCE,h.SOURCE_PAGE_AUDIENCE,h.SOURCE_EVENT_AUDIENCE,h.SOURCE_CUSTOM_AUDIENCE,h.SOURCE_CONVERSION_PIXEL],iconURI:m('/images/deprecated/glyphs/dark/friends-of-friends_s.png'),valueRenderer:n},QUICK_LOOK:{text:l._("Aper\u00e7u rapide"),field:new j(g.UI_FIELD_NAME.QUICK_LOOK,i.STRING_SET),operators:[k.IN],values:[h.QUICKLOOK_RECENTLY_USED,h.QUICKLOOK_INACTIVE_ADS,h.QUICKLOOK_ACTION_NEEDED,h.QUICKLOOK_SHARED],iconURI:m('/images/deprecated/glyphs/dark/search_s.png'),valueRenderer:n}};e.exports=o;},null);
__d("AdsAMPresetFilterConfig",["AdsAMFilterFieldConfig","AdsAMFilterValueConfig","AdsGenericFilter","AdsGenericFilterOperator","AdsGenericFilterSet","AdsGenericFilterSetUtil"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=i,n=k,o=g,p=j.IN,q={TYPE_CUSTOM_AUDIENCE:{text:h.TYPE_CUSTOM_AUDIENCE.text,shouldCheck:l.contains,filterSet:new n([new m(o.AUDIENCE_TYPE.field,p,[h.TYPE_CUSTOM_AUDIENCE.value])])},TYPE_LOOKALIKE:{text:h.TYPE_LOOKALIKE.text,shouldCheck:l.contains,filterSet:new n([new m(o.AUDIENCE_TYPE.field,p,[h.TYPE_LOOKALIKE.value])])},TYPE_SAVED_AUDIENCE:{text:h.TYPE_SAVED_AUDIENCE.text,shouldCheck:l.contains,filterSet:new n([new m(o.AUDIENCE_TYPE.field,p,[h.TYPE_SAVED_AUDIENCE.value])])},AVAILABILITY_READY:{text:h.AVAILABILITY_READY.text,shouldCheck:l.contains,filterSet:new n([new m(o.AVAILABILITY.field,p,[h.AVAILABILITY_READY.value])])},AVAILABILITY_NOT_READY:{text:h.AVAILABILITY_NOT_READY.text,shouldCheck:l.contains,filterSet:new n([new m(o.AVAILABILITY.field,p,[h.AVAILABILITY_NOT_READY.value])])},AVAILABILITY_ERROR:{text:h.AVAILABILITY_ERROR.text,shouldCheck:l.contains,filterSet:new n([new m(o.AVAILABILITY.field,p,[h.AVAILABILITY_ERROR.value])])},SOURCE_DATA_FILE:{text:h.SOURCE_DATA_FILE.text,shouldCheck:l.contains,filterSet:new n([new m(o.SOURCE.field,p,[h.SOURCE_DATA_FILE.value])])},SOURCE_WEBSITE:{text:h.SOURCE_WEBSITE.text,shouldCheck:l.contains,filterSet:new n([new m(o.SOURCE.field,p,[h.SOURCE_WEBSITE.value])])},SOURCE_MOBILE_APP:{text:h.SOURCE_MOBILE_APP.text,shouldCheck:l.contains,filterSet:new n([new m(o.SOURCE.field,p,[h.SOURCE_MOBILE_APP.value])])},SOURCE_SAVED_AUDIENCE:{text:h.SOURCE_SAVED_AUDIENCE.text,shouldCheck:l.contains,filterSet:new n([new m(o.SOURCE.field,p,[h.SOURCE_SAVED_AUDIENCE.value])])},SOURCE_PAGE_AUDIENCE:{text:h.SOURCE_PAGE_AUDIENCE.text,shouldCheck:l.contains,filterSet:new n([new m(o.SOURCE.field,p,[h.SOURCE_PAGE_AUDIENCE.value])])},SOURCE_EVENT_AUDIENCE:{text:h.SOURCE_EVENT_AUDIENCE.text,shouldCheck:l.contains,filterSet:new n([new m(o.SOURCE.field,p,[h.SOURCE_EVENT_AUDIENCE.value])])},SOURCE_CUSTOM_AUDIENCE:{text:h.SOURCE_CUSTOM_AUDIENCE.text,shouldCheck:l.contains,filterSet:new n([new m(o.SOURCE.field,p,[h.SOURCE_CUSTOM_AUDIENCE.value])])},SOURCE_CONVERSION_PIXEL:{text:h.SOURCE_CONVERSION_PIXEL.text,shouldCheck:l.contains,filterSet:new n([new m(o.SOURCE.field,p,[h.SOURCE_CONVERSION_PIXEL.value])])},QUICKLOOK_RECENTLY_USED:{text:h.QUICKLOOK_RECENTLY_USED.text,shouldCheck:l.contains,filterSet:new n([new m(o.QUICK_LOOK.field,p,[h.QUICKLOOK_RECENTLY_USED.value])])},QUICKLOOK_INACTIVE_ADS:{text:h.QUICKLOOK_INACTIVE_ADS.text,shouldCheck:l.contains,filterSet:new n([new m(o.QUICK_LOOK.field,p,[h.QUICKLOOK_INACTIVE_ADS.value])])},QUICKLOOK_ACTION_NEEDED:{text:h.QUICKLOOK_ACTION_NEEDED.text,shouldCheck:l.contains,filterSet:new n([new m(o.QUICK_LOOK.field,p,[h.QUICKLOOK_ACTION_NEEDED.value])])},QUICKLOOK_SHARED:{text:h.QUICKLOOK_SHARED.text,shouldCheck:l.contains,filterSet:new n([new m(o.QUICK_LOOK.field,p,[h.QUICKLOOK_SHARED.value])])}};e.exports=q;},null);
__d("BUIPresetFiltersGroup",["ClientIDs"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h=function(){return 0;};function i(j,k,l,m,n,o,p){this.$BUIPresetFiltersGroup0=j;this.$BUIPresetFiltersGroup1=k;this.$BUIPresetFiltersGroup2=l;this.$BUIPresetFiltersGroup3=m||0;this.$BUIPresetFiltersGroup4=n||h;this.$BUIPresetFiltersGroup5=o||g.getNewClientID();this.$BUIPresetFiltersGroup6=!!p;}i.prototype.getTitle=function(){return this.$BUIPresetFiltersGroup0;};i.prototype.getFilters=function(){return this.$BUIPresetFiltersGroup1;};i.prototype.getID=function(){return this.$BUIPresetFiltersGroup5;};i.prototype.getMaxItemCount=function(){return this.$BUIPresetFiltersGroup3;};i.prototype.doCompare=function(j,k){return this.$BUIPresetFiltersGroup4(j,k);};i.prototype.doOnChange=function(j,k,l){this.$BUIPresetFiltersGroup2(j,k,l);};i.prototype.isHidden=function(){return this.$BUIPresetFiltersGroup6;};e.exports=i;},null);
__d("BUIPresetFiltersHeader.react",["BUIPresetFiltersGroup","Image.react","InlineBlock.react","React","cx","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=j,n=m.PropTypes,o=j.createClass({displayName:"BUIPresetFiltersHeader",propTypes:{group:n.instanceOf(g).isRequired,headerKey:n.string,hidden:n.bool,isAnyChecked:n.bool,onCheckmarkClick:n.func.isRequired,onTextClick:n.func.isRequired},render:function(){var p=this.props.hidden?l('/images/deprecated/glyphs/dark/chevron-down_s.png'):l('/images/deprecated/glyphs/dark/chevron-up_s.png'),q=this.props.hidden&&this.props.isAnyChecked,r=(("_1h6e")+(q?' '+"_48wf":'')+(this.props.isAnyChecked?' '+"_1h6h":''));return (j.createElement("div",{className:"_1h6i",onClick:this._onTextClick},j.createElement(i,{className:r,onClick:this._onCheckmarkClick}),j.createElement(i,null,j.createElement("h3",{className:"_1h6k"},this.props.children,j.createElement(h,{src:p,className:"_1h6l"})))));},_onTextClick:function(event){event.preventDefault();this.props.onTextClick(this.props.group,this.props.headerKey,!this.props.hidden);},_onCheckmarkClick:function(event){event.preventDefault();this.props.onCheckmarkClick(this.props.group);}});e.exports=o;},null);
__d("BUIPresetFiltersItem",["ClientIDs","invariant"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';function i(j,k,l,m,n,o){this.$BUIPresetFiltersItem0=j;this.$BUIPresetFiltersItem1=!!k;this.$BUIPresetFiltersItem2=!!l;this.$BUIPresetFiltersItem3=m;this.$BUIPresetFiltersItem4=n;this.$BUIPresetFiltersItem5=o||g.getNewClientID();}i.prototype.getText=function(){return this.$BUIPresetFiltersItem0;};i.prototype.isChecked=function(){return this.$BUIPresetFiltersItem1;};i.prototype.isDisabled=function(){return this.$BUIPresetFiltersItem2;};i.prototype.getFilterReference=function(){return this.$BUIPresetFiltersItem3;};i.prototype.getID=function(){return this.$BUIPresetFiltersItem5;};i.prototype.canBeDeleted=function(){return !!this.$BUIPresetFiltersItem4;};i.prototype.doOnDelete=function(){h(this.canBeDeleted());this.$BUIPresetFiltersItem4(this);};e.exports=i;},null);
__d("BUIPresetFiltersSelectableItem.react",["BUIPresetFiltersItem","InlineBlock.react","React","XUICloseButton.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=i,m=l.PropTypes,n=i.createClass({displayName:"BUIPresetFiltersSelectableItem",propTypes:{filter:m.instanceOf(g).isRequired},render:function(){var o=!!this.props.disabled,p=((!o?"_48wc":'')+(o?' '+"_48wd":'')),q=(("_48we")+(this.props.checked?' '+"_48wf":'')),r=(("_48wg")+(this.props.deletable?' '+"_48wh":'')),s=o?null:this._onClick,t=this.props.deletable?i.createElement(j,{className:"_48wi",size:"small",onClick:this._onDelete}):null;return (i.createElement("li",{className:p,onClick:s},i.createElement(h,{className:q}),i.createElement(h,{className:r},this.props.filter.getText()),t));},_onClick:function(event){event.preventDefault();this.props.onClick(this.props.filter,!this.props.checked);},_onDelete:function(event){event.preventDefault();this.props.filter.doOnDelete();}});e.exports=n;},null);
__d("BUIPresetFilters.react",["BUIPresetFiltersGroup","BUIPresetFiltersHeader.react","Image.react","ImmutableObject","BUIPresetFiltersSelectableItem.react","React","ReactComponentWithPureRenderMixin","cx","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=l,q=p.PropTypes,r=l.createClass({displayName:"BUIPresetFilters",mixins:[m],propTypes:{filterGroups:q.arrayOf(q.instanceOf(g)).isRequired},render:function(){return (l.createElement("div",{className:"_5q8w"},this.props.filterGroups.map(function(u){return l.createElement(s,{group:u,key:u.getID()});})));}}),s=l.createClass({displayName:"Section",mixins:[m],propTypes:{group:q.instanceOf(g).isRequired},getInitialState:function(){return this._calculateState(this.props,{});},componentWillReceiveProps:function(u){this.setState(this._calculateState(u,this.state));},_calculateState:function(u,v){var w=u.group,x=v.isHidden!=null?v.isHidden:w.isHidden(),y={};if(w.getMaxItemCount()){var z=w.getFilters().slice(0);z.sort(w.doCompare.bind(w));z.forEach(function(aa,ba){y[aa.getID()]=ba+1;});}return ({filterIDToRankMap:new j(y),howManyToShow:v.howManyToShow||w.getMaxItemCount(),isHidden:x});},_onHeaderClick:function(){this.setState({isHidden:!this.state.isHidden});},_getSelectedFilters:function(u,v){return this.props.group.getFilters().filter(function(w){if(w.getID()===u.getID())return v;return w.isChecked();});},_onFilterClick:function(u){var v=!u.isChecked();this.props.group.doOnChange(this._getSelectedFilters(u,v),[u],v);},_onHeaderCheckmarkClick:function(){var u=false,v=[];this.props.group.getFilters().forEach(function(w){if(w.isChecked()){v.push(w);u=true;}});if(u)this.props.group.doOnChange([],v,false);},_renderItems:function(u){return (l.createElement("ul",{className:"_5q8z"},u.map(function(v){return (l.createElement(k,{deletable:v.canBeDeleted(),disabled:v.isDisabled(),checked:v.isChecked(),filter:v,onClick:this._onFilterClick,key:v.getID()}));}.bind(this))));},_renderShowMoreLink:function(u){return l.createElement(t,{group:u,onClick:this._onShowMoreLinkClick});},_onShowMoreLinkClick:function(u){var v=this.state.howManyToShow;v+=u.getMaxItemCount();this.setState({howManyToShow:v});},render:function(){var u=this.props.group,v=u.getFilters(),w=this.state.howManyToShow,x=null,y=w&&v.length>w;if(y&&!this.state.isHidden){v=v.filter(function(z){return this.state.filterIDToRankMap[z.getID()]<=w;}.bind(this));x=this._renderShowMoreLink(u);}return (l.createElement("div",{key:u.getID(),className:"_5q8-",onMouseDown:function(event){event.preventDefault();}},l.createElement(h,{group:u,hidden:this.state.isHidden,isAnyChecked:u.getFilters().some(function(z){return z.isChecked();}),onCheckmarkClick:this._onHeaderCheckmarkClick,onTextClick:this._onHeaderClick},u.getTitle()),!this.state.isHidden?this._renderItems(v):null,x));}}),t=l.createClass({displayName:"ShowMoreLink",propTypes:{group:q.instanceOf(g).isRequired},_onClick:function(event){event.preventDefault();this.props.onClick(this.props.group);},render:function(){return (l.createElement("div",{className:"_5q8_",onClick:this._onClick},l.createElement(i,{src:o('images/deprecated/glyphs/dark/3-dots_s-2x.png')})));}});e.exports=r;},null);
__d("AdsAMPresetFilters.react",["AdsAMPresetFilterConfig","AdsGenericFilterSet","AdsGenericFilterSetUtil","BUIPresetFilters.react","BUIPresetFiltersGroup","BUIPresetFiltersItem","React","ReactComponentWithPureRenderMixin","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=m,q=p.PropTypes;function r(){return 0;}var s=m.createClass({displayName:"AdsAMPresetFilters",mixins:[n],propTypes:{filterSet:q.instanceOf(h),selectedFilters:q.arrayOf(q.instanceOf(l)),onChange:q.func.isRequired},getInitialState:function(){return this._calculateState(this.props);},componentWillReceiveProps:function(t){this.setState(this._calculateState(t));},_calculateState:function(t){var u=[this._createQuickLookSection(t),this._createTypeSection(t),this._createAvailabilitySection(t),this._createSourceSection(t)];return {filterSections:u};},_createQuickLookSection:function(t){return this._createSection(t,'quicklook',o._("Aper\u00e7u rapide"),g.QUICKLOOK_RECENTLY_USED,g.QUICKLOOK_INACTIVE_ADS,g.QUICKLOOK_ACTION_NEEDED,g.QUICKLOOK_SHARED);},_createTypeSection:function(t){return this._createSection(t,'type',o._("Type"),g.TYPE_CUSTOM_AUDIENCE,g.TYPE_LOOKALIKE,g.TYPE_SAVED_AUDIENCE);},_createAvailabilitySection:function(t){return this._createSection(t,'availability',o._("Disponibilit\u00e9"),g.AVAILABILITY_READY,g.AVAILABILITY_NOT_READY,g.AVAILABILITY_ERROR);},_createSourceSection:function(t){return this._createSection(t,'source',o._("Source"),g.SOURCE_DATA_FILE,g.SOURCE_WEBSITE,g.SOURCE_MOBILE_APP,g.SOURCE_SAVED_AUDIENCE,g.SOURCE_PAGE_AUDIENCE,g.SOURCE_EVENT_AUDIENCE,g.SOURCE_CUSTOM_AUDIENCE,g.SOURCE_CONVERSION_PIXEL);},render:function(){return m.createElement(j,{filterGroups:this.state.filterSections});},_createSection:function(t,u,v){for(var w=[],x=3,y=arguments.length;x<y;x++)w.push(arguments[x]);var z=t.filterSet,aa=w.map(function(ba){var ca=z?ba.shouldCheck(z,ba.filterSet):false,da=new l(ba.text,ca,false,ba);return da;});return new k(v,aa,this._onFiltersChange,0,r,u);},_onFiltersChange:function(t,u,v){var w=u.map(function(y){return y.getFilterReference().filterSet;}),x=w.reduce(function(y,z){return i.mergeByField(y,z);});v?this._onFilterAdded(x):this._onFilterRemoved(x);},_onFilterAdded:function(t){var u=this.props.filterSet,v=u?i.mergeByField(u,t):t;this.props.onChange(v);},_onFilterRemoved:function(t){var u=i.exclude(this.props.filterSet,t);this.props.onChange(u);}});e.exports=s;},null);
__d("AdsPixelInsights.react",["SpectrumChart","SpectrumLines","Link.react","React","SpectrumTimeScale","SpectrumStyle","SpectrumTooltipMenu","SpectrumXAxis","XUISpinner.react","SpectrumYAxis","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=j,t=s.PropTypes,u=j.createClass({displayName:"AdsPixelInsights",propTypes:{pixelId:t.string.isRequired,dao:t.object.isRequired,height:t.number.isRequired,width:t.number.isRequired},getInitialState:function(){return {dataLoaded:false,startDate:null,endDate:null,lines:[],duration:1};},componentWillMount:function(){this._loadInsightsForPixel(this.state.duration);},render:function(){if(!this.state.dataLoaded)return (j.createElement(o,{className:"_5swe",size:"small",background:"light"}));if(!this.state.lines.length)return (j.createElement("div",{className:"_5kkb"},r._("Aucun \u00e9v\u00e8nement de pixel re\u00e7u de votre site web dans la semaine pass\u00e9e")));var v=this._getSampledData(),w=null;if((this.state.lines[0].length-1)%this._getSamplingRate())w=v[0].length-1;return (j.createElement("div",null,this._renderDurationLinks(),j.createElement(g,{scaleX:k().domain([this.state.startDate,this.state.endDate]).interval(k.Intervals.Hour),height:this.props.height,width:this.props.width,theme:{lines:{colors:[l.FB_BLUE]}}},j.createElement(h,{base:'bottom',data:v,partialValue:function(x,y){return y==w;},titles:[r._("\u00c9v\u00e8nements de pixel")],valueX:function(x,y){return new Date(x[0]);},valueY:function(x,y){return x[1]||0;}}),j.createElement(n,{ticks:v[0].length,secondaryTicks:true}),j.createElement(p,null),j.createElement(m,null))));},_renderDurationLinks:function(){return (j.createElement("div",null,j.createElement("div",{className:"_1uju _1ujv"},this._renderLinkIfNeeded(r._("Derni\u00e8res 24 heures"),1)),j.createElement("div",{className:"_1uju _1ujv"},this._renderLinkIfNeeded(r._("7 derniers jours"),7)),j.createElement("div",{className:"_1ujw"})));},_renderLinkIfNeeded:function(v,w){if(this.state.duration===w)return v;return (j.createElement(i,{onClick:this._loadInsightsForPixel.bind(this,w)},v));},_loadInsightsForPixel:function(v){this.props.dao.fetch.pixelInsights.one(function(w){if(!w.length){this.setState({dataLoaded:true});return;}var x=w[w.length-1].timestamp,y=w[0].timestamp,z=[[]];for(var aa=0,ba=w.length;aa<ba;aa++)z[0].push([w[aa].timestamp,parseInt(w[aa].data[0].count,10)]);this.setState({dataLoaded:true,startDate:new Date(y),endDate:new Date(x),lines:z,duration:v});}.bind(this),{pixelId:this.props.pixelId,start_time:'-'+v+' days',aggregation:'pixel_fire'});},_getSampledData:function(){var v=this._getSamplingRate(),w=this.state.lines[0],x=[];for(var y=0;y<w.length;y++)if(y%v===0)x.push(w[y]);if((w.length-1)%v)x.push(w[w.length-1]);return [x];},_getSamplingRate:function(){return this.state.duration===1?3:6;}});e.exports=u;},null);
__d("AudienceManagerColumnHeaderRenderers",["AdsAMAudienceActions","AudienceManagerUIConstants","React","FixedDataTableSortableHeader.react","React","cx"],function(a,b,c,d,e,f,g,h,i,j,i,k){b.__markCompiled&&b.__markCompiled();var l=h.ALIGN,m=h.SORT_ORDER,n=function(p){var q=p.headerAlign;if(!q)return null;return ((q===l.CENTER?"_2csv":'')+(q===l.LEFT?' '+"_3ohp":'')+(q===l.RIGHT?' '+"_3ohq":''));},o={renderHeader:function(p,q,r,s){p=p?i.createElement("div",{className:n(r)},p):null;return p;},renderSortableHeader:function(p,q,r,s){var t=r.currentSortState.sortKey===r.sortKey,u=t?r.currentSortState.sortOrder:null,v=function(){var w=(t&&r.currentSortState.sortOrder===m.ASC)?m.DESC:m.ASC;g.sortAudience(w,r.sortKey,r.compareFunction);};return (i.createElement(j,{className:n(r),sorting:u,onClick:v},p));}};e.exports=o;},null);
__d("AudienceManagerFBCustomAudienceTerm.react",["BusinessURI.brands","Link.react","React","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=i,l=k.PropTypes,m=i.createClass({displayName:"AudienceManagerFBCustomAudienceTerm",propTypes:{accountID:l.string.isRequired,termsAccepted:l.bool.isRequired,onTermsCheckboxChanged:l.func.isRequired},render:function(){return (i.createElement("input",{type:"checkbox",checked:this.props.termsAccepted,onChange:this.props.onTermsCheckboxChanged},j._("J\u2019accepte les {link}",[j.param("link",i.createElement(h,{target:"_blank",href:g('/ads/manage/customaudiences/tos.php?act='+this.props.accountID)},"Facebook Custom Audiences Terms"))])));}});e.exports=m;},null);
__d("FBActionSelector.react",["ContextualLayer.react","LayerHideOnBlur","Link.react","React","ReactChildren","ReactLayeredComponentMixin","XUIPopoverButton.react","cloneWithProps","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();'use strict';var q=j,r=q.PropTypes,s=j.createClass({displayName:"FBActionSelector",mixins:[l],statics:{getButtonSize:function(t){return m.getButtonSize(t);}},propTypes:{alignment:r.oneOf(['left','right','center']),disabled:r.bool,maxHeight:r.number,onAction:r.func.isRequired,position:r.oneOf(['above','below','left','right']),size:r.oneOf(['small','medium','large','xlarge','xxlarge'])},getInitialState:function(){return {showMenu:false};},render:function(){var t=this.props,u=t.className,v=t.disabled,w=t.use,x=(function(y,z){var aa={},ba=Object.prototype.hasOwnProperty;if(y==null)throw new TypeError();for(var ca in y)if(ba.call(y,ca)&&!ba.call(z,ca))aa[ca]=y[ca];return aa;})(t,{className:1,disabled:1,use:1});u=p("_hbk","_hbl",u);w=w||'default';return (j.createElement(m,j.__spread({},x,{className:u,depressed:w=='default'&&this.state.showMenu,disabled:v,onClick:v?null:this._showMenu,ref:"menuOpener",use:w})));},renderLayers:function(){if(this.state.showMenu&&!this.props.disabled){var t=k.map(this.props.children,function(v,w){return n(v,{optionName:'option_'+w,onOptionSelect:this._onOptionSelect});}.bind(this)),u=this.props.maxHeight?{maxHeight:this.props.maxHeight,overflow:'auto'}:undefined;return {layer:j.createElement(g,{alignment:this.props.alignment,key:"menu",behaviors:{LayerHideOnBlur:h},contextRef:"menuOpener",position:this.props.position?this.props.position:"below",onToggle:this._onMenuToggle,shown:true},j.createElement("div",{className:"_hbm",style:u,role:"menu"},t))};}else return null;},_showMenu:function(){if(!this.state.showMenu)this.setState({showMenu:true});},_removeMenu:function(){if(this.state.showMenu&&this.isMounted())this.setState({showMenu:false});},_onMenuToggle:function(t){if(!t)setTimeout(this._removeMenu,16);},_onOptionSelect:function(t){this.setState({showMenu:false});this.props.onAction(t);}});s.Option=j.createClass({displayName:"Option",propTypes:{value:r.string.isRequired,disabled:r.bool},render:function(){if(this.props.disabled)return (j.createElement("div",j.__spread({},this.props,{className:"_hbn"}),this.props.children));return (j.createElement(i,j.__spread({},this.props,{className:"_hbo",onClick:this._onClick}),this.props.children));},_onClick:function(event){event.preventDefault();this.props.onOptionSelect(this.props.value);}});s.Separator=j.createClass({displayName:"Separator",render:function(){return j.createElement("div",{className:"_hbp"});}});e.exports=s;},null);
__d("AdsCreateAudienceActionSelector.react",["AudienceManagerUIConstants","FBActionSelector.react","React","adsGKCheck","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=i,m=l.PropTypes,n=h.Option,o=g.CREATE_AUDIENCE_ACTION_TYPE,p=i.createClass({displayName:"AdsCreateAudienceActionSelector",propTypes:{onAction:m.func.isRequired,disabled:m.bool,supportSavedTargetSpec:m.bool.isRequired},render:function(){var q=k._("Cr\u00e9er une audience");return (i.createElement(h,i.__spread({use:"special"},this.props,{label:q}),this._getSelectorOption()));},_getSelectorOption:function(){var q=[i.createElement(n,{value:o.CUSTOM_AUDIENCE,key:o.CUSTOM_AUDIENCE},k._("Audience personnalis\u00e9e")),i.createElement(n,{value:o.LOOKALIKE,key:o.LOOKALIKE},k._("Audience similaire")),this._getSavedTargetSpecOption()];return q;},_getSavedTargetSpecOption:function(){if(j('ads_saved_audience'))return (i.createElement(n,{key:o.SAVED_AUDIENCE,value:o.SAVED_AUDIENCE},g.SAVED_AUDIENCE_DISPLAY_NAME));return (i.createElement(n,{key:o.SAVED_TARGET_SPEC,value:o.SAVED_TARGET_SPEC},g.STS_DISPLAY_NAME));}});e.exports=p;},null);
__d("AudienceManagerPETopNavigation.react",["AdsCreateAudienceActionSelector.react","LeftRight.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=i,m=l.PropTypes,n=i.createClass({displayName:"AudienceManagerPETopNavigation",propTypes:{accountID:m.string.isRequired,onAction:m.func.isRequired,canWrite:m.bool.isRequired,isBlankState:m.bool.isRequired},render:function(){var o=this.props.isBlankState?i.createElement("div",null):i.createElement(g,{onAction:this.props.onAction,disabled:!this.props.canWrite,supportSavedTargetSpec:true});return (i.createElement("div",{className:"_2pi3 _2pia"},i.createElement(h,null,i.createElement("div",{className:"_3dke"},k._("Accueil de l\u2019audience")),o)));}});e.exports=n;},null);
__d("AudienceManagerPopoverButton.react",["ContextualLayer.react","LayerHideOnBlur","React","ReactLayeredComponentMixin","XUIButton.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=i,n=m.PropTypes,o=i.createClass({displayName:"AudienceManagerPopoverButton",mixins:[j],propTypes:{label:n.string.isRequired},getInitialState:function(){return {showLayer:false};},render:function(){return (i.createElement(k,{use:this.props.use,ref:"layerButton",onClick:this._showLayer,label:this.props.label}));},_showLayer:function(){if(!this.state.showLayer)this.setState({showLayer:true});},_hideLayer:function(){if(this.state.showLayer)this.setState({showLayer:false});},renderLayers:function(){if(!this.state.showLayer)return null;return {layer:i.createElement(g,{alignment:this.props.alignment,key:"layerContent",behaviors:{LayerHideOnBlur:h},contextRef:"layerButton",position:"below",onToggle:this._handleLayerToggle,shown:true},i.createElement("div",{className:"_50dm"},this.props.children))};},_handleLayerToggle:function(p){if(!p)setTimeout(this._hideLayer,20);}});e.exports=o;},null);
__d("AudienceManagerSearchBar.react",["Keys","Link.react","React","XUITextInput.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=i,n=m.PropTypes,o=i.createClass({displayName:"AudienceManagerSearchBar",propTypes:{onKeywordsChanged:n.func.isRequired,onKeywordsComplete:n.func.isRequired},render:function(){return (i.createElement("div",{className:"_1q48"},i.createElement(j,{className:"_1q49",placeholder:l._("Rechercher par nom"),onKeyUp:this._handleKeyUp}),i.createElement(h,{className:"_1q4a",onClick:this.props.onKeywordsComplete})));},_handleKeyUp:function(event){if(event.keyCode!==g.RETURN){this.props.onKeywordsChanged(event);return;}event.preventDefault();this.props.onKeywordsComplete(event);}});e.exports=o;},null);
__d("AdsAMAudienceUtils",["AdsAudienceDataSourceUtils","AudienceManagerUIConstants","BusinessURI.brands"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j='/ads/audience/details',k={isSavedTargetSpec:function(l){return !!l.isSavedTargetSpec;},isSavedAudience:function(l){return !!l.isSavedAudience;},getAudienceDetailsURI:function(l,m){var n=new i(j);n.addQueryData({audience_id:l,act:m});return n;},getAudienceType:function(l){if(k.isSavedTargetSpec(l))if(k.isSavedAudience(l)){return h.SAVED_AUDIENCE_DISPLAY_NAME;}else return h.STS_DISPLAY_NAME;var m=l.data_source;switch(m.type){case g.TYPES.SEED_BASED:return h.LAL_DISPLAY_NAME;case g.TYPES.CLAIM_BASED:return h.PRODUCT_AUDIENCE_DISPLAY_NAME;default:return h.CA_DISPLAY_NAME;}}};e.exports=k;},null);
__d("AdsAMViewStore",["AdsAMActionTypes","AdsAMDispatcher","Arbiter","ImmutableObject","StrSet","copyProperties","dotAccess"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n,o,p,q,r,s,t,u,v,w,x;function y(){n={showCreateCustomAudienceDialog:false,showDeleteDialog:false,showPixelDialog:false,showRegularEditDialog:false,showSavedAudienceEditDialog:false,showSavedAudienceCreateDialog:false,showWCADialog:false,showMACADialog:false,showShareDialog:false,showLookalikeDialog:false,showSavedTargetSpecDialog:false,showBulkDeleteDialog:false,showOptOutDialog:false,showFilterPane:false};o=null;p=null;q=null;r=null;s={name:true,type:true,source:true,size:true,status:true,dateCreated:true,audienceID:false,sharing:false,debug:true};t=false;u=false;v=null;w=false;x=new k();}y();var z=l(new i(),{getViewState:function(){return new j(n);},getAudienceIdClicked:function(){return o;},hasFilterContent:function(){return w;},getNameFilter:function(){return p?p.name:null;},setNameFilter:function(aa){w=true;p=p||{};p.name=aa;},getCustomAudienceAfterCursor:function(){return q;},getSavedTargetSpecAfterCursor:function(){return r;},getColumnsShown:function(){return s;},getFilterSet:function(){return v;},getSelectedAudienceIDs:function(){return x.toArray();},isFiltering:function(){return t;},isLoadingMoreAudiences:function(){return u;},dispatchToken:h.register(function(aa){var ba=aa.action,ca=true;switch(ba.actionType){case g.VIEW_SHOW_CREATE_CA_DIALOG:n.showCreateCustomAudienceDialog=true;break;case g.VIEW_CLOSE_CREATE_CA_DIALOG:n.showCreateCustomAudienceDialog=false;break;case g.VIEW_SHOW_DELETE_AUDIENCE_DIALOG:n.showDeleteDialog=true;o=ba.audienceId;break;case g.VIEW_CLOSE_DELETE_AUDIENCE_DIALOG:n.showDeleteDialog=false;o=null;break;case g.VIEW_SHOW_PIXEL_DIALOG:n.showPixelDialog=true;o=ba.audienceId;break;case g.VIEW_CLOSE_PIXEL_DIALOG:n.showPixelDialog=false;break;case g.VIEW_SHOW_REGULAR_EDIT_DIALOG:n.showRegularEditDialog=true;o=ba.audienceId;break;case g.VIEW_CLOSE_REGULAR_EDIT_DIALOG:n.showRegularEditDialog=false;o=null;break;case g.VIEW_SHOW_WCA_DIALOG:n.showWCADialog=true;o=ba.audienceId;break;case g.VIEW_CLOSE_WCA_DIALOG:n.showWCADialog=false;o=null;break;case g.VIEW_SHOW_MACA_DIALOG:n.showMACADialog=true;break;case g.VIEW_CLOSE_MACA_DIALOG:n.showMACADialog=false;break;case g.VIEW_SHOW_SHARE_AUDIENCE_DIALOG:n.showShareDialog=true;o=ba.audienceId;break;case g.VIEW_CLOSE_SHARE_AUDIENCE_DIALOG:n.showShareDialog=false;o=null;break;case g.VIEW_SHOW_LOOKALIKE_DIALOG:n.showLookalikeDialog=true;o=ba.audienceId;break;case g.VIEW_CLOSE_LOOKALIKE_DIALOG:n.showLookalikeDialog=false;o=null;break;case g.VIEW_SHOW_SAVED_AUDIENCE_EDIT_DIALOG:n.showSavedAudienceEditDialog=true;o=ba.audienceId;break;case g.VIEW_CLOSE_SAVED_AUDIENCE_EDIT_DIALOG:n.showSavedAudienceEditDialog=false;break;case g.VIEW_SHOW_SAVED_AUDIENCE_CREATE_DIALOG:n.showSavedAudienceCreateDialog=true;break;case g.VIEW_CLOSE_SAVED_AUDIENCE_CREATE_DIALOG:n.showSavedAudienceCreateDialog=false;break;case g.VIEW_SHOW_SAVED_TARGET_SPEC_DIALOG:n.showSavedTargetSpecDialog=true;o=ba.audienceId;break;case g.VIEW_CLOSE_SAVED_TARGET_SPEC_DIALOG:n.showSavedTargetSpecDialog=false;o=null;break;case g.VIEW_SHOW_BULK_DELETE_DIALOG:n.showBulkDeleteDialog=true;break;case g.VIEW_CLOSE_BULK_DELETE_DIALOG:n.showBulkDeleteDialog=false;break;case g.VIEW_SHOW_OPT_OUT_DIALOG:n.showOptOutDialog=true;o=ba.audienceId;break;case g.VIEW_CLOSE_OPT_OUT_DIALOG:n.showOptOutDialog=false;o=null;break;case g.VIEW_CUSTOM_AUDIENCE_CURSOR_CHANGE:if(m(ba,'paging.cursors.after')){q=m(ba,'paging.cursors.after');}else q=null;ca=false;break;case g.VIEW_SAVED_TARGET_SPEC_CURSOR_CHANGE:if(m(ba,'paging.cursors.after')){r=m(ba,'paging.cursors.after');}else r=null;ca=false;break;case g.VIEW_INIT_COLUMN_DISPLAY:s=ba.columnsShown;ca=false;break;case g.VIEW_COLUMN_DISPLAY_CHANGE:s[ba.column]=ba.show;break;case g.VIEW_SHOW_FILTER_PANE:n.showFilterPane=true;break;case g.VIEW_HIDE_FILTER_PANE:n.showFilterPane=false;break;case g.VIEW_UPDATE_FILTER_SET:w=true;v=ba.filterSet;break;case g.VIEW_UPDATE_FILTERING_STATE:t=ba.isFiltering;break;case g.VIEW_UPDATE_LOADING_MORE_AUDIENCES:u=ba.isLoadingMoreAudiences;break;case g.VIEW_CLICK_AUDIENCE_CHECKBOX:if(ba.selected){x.add(ba.audienceID);}else x.remove(ba.audienceID);break;case g.VIEW_CLEAR_AUDIENCE_SELECTION:x=new k();break;default:ca=false;break;}if(ca)z.inform('change');})});e.exports=z;},null);
__d("AdsSavedAudienceActionTypes",["ImmutableObject","keyMirrorRecursive"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=new g(h({SAVED_AUDIENCE:{BATCH_CREATED:null,BATCH_CREATE_ERROR:null,BATCH_DELETED:null,BATCH_DELETE_ERROR:null,BATCH_LOADED:null,BATCH_LOAD_ERROR:null,BATCH_UPDATED:null,BATCH_UPDATE_ERROR:null,CREATE_BATCH:null,DELETE_BATCH:null,UPDATE_BATCH:null,LIST:{LOADED:null,LOAD_ERROR:null,PARTIAL_LOAD:null}},VIEW:{CLEAR_SYNC_ERROR:null}}));e.exports=i;},null);
__d("AdsSavedAudienceActions",["AdsDispatcher","AdsSavedAudienceActionTypes"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i={savedAudiencesLoaded:function(j){g.handleUpdateFromServerResponse({savedAudiences:j,type:h.SAVED_AUDIENCE.BATCH_LOADED});},savedAudiencesLoadError:function(j){g.handleUpdateFromServerResponse({errors:j,type:h.SAVED_AUDIENCE.BATCH_LOAD_ERROR});},savedAudienceListLoaded:function(j,k){g.handleUpdateFromServerResponse({accountID:j,savedAudiences:k,type:h.SAVED_AUDIENCE.LIST.LOADED});},savedAudienceListLoadError:function(j){g.handleUpdateFromServerResponse({accountID:j,type:h.SAVED_AUDIENCE.LIST.LOAD_ERROR});},savedAudienceListPartialLoad:function(j,k){g.handleUpdateFromServerResponse({accountID:j,savedAudiences:k,type:h.SAVED_AUDIENCE.LIST.PARTIAL_LOAD});},createSavedAudiences:function(j){g.handleUpdateFromViewAction({savedAudiences:j,type:h.SAVED_AUDIENCE.CREATE_BATCH});},savedAudiencesCreated:function(j){g.handleUpdateFromServerResponse({savedAudiences:j,type:h.SAVED_AUDIENCE.BATCH_CREATED});},savedAudiencesCreateError:function(j){g.handleUpdateFromServerResponse({errors:j,type:h.SAVED_AUDIENCE.BATCH_CREATE_ERROR});},updateSavedAudiences:function(j){g.handleUpdateFromViewAction({savedAudiences:j,type:h.SAVED_AUDIENCE.UPDATE_BATCH});},savedAudiencesUpdated:function(j){g.handleUpdateFromServerResponse({savedAudiences:j,type:h.SAVED_AUDIENCE.BATCH_UPDATED});},savedAudiencesUpdateError:function(j){g.handleUpdateFromServerResponse({errors:j,type:h.SAVED_AUDIENCE.BATCH_UPDATE_ERROR});},deleteSavedAudiences:function(j){g.handleUpdateFromViewAction({savedAudienceIDs:j,type:h.SAVED_AUDIENCE.DELETE_BATCH});},savedAudiencesDeleted:function(j){g.handleUpdateFromServerResponse({savedAudienceIDs:j,type:h.SAVED_AUDIENCE.BATCH_DELETED});},savedAudiencesDeleteError:function(j){g.handleUpdateFromServerResponse({errors:j,type:h.SAVED_AUDIENCE.BATCH_DELETE_ERROR});}};e.exports=i;},null);
__d("AdsSavedAudienceDataManager",["AdsAPIAdAccountFields","AdsBaseDataManager","AdsSavedAudienceActions","AdsTargetingSavedAudienceDataLoader","GraphAPI","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';for(var m in h)if(h.hasOwnProperty(m))o[m]=h[m];var n=h===null?null:h.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=h;function o(){if(h!==null)h.apply(this,arguments);}o.prototype.loadAll=function(p){p.forEach(function(q){return this.load(q);}.bind(this));};o.prototype.load=function(p){j.loadSavedAudienceByID(p).done(function(q){return this.__handleSuccess(['load'],p,null,q);}.bind(this),function(q){return this.__handleError(['load'],p,null,q);}.bind(this));};o.prototype.__onBatchLoaded=function(p){i.savedAudiencesLoaded(p);};o.prototype.__onBatchLoadError=function(p){i.savedAudiencesLoadError(p);};o.prototype.__onBatchCreated=function(p){i.savedAudiencesCreated(p);};o.prototype.__onBatchCreateError=function(p){i.savedAudiencesCreateError(p);};o.prototype.__onBatchUpdated=function(p){i.savedAudiencesUpdated(p);};o.prototype.__onBatchUpdateError=function(p){i.savedAudiencesUpdateError(p);};o.prototype.__onBatchDeleted=function(p){i.savedAudiencesDeleted(Array.from(p.keys()));};o.prototype.__onBatchDeleteError=function(p){i.savedAudiencesDeleteError(p);};o.prototype.__getObjectTypeLabel=function(){return (l._("Audience sauvegard\u00e9e"));};o.prototype.create=function(p){k('2.2').adaccount(p.accountID).edge(g.SAVED_AUDIENCES).batched().post({name:p.name,targeting:p.targeting}).done(function(q){this.__handleSuccess(['create'],p.tempID,null,{accountID:p.accountID,id:q.id,name:p.name,targeting:p.targeting,tempID:p.tempID});}.bind(this),function(q){q.accountID=p.accountID;this.__handleError(['create'],p.tempID,null,q);}.bind(this));};o.prototype.update=function(p){k('2.2').object('saved_audience',p.id).batched().post({name:p.name,targeting:p.targeting}).done(function(q){this.__handleSuccess(['update'],p.id,null,{id:p.id,name:p.name,targeting:p.targeting,sync_status:q.sync_status});}.bind(this),function(q){this.__handleError(['update'],p.id,null,q);}.bind(this));};o.prototype["delete"]=function(p){k('2.2').object('saved_audience',p).batched().remove().done(function(q){this.__handleSuccess(['delete'],p,null,{id:p});}.bind(this),function(q){this.__handleError(['delete'],p,null,q);}.bind(this));};e.exports=new o();},null);
__d("AdsSavedAudienceStore",["AdsBaseDataStore","AdsLoadState","AdsSavedAudienceActionTypes","AdsSavedAudienceDataManager"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';for(var k in g)if(g.hasOwnProperty(k))m[k]=g[k];var l=g===null?null:g.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=g;function m(){if(g!==null)g.apply(this,arguments);}m.prototype.getDataManager=function(){return j;};m.prototype.onDispatchToken=function(n){var o=n.action,p=[];switch(o.actionType){case i.SAVED_AUDIENCE.BATCH_LOADED:this.__handleData(o.savedAudiences,h.LOADED);break;case i.SAVED_AUDIENCE.BATCH_CREATED:this.__handleData(o.savedAudiences,h.LOADED);p=this.$AdsSavedAudienceStore0(o.savedAudiences);this.getAll(p);break;case i.SAVED_AUDIENCE.BATCH_UPDATED:p=this.$AdsSavedAudienceStore0(o.savedAudiences);this.__invalidateAll(p);this.getAll(p);break;case i.SAVED_AUDIENCE.BATCH_DELETED:this.__invalidateAll(o.savedAudienceIDs);break;case i.SAVED_AUDIENCE.BATCH_CREATE_ERROR:case i.SAVED_AUDIENCE.BATCH_DELETE_ERROR:case i.SAVED_AUDIENCE.BATCH_LOAD_ERROR:case i.SAVED_AUDIENCE.BATCH_UPDATE_ERROR:this.__handleData(o.errors,h.ERROR);break;case i.SAVED_AUDIENCE.CREATE_BATCH:this.__updateLoading(o.savedAudiences.map(function(q){return q.tempID;}));o.savedAudiences.forEach(function(q){return j.create(q);});break;case i.SAVED_AUDIENCE.DELETE_BATCH:o.savedAudienceIDs.forEach(function(q){return this.__delete(q);}.bind(this));break;case i.SAVED_AUDIENCE.UPDATE_BATCH:this.__updatePendingWrite(o.savedAudiences.map(function(q){return q.id;}));o.savedAudiences.forEach(function(q){return j.update(q);});break;}};m.prototype.$AdsSavedAudienceStore0=function(n){var o=Array.from(n.values()),p=o.map(function(q){return q.id;});return p;};e.exports=new m();},null);
__d("AudienceManagerSavedTargetSpecUtils",["AdsAPIObjectives"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=['AudienceEditor','LocationEditor','AgeEditor','GenderEditor','LanguagesEditor','AdvancedDemographicsDropdownEditor','SectionDivider','InterestsEditor','SectionDivider','BehaviorsEditor','SectionDivider','CategoriesEditor','ConnectionsEditor'],i=['AudienceEditor','LocationEditor','AgeEditor','GenderEditor','LanguagesEditor','AdvancedDemographicsDropdownEditor','SectionDivider','InterestsEditor','SectionDivider','BehaviorsEditor','SectionDivider','CategoriesEditor','ConnectionsEditor'],j=['TargetingSentences'],k={getDetailsViewConfiguration:function(){var l=h.map(function(m){return {component:m};});return l;},getDialogLeftSideConfiguration:function(){var l=i.map(function(m){return {component:m};});return l;},getDialogRightSideConfiguration:function(){var l=j.map(function(m){return {component:m};});return l;},getExtraData:function(l,m){return {accountID:l,dao:m,objectiveData:{shouldDisableInclusion:true,isObjectiveAppStoreMedia:true,objective:g.MOBILE_APP_INSTALLS},destinationData:{}};},validateSpec:function(l){var m=l.geo_locations||l.custom_audiences;return !!m;},toLegacy:function(l){return Object.assign({},l,{isSavedTargetSpec:true,targeting_sentence_lines:l.sentence_lines,target_spec:l.targeting,time_updated_timestamp:l.time_updated||0});}};e.exports=k;},null);
__d("AudienceManagerErrorTypes",["keyMirror"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g({ACCOUNT_INIT:null,AUDIENCE_INIT:null,AUDIENCE_DELETE:null,AUDIENCE_ADD:null,AUDIENCE_UPDATE:null,AUDIENCE_GET:null,CAPABILITY_REMOVE:null,CAPABILITY_UPDATE:null,PIXEL_GET:null,STS_GET:null}),i=g({INIT_ERRORS:null,NON_INIT_ERRORS:null}),j={};j[i.INIT_ERRORS]=[h.ACCOUNT_INIT,h.AUDIENCE_INIT,h.PIXEL_GET];j[i.NON_INIT_ERRORS]=[h.AUDIENCE_DELETE,h.AUDIENCE_UPDATE,h.AUDIENCE_ADD,h.AUDIENCE_GET,h.CAPABILITY_REMOVE,h.CAPABILITY_UPDATE];e.exports={Errors:h,ErrorTypes:i,ErrorTypeToErrors:j};},null);
__d("FixedDataTableSortFunctions",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(j,k){if(j>k)return 1;if(j<k)return -1;return 0;}function h(j,k){if(j!==null&&j!==(void 0)&&k!==null&&k!==(void 0))return null;j=(j===null||j===(void 0))?1:0;k=(k===null||k===(void 0))?1:0;return j-k;}var i={compareNumber:function(j,k){var l=h(j,k);if(l===null)l=parseFloat(j)-parseFloat(k);return l;},compareString:function(j,k){var l=h(j,k);if(l===null)l=g(j.toLowerCase(),k.toLowerCase());return l;},compareDate:function(j,k){var l=h(j,k);if(l===null)l=j.getTime()-k.getTime();return l;}};e.exports=i;},null);
__d("AdsAMAudienceStore",["AdsAMActionTypes","AdsAMAudienceUtils","AdsBaseStore","AdsDispatcher","AdsSavedAudienceActionTypes","AdsSavedAudienceStore","AudienceManagerSavedTargetSpecUtils","AudienceManagerUIConstants","AudiencePropertyConstants","FixedDataTableSortFunctions","ImmutableObject","invariant","merge","AudienceManagerErrorTypes"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();'use strict';var t=b('AudienceManagerErrorTypes').ErrorTypeToErrors,u=n.SORT_ORDER;for(var v in i)if(i.hasOwnProperty(v))x[v]=i[v];var w=i===null?null:i.prototype;x.prototype=Object.create(w);x.prototype.constructor=x;x.__superConstructor__=i;function x(){i.call(this);this.$AdsAMAudienceStoreClass0={};this.$AdsAMAudienceStoreClass1={customAudiences:[],savedTargetSpecs:[]};this.$AdsAMAudienceStoreClass2();this.$AdsAMAudienceStoreClass3();}x.prototype.$AdsAMAudienceStoreClass2=function(){this.$AdsAMAudienceStoreClass4=false;this.$AdsAMAudienceStoreClass5={};this.$AdsAMAudienceStoreClass6={sortOrder:u.DESC,sortKey:o.TIME_CREATED,compareFunction:p.compareNumber};};x.prototype.$AdsAMAudienceStoreClass3=function(){this.$AdsAMAudienceStoreClass7=false;this.$AdsAMAudienceStoreClass8={};};x.prototype.$AdsAMAudienceStoreClass9=function(z){z[o.NAME]=z.audience_name||z.name;if(!z[o.TIME_CREATED])z[o.TIME_CREATED]=z.time_updated_timestamp;};x.prototype.$AdsAMAudienceStoreClassa=function(z){(z||[]).forEach(function(aa){if(h.isSavedTargetSpec(aa))this.$AdsAMAudienceStoreClass9(aa);this.$AdsAMAudienceStoreClass5[aa.id]=aa;}.bind(this));};x.prototype.$AdsAMAudienceStoreClassb=function(z,aa){this.$AdsAMAudienceStoreClass5[z]=s(this.$AdsAMAudienceStoreClass5[z],aa);};x.prototype.$AdsAMAudienceStoreClassc=function(z,aa){var ba=this.$AdsAMAudienceStoreClass6.compareFunction(z[this.$AdsAMAudienceStoreClass6.sortKey],aa[this.$AdsAMAudienceStoreClass6.sortKey]);return this.$AdsAMAudienceStoreClass6.sortOrder===u.ASC?ba:-ba;};x.prototype.getState=function(z){var aa=this.$AdsAMAudienceStoreClass5[z];r(aa);return new q(aa);};x.prototype.getAllAudiences=function(){var z=[];for(var aa in this.$AdsAMAudienceStoreClass5)z.push(new q(this.$AdsAMAudienceStoreClass5[aa]));z.sort(function(ba,ca){return this.$AdsAMAudienceStoreClassc(ba,ca);}.bind(this));return z;};x.prototype.hasAllContent=function(){return this.$AdsAMAudienceStoreClass4&&this.$AdsAMAudienceStoreClass7;};x.prototype.hasError=function(z){return !!this.$AdsAMAudienceStoreClass0[z];};x.prototype.getErrorsByType=function(z){var aa=[],ba=t[z]||[];for(var ca=0;ca<ba.length;ca++)if(this.$AdsAMAudienceStoreClass0[ba[ca]])aa.push(this.$AdsAMAudienceStoreClass0[ba[ca]]);return aa;};x.prototype.getAccount=function(){return new q(this.$AdsAMAudienceStoreClass8);};x.prototype.getSortState=function(){return this.$AdsAMAudienceStoreClass6;};x.prototype.getCustomAudiencesFromBuffer=function(){return this.$AdsAMAudienceStoreClass1.customAudiences;};x.prototype.getSavedTargetSpecFromBuffer=function(){return this.$AdsAMAudienceStoreClass1.savedTargetSpecs;};x.prototype.$AdsAMAudienceStoreClassd=function(z){var aa=l.getAll(z);aa.forEach(function(ba){ba=m.toLegacy(ba);ba.isSavedAudience=true;this.$AdsAMAudienceStoreClassb(ba.id,ba);}.bind(this));};x.prototype.onDispatchToken=function(z){var aa=z.action,ba=false;switch(aa.actionType){case g.ACCOUNT_INIT:this.$AdsAMAudienceStoreClass3();this.$AdsAMAudienceStoreClass8=aa.account;this.$AdsAMAudienceStoreClass7=true;ba=true;break;case g.AUDIENCE_INIT:this.$AdsAMAudienceStoreClass2();this.$AdsAMAudienceStoreClassa(aa.audiences);this.$AdsAMAudienceStoreClass4=true;ba=true;break;case g.AUDIENCE_ADD:this.$AdsAMAudienceStoreClassa([aa.audience]);ba=true;break;case g.AUDIENCE_BULK_ADD:this.$AdsAMAudienceStoreClassa(aa.audiences);ba=true;break;case g.AUDIENCE_DELETE:delete this.$AdsAMAudienceStoreClass5[aa.audience.id];ba=true;break;case g.AUDIENCE_BULK_DELETE:aa.audiences.forEach(function(da){delete this.$AdsAMAudienceStoreClass5[da.id];}.bind(this));ba=true;break;case g.AUDIENCE_CHANGE:this.$AdsAMAudienceStoreClassb(aa.audienceID,aa.changedProperties);ba=true;break;case g.AUDIENCE_SAVE_TO_CA_BUFFER:this.$AdsAMAudienceStoreClass1.customAudiences=aa.audiences;break;case g.AUDIENCE_SAVE_TO_STS_BUFFER:this.$AdsAMAudienceStoreClass1.savedTargetSpecs=aa.audiences;break;case g.AUDIENCE_SORT:this.$AdsAMAudienceStoreClass6.sortOrder=aa.sortOrder;this.$AdsAMAudienceStoreClass6.sortKey=aa.sortKey;this.$AdsAMAudienceStoreClass6.compareFunction=aa.compareFunction;ba=true;break;case g.ERROR:this.$AdsAMAudienceStoreClass0[aa.error]=aa.rawData.error;ba=true;break;case g.VIEW_CLEAR_ERRORS:this.$AdsAMAudienceStoreClass0={};ba=true;break;case k.SAVED_AUDIENCE.BATCH_DELETED:aa.savedAudienceIDs.forEach(function(da){delete this.$AdsAMAudienceStoreClass5[da];}.bind(this));ba=true;break;case k.SAVED_AUDIENCE.BATCH_LOADED:j.waitFor([l.dispatchToken]);var ca=Array.from(aa.savedAudiences.keys());this.$AdsAMAudienceStoreClassd(ca);ba=true;break;}if(ba)this.inform('change');};var y=new x();e.exports=y;},null);
__d("AdsAudienceDeliveryStatusUtils",["fbt","CustomAudienceDeliveryStatus"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={};i[h.ACTIVE]=g._("Pr\u00eate");i[h.INACTIVE]=g._("Pas pr\u00eate");var j=function(n){return i[n]?i[n]:g._("Erreur");},k=function(n){return n!==h.ACTIVE&&n!==h.INACTIVE;},l=function(n){return n===h.ACTIVE;},m=function(n){return n===h.INACTIVE;};e.exports={textByStatus:j,isError:k,isActive:l,isInactive:m};},null);
__d("AdsSelection",["LegacyImmutableObject","StrSet"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={};for(var j in g)if(g.hasOwnProperty(j))l[j]=g[j];var k=g===null?null:g.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=g;function l(m,n){"use strict";i.selectedIDs=new h(m);i.inversed=!!n;g.call(this,i);}l.isSelected=function(m,n){"use strict";var o=m.selectedIDs.contains(n);return m.inversed?!o:o;};e.exports=l;},null);
__d("AdsSelectableFixedDataTable.react",["AdsSelection","cx","React","XUICheckboxInput.react","FixedDataTable.react","FixedDataTableColumn.react","FixedDataTableColumnGroup.react","FixedDataTableHelper","cloneWithProps"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=i,q=p.PropTypes,r=42,s=i.createClass({displayName:"AdsSelectableFixedDataTable",propTypes:{rowKeyID:q.oneOfType([q.string,q.number]),rowIDGetter:q.func,selection:q.instanceOf(g).isRequired,showCheckBox:q.bool,onSelect:q.func,onCheckboxSelect:q.func,onRowClickSelect:q.func,onSelectAll:q.func},getDefaultProps:function(){return {showCheckBox:true};},getInitialState:function(){return this._calculateState(this.props);},componentWillMount:function(){this._allProxyRowData=[];},componentWillReceiveProps:function(t){if(this.props.rowsCount!==t.rowsCount)this._allProxyRowData=[];this.setState(this._calculateState(t));},_calculateState:function(t){if(!t.showCheckBox)return {modifiedTableChildren:t.children};var u=false,v=[];i.Children.forEach(t.children,function(z){u=z.type===m;v.push(z);});var w=i.createElement(l,{key:this.props.rowKeyID,align:"center",dataKey:this.props.rowKeyID,headerRenderer:t.onSelectAll?this._renderSelectAllRowCheckbox:null,cellRenderer:this._renderSelectRowCheckbox,fixed:true,width:r,cellDataGetter:this._isRowChecked});if(u){var x=v[0];if(!x.props.fixed){x=i.createElement(m,{fixed:true});v.unshift(x);}var y=n.mapColumns(x.props.children,function(z){return z;});y.unshift(w);v[0]=o(x,{children:y,key:x.key});}else v.unshift(w);return {modifiedTableChildren:v};},render:function(){return (i.createElement("div",{className:"_5hht"},i.createElement(k,i.__spread({},this.props,{rowGetter:this._proxyRowGetter,onRowMouseDown:this._onRowMouseDown}),this.state.modifiedTableChildren)));},_proxyRowGetter:function(t){var u=this.props.rowGetter(t);if(u&&this._isRowChecked(this.props.rowKeyID,u)){var v=this._allProxyRowData[t],w,x;if(v){w=v.inputRow;x=v.copyRow;}if(w!==u){x=Array.isArray(u)?u.slice():Object.assign({},u);this._allProxyRowData[t]={inputRow:u,copyRow:x};}return x;}else return u;},_isRowChecked:function(t,u){var v=this.props.rowIDGetter?this.props.rowIDGetter(t,u):u[t];return g.isSelected(this.props.selection,v);},_renderSelectRowCheckbox:function(t,u,v,w){var x=v[u];return (i.createElement("span",{className:"_5hhu",onMouseDown:this._onCheckboxCellMouseDown},i.createElement(j,{className:"_5hhv",inline:true,checked:t,value:x,onChange:function(y){return this._onCheckBoxChange(y,w,v);}.bind(this)})));},_renderSelectAllRowCheckbox:function(){return (i.createElement(j,{checked:this.props.selection.inversed,onChange:this.props.onSelectAll}));},_onCheckboxCellMouseDown:function(t){t.stopPropagation();},_onCheckBoxChange:function(t,u,v){if(this.props.onSelect)this.props.onSelect(t,u,v);if(this.props.onCheckboxSelect)this.props.onCheckboxSelect(t,u,v);},_onRowMouseDown:function(t,u,v){if(this.props.onSelect)this.props.onSelect(t,u,v);if(this.props.onRowClickSelect)this.props.onRowClickSelect(t,u,v);}});e.exports=s;},null);
__d("AdsCMURI",["AdsCMAccountStore","AdsCMStateConfig","AdsCMURIUtil","AdsCMURLParams","URI"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';for(var l in k)if(k.hasOwnProperty(l))n[l]=k[l];var m=k===null?null:k.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=k;function n(o){k.call(this,i.BASE_PATH);this.$AdsCMURI0={};this.$AdsCMURI1(h.getKey('PAGE'),o);this.setAccountID(g.getAccountID());}n.prototype.setAccountID=function(o){this.$AdsCMURI1(h.getKey('ACCOUNT_ID'),o);return this;};n.prototype.setAdgroupID=function(o){this.$AdsCMURI1(h.getKey('ADGROUP_ID'),o);return this;};n.prototype.setCampaignID=function(o){this.$AdsCMURI1(h.getKey('CAMPAIGN'),o);return this;};n.prototype.setCampaignGroupID=function(o){this.$AdsCMURI1(h.getKey('CAMPAIGN_GROUP'),o);return this;};n.prototype.setCurrentIDs=function(o){this.$AdsCMURI1(h.getKey('CURRENT_IDS'),o);return this;};n.prototype.resetToDefaults=function(){this.$AdsCMURI1(h.getKey('RESET_TO_HOME'),1);return this;};n.prototype.setTab=function(o){this.$AdsCMURI1(h.getKey('TAB'),o);return this;};n.prototype.setTransactionDetails=function(o,p){this.$AdsCMURI1(h.getKey('TRANSACTION_ID'),o);this.$AdsCMURI1(h.getKey('TRANSACTION_TYPE'),p);return this;};n.prototype.setPixelID=function(o){this.$AdsCMURI1(h.getKey('PIXEL_ID'),o);return this;};n.prototype.getStateData=function(){return this.$AdsCMURI0;};n.prototype.$AdsCMURI1=function(o,p){this.$AdsCMURI0[o]=p;var q=h.getURLParamKey(o);if(!q)return;var r=p;if(q===j.CURRENT_IDS)r=p.join(',');var s=i.getParamsFromURI(this);s[q]=r;var t=g.getAccountID(),u=i.getURIFromQueryData(s,t);this.setPath(u.getPath());this.setQueryData(u.getQueryData());};e.exports=n;},null);
__d("AdsCMAudiencesURI",["AdsCMStateConfig","AdsCMURI"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g.PAGE.values;for(var j in h)if(h.hasOwnProperty(j))l[j]=h[j];var k=h===null?null:h.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=h;function l(){"use strict";h.call(this,i.AUDIENCES_PAGE);}e.exports=l;},null);
__d("AdsCMNavigationBlocker",["HistoryManager","Run","URI","fbt","invariant","setImmediate"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m={didTransitionTo:r,setBlocker:s,hasBlocker:u,removeBlocker:t,callBlocker:v},n,o=(new i(window.location.href)).toString(),p=o,q=null;function r(w,x,y){o=x.toString();if(q){if(!n){n=true;var z=function(){l(function(){u()&&t();if(y&&y.relativeToCurrent!=null){window.history.go(-1);}else w.go(o,false);});};l(function(){g.go(p,false);n=false;q(z);});}return true;}p=o;return false;}h.onBeforeUnload(function(){if(q)return (j._("Vos modifications ne sont pas enregistr\u00e9es et seront perdues si vous quittez la page."));return null;},false);function s(w){k(q===null||q===w);q=w;}function t(){k(!n);k(q);q=null;p=o;}function u(){return !!q;}function v(w){k(q);var x=function(){u()&&t();l(w);};q(x);}e.exports=m;},null);
__d("AdsCMPageStoreUtils",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g='p',h=g.length,i={generatePageID:function(j){return g+j;},convertPageIDToNumber:function(j){return +j.substring(h);}};e.exports=i;},null);
__d("adsCMGenerateHash",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';function g(h){var i=JSON.stringify(h),j=0;if(i.length===0)return j;for(var k=0;k<i.length;k++){j=j*31+i.charCodeAt(k);j=j&j;}return j.toString(36);}e.exports=g;},null);
__d("adsCMGetBasePage",["AdsCMPageValues"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(i){switch(i){case g.HOME_PAGE:case g.AUDIENCES_PAGE:case g.BILLING_PAGE:case g.DATA_SOURCE_PAGE:return null;case g.PIXEL_DETAIL_PAGE:return g.DATA_SOURCE_PAGE;case g.BILLING_DETAIL_PAGE:return g.BILLING_PAGE;}return g.HOME_PAGE;}e.exports=h;},null);
__d("adsCMIsBasePage",["adsCMGetBasePage"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(i){return g(i)===null;}e.exports=h;},null);
__d("AdsCMPageStore",["AdsBaseStore","AdsCMAccountStore","AdsCMActionCategories","AdsCMActionTypes","AdsCMObjectUtils","AdsCMPageStoreUtils","AdsCMStateConfig","AdsCMTabValues","AdsCMURIUtil","AdsCMURLParams","ImmutableObject","URI","adsCMGenerateHash","adsCMGetBasePage","adsCMIsBasePage","createObjectFrom","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){b.__markCompiled&&b.__markCompiled();'use strict';var x=m.getKey,y=m.PAGE.values,z=m.TAB.values,aa='~';for(var ba in g)if(g.hasOwnProperty(ba))da[ba]=g[ba];var ca=g===null?null:g.prototype;da.prototype=Object.create(ca);da.prototype.constructor=da;da.__superConstructor__=g;function da(){g.call(this);this.$AdsCMPageStoreClass0=0;this.$AdsCMPageStoreClass1={};this.$AdsCMPageStoreClass2={};this.$AdsCMPageStoreClass3=null;this.$AdsCMPageStoreClass4={};}da.prototype.getStoreName=function(){return 'AdsCMPageStore';};da.prototype.getPageURLParams=function(){return this.$AdsCMPageStoreClass4;};da.prototype.$AdsCMPageStoreClass5=function(fa,ga,ha,ia,ja,ka,la,ma,na,oa){if(fa===y.CREATION_PAGE)Object.keys(this.$AdsCMPageStoreClass1).some(function(za){var ab=this.$AdsCMPageStoreClass1[za];if(ab[x('PAGE')]===y.CREATION_PAGE){ra=za;return true;}}.bind(this));if(ga&&ga.length===1){var pa=ga[0],qa=this.$AdsCMPageStoreClass1[this.getCurrentPageID()];if(qa.PAGE===fa&&qa.CUURENT_IDS&&qa.CURRENT_IDS[0]===pa&&qa.CURRENT_IDS.length===1)return qa.PAGE_ID;}var ra=l.generatePageID(++this.$AdsCMPageStoreClass0),sa={};sa[x('PAGE_ID')]=ra;sa[x('PAGE')]=fa;sa[x('CURRENT_IDS')]=ga;sa[x('CAMPAIGN_GROUP')]=ha;sa[x('CAMPAIGN')]=ia;sa[x('OBJECTIVE')]=ja;sa[x('TARGETING_SPEC')]=ka;sa[x('PIXEL_ID')]=la;sa[x('CONVERSION_PIXEL_ID')]=ma;sa[x('AUTO_LAUNCH_NAME')]=na;sa[x('ADGROUP_ID')]=oa;var ta=this.$AdsCMPageStoreClass6(sa),ua={};for(var va in n){var wa=n[va],xa=ta+aa+wa;ua[wa]=xa;var ya={};ya[x('TAB')]=wa;ya[x('PAGE_ID')]=ra;this.$AdsCMPageStoreClass2[xa]=ya;}sa[x('TAB_HASHES')]=ua;this.$AdsCMPageStoreClass1[ra]=new q(sa);return ra;};da.prototype.$AdsCMPageStoreClass7=function(fa,ga){return (!fa||fa[x('PAGE')]!==ga[x('PAGE')]||fa[x('CURRENT_IDS')]!==ga[x('CURRENT_IDS')]);};da.prototype.$AdsCMPageStoreClass6=function(fa){var ga=[];ga.push(fa[x('PAGE_ID')]);ga.push(fa[x('PAGE')]);if(fa[x('CURRENT_IDS')])ga.push(s(fa[x('CURRENT_IDS')]));return ga.join(aa);};da.prototype.getPageProp=function(fa,ga){return this.$AdsCMPageStoreClass1[ga][fa];};da.prototype.getCurrentIDs=function(fa){return this.getPageProp(x('CURRENT_IDS'),fa);};da.prototype.getPage=function(fa){return this.getPageProp(x('PAGE'),fa);};da.prototype.getCampaignGroup=function(fa){return this.getPageProp(x('CAMPAIGN_GROUP'),fa);};da.prototype.getCampaign=function(fa){return this.getPageProp(x('CAMPAIGN'),fa);};da.prototype.getAdgroup=function(fa){return this.getPageProp(x('ADGROUP_ID'),fa);};da.prototype.getObjective=function(fa){return this.getPageProp(x('OBJECTIVE'),fa);};da.prototype.getTargetingSpec=function(fa){return this.getPageProp(x('TARGETING_SPEC'),fa);};da.prototype.getPixelID=function(fa){return this.getPageProp(x('PIXEL_ID'),fa);};da.prototype.getConversionPixelID=function(fa){return this.getPageProp(x('CONVERSION_PIXEL_ID'),fa);};da.prototype.getAutoLaunchName=function(fa){return this.getPageProp(x('AUTO_LAUNCH_NAME'),fa);};da.prototype.getHashForTab=function(fa,ga){return this.$AdsCMPageStoreClass1[fa][x('TAB_HASHES')][ga];};da.prototype.getAllTabHashesForPage=function(fa){var ga=this.$AdsCMPageStoreClass1[fa][x('TAB_HASHES')];return Object.keys(ga).map(function(ha){return ga[ha];});};da.prototype.getTabFromHash=function(fa){return this.$AdsCMPageStoreClass2[fa][x('TAB')];};da.prototype.getPageIDFromTabHash=function(fa){return this.$AdsCMPageStoreClass2[fa][x('PAGE_ID')];};da.prototype.getCurrentPageID=function(){return this.$AdsCMPageStoreClass8;};da.prototype.getHashForCampaignGroupTab=function(fa){return ea.getHashForTab(fa,z.CAMPAIGN_GROUP_TAB);};da.prototype.getHashForCampaignTab=function(fa){return ea.getHashForTab(fa,z.CAMPAIGN_TAB);};da.prototype.getHashForAdgroupTab=function(fa){return ea.getHashForTab(fa,z.ADGROUP_TAB);};da.prototype.isFirstPage=function(){return this.$AdsCMPageStoreClass3===this.getCurrentPageID();};da.prototype.toURLParams=function(fa){var ga={};ga[p.PAGE]=ea.getPage(fa);ga[p.PAGE_ID]=fa;var ha=ea.getCurrentIDs(fa);if(ha)ga[p.CURRENT_IDS]=ha.join(',');var ia=ea.getCampaignGroup(fa);if(ia)ga[p.CAMPAIGN]=ia;var ja=ea.getCampaign(fa);if(ja)ga[p.AD_SET]=ja;var ka=ea.getAdgroup(fa);if(ka)ga[p.ADGROUP_ID]=ka;var la=ea.getObjective(fa);if(la)ga[p.OBJECTIVE]=la;var ma=ea.getTargetingSpec(fa);if(ma)ga[p.TARGETING_SPEC]=ma;var na=ea.getPixelID(fa);if(na)ga[p.PIXEL_ID]=na;var oa=ea.getConversionPixelID(fa);if(oa)ga[p.CONVERSION_PIXEL_ID]=oa;var pa=ea.getAutoLaunchName(fa);if(pa)ga[p.AUTO_LAUNCH_NAME]=pa;return ga;};da.prototype.fromURLParams=function(fa){var ga={},ha=o.getParamsFromURI(fa);if(!ha[p.PAGE])return (void 0);ga[x('PAGE')]=ha[p.PAGE];ga[x('PAGE_ID')]=ha[p.PAGE_ID];var ia=ha[p.CURRENT_IDS];if(ia)if(typeof ia==='string'){ga[x('CURRENT_IDS')]=ia.split(',');}else w(false);var ja=ha[p.ADGROUP_ID];if(ja)ga[x('ADGROUP_ID')]=ja;var ka=ha[p.CAMPAIGN];if(ka)ga[x('CAMPAIGN_GROUP')]=ka;var la=ha[p.AD_SET];if(la)ga[x('CAMPAIGN')]=la;var ma=ha[p.OBJECTIVE];if(ma)ga[x('OBJECTIVE')]=ma;var na=ha[p.TARGETING_SPEC];if(na)ga[x('TARGETING_SPEC')]=na;var oa=ha[p.PIXEL_ID];if(oa)ga[x('PIXEL_ID')]=oa;var pa=ha[p.CONVERSION_PIXEL_ID];if(pa)ga[x('CONVERSION_PIXEL_ID')]=pa;var qa=ha[p.AUTO_LAUNCH_NAME];if(qa)ga[x('AUTO_LAUNCH_NAME')]=qa;return ga;};da.prototype.getPageObjectType=function(fa){var ga=ea.getPage(fa);return k.getObjectTypeFromPage(ga);};da.prototype.getPageIDsFromCurrentIDs=function(fa){var ga=[],ha=v(fa);Object.keys(this.$AdsCMPageStoreClass1).forEach(function(ia){var ja=this.$AdsCMPageStoreClass1[ia].CURRENT_IDS||[];ja.some(function(ka){if(ha[ka]){ga.push(ia);return true;}});}.bind(this));return ga;};da.prototype.onDispatchToken=function(fa){var ga=fa.action,ha=ga.data||{},ia,ja;if(ga.category!==i.STATE_CHANGE)return;var ka=false;switch(ga.actionType){case j.INITIAL_PAGE_STATE:var la;if(ha.pageType&&u(ha.pageType)){ia=this.$AdsCMPageStoreClass5(ha.pageType);}else if(h.isNewAdvertiser()){la=y.CREATION_PAGE;var ma=new r(window.location.href);ja=ea.fromURLParams(ma)||{};ia=this.$AdsCMPageStoreClass5(y.CREATION_PAGE,ja[x('CURRENT_IDS')],ja[x('CAMPAIGN_GROUP')],ja[x('CAMPAIGN')],ja[x('OBJECTIVE')],ja[x('TARGETING_SPEC')],ja[x('PIXEL_ID')],ja[x('CONVERSION_PIXEL_ID')],null,ja[x('ADGROUP_ID')]);}else{var na=ha.pageType?t(ha.pageType):m[x('PAGE')].defaultValue;ia=this.$AdsCMPageStoreClass5(na);}this.$AdsCMPageStoreClass3=ia;this.$AdsCMPageStoreClass4=o.getInitialLoadQueryData();break;case j.PAGE_CHANGE:ja=ha.state;ia=this.$AdsCMPageStoreClass5(ja[x('PAGE')],ja[x('CURRENT_IDS')],ja[x('CAMPAIGN_GROUP')],ja[x('CAMPAIGN')],null,ja[x('TARGETING_SPEC')],ja[x('PIXEL_ID')],ja[x('CONVERSION_PIXEL_ID')],ja[x('AUTO_LAUNCH_NAME')],ja[x('ADGROUP_ID')]);this.$AdsCMPageStoreClass4=o.getParamsForCurrentURI();ka=true;break;case j.INIT_FROM_URL:ja=ea.fromURLParams(ha.uri);var oa=this.$AdsCMPageStoreClass1[this.$AdsCMPageStoreClass8];if(ja&&this.$AdsCMPageStoreClass7(oa,ja)){var pa=ha.current_ids?ha.current_ids:ja[x('CURRENT_IDS')];ia=this.$AdsCMPageStoreClass5(ja[x('PAGE')],pa,ja[x('CAMPAIGN_GROUP')],ja[x('CAMPAIGN')],ja[x('OBJECTIVE')],ja[x('TARGETING_SPEC')],ja[x('PIXEL_ID')],ja[x('CONVERSION_PIXEL_ID')],null,ja[x('ADGROUP_ID')]);this.$AdsCMPageStoreClass3=ia;}break;case j.HISTORY_JUMP:case j.BACK_FORWARD_PRESSED:ia=ea.getPageIDFromTabHash(ha.tabHash);this.$AdsCMPageStoreClass3=null;ka=true;break;}if(ia)this.$AdsCMPageStoreClass8=ia;ka&&this.inform('change');};da.prototype.setPageID=function(fa){this.$AdsCMPageStoreClass8=fa;};da.prototype.debug=function(){return {$AdsCMPageStoreClass1:this.$AdsCMPageStoreClass1};};var ea=new da();e.exports=ea;},null);
__d("AdsCMStateActions",["AdsCMActionTypes","AdsCMActionCategories","AdsCMStateConfig","AdsDispatcher"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';function k(m,n,o){var p={old_value:n};j.handleUpdateFromViewAction({category:h.STATE_CHANGE,data:{replacePage:o,state:m},logData:p,type:g.PAGE_CHANGE});}var l={toggleSort:function(m,n){j.handleUpdateFromViewAction({category:h.STATE_CHANGE,data:{field:m,tabHash:n},type:g.SORT_TOGGLED});},navigateBy:function(m,n){j.handleUpdateFromViewAction({category:h.STATE_CHANGE,data:{forwardBy:m,tabHash:n},type:g.BACK_FORWARD_PRESSED});},navigateToIndex:function(m,n){j.handleUpdateFromViewAction({category:h.STATE_CHANGE,data:{forwardBy:m,tabHash:n},type:g.HISTORY_JUMP});},replaceWithPage:function(m,n){k(m,n,true);},navigateToURI:function(m,n){l.navigateToPage(m.getStateData(),n);},navigateToPage:function(m,n){k(m,n,false);},selectTab:function(m){var n={};n[i.getKey('TAB')]=m;j.handleUpdateFromViewAction({category:h.STATE_CHANGE,data:n,type:g.TAB_SELECTED});},removePages:function(m){j.handleUpdateFromViewAction({category:h.STATE_CHANGE,data:{pageIDs:m},type:g.REMOVE_PAGES});}};e.exports=l;},null);
__d("AdsCMLink.react",["AdsCMNavigationBlocker","AdsCMPageStore","AdsCMStateActions","AdsCMURI","Link.react","React"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=l,n=m.PropTypes,o=l.createClass({displayName:"AdsCMLink",propTypes:{href:n.instanceOf(j).isRequired},render:function(){return (l.createElement(k,l.__spread({},this.props,{onClick:this._onAction,href:this.props.href}),this.props.children));},_onAction:function(event){if(event.metaKey||event.ctrlKey||event.button===1)return;event.preventDefault();if(g.hasBlocker()){g.callBlocker(this._doAction);return;}this._doAction();},_doAction:function(){this.props.onClick&&this.props.onClick();i.navigateToURI(this.props.href,h.getPage(h.getCurrentPageID()));}});e.exports=o;},null);
__d("AdsCommonTargetingSentencesRenderer.react",["React","XUIGrayText.react","XUIText.react","cx","fbt","intlList"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=g,n=m.PropTypes,o=g.createClass({displayName:"AdsCommonTargetingSentencesRenderer",propTypes:{sentences:n.arrayOf(n.oneOfType([n.object,n.string])).isRequired},render:function(){var p=this.props.sentences.map(this._renderSentence);return (g.createElement("ul",null,p));},_renderSentence:function(p){if(!p.content)return g.createElement("li",{key:p},p);var q=p.children.reduce(function(r,s){return r+s;},p.content);return (g.createElement("li",{className:"_3v3m",key:q},g.createElement(i,{size:"small"},k._("{category name, ends with colon} {list of selected options}",[k.param("category name, ends with colon",g.createElement(h,null,p.content)),k.param("list of selected options",l(p.children,l.CONJUNCTIONS.NONE))]))));}});e.exports=o;},null);
__d("MobileAppCombinationRuleDescriptionView.react",["AudienceManagerAppRemarketingOperatorConfig","BonsaiText","LoadingIndicator.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=j,n=m.PropTypes,o=j.createClass({displayName:"MobileAppCombinationRuleDescriptionView",propTypes:{audience:n.object.isRequired,dao:n.object.isRequired},getInitialState:function(){return {dataReady:false,appInfo:null,appEventTypes:null};},componentDidMount:function(){this._updateAppInfo(this.props);},componentWillReceiveProps:function(p){this._updateAppInfo(p);},render:function(){if(!this.state.dataReady)return j.createElement(i,{size:"small",color:"blue"});var p=this.props.audience,q=[],r=[];if(p.included_custom_audiences){p.included_custom_audiences.forEach(function(s){q.push(this._renderSubAudience(s,true));}.bind(this));}else q.push(this._renderSubAudience(p,true));if(p.excluded_custom_audiences)p.excluded_custom_audiences.forEach(function(s){r.push(this._renderSubAudience(s,false));}.bind(this));return (j.createElement("div",null,j.createElement("div",null,l._("De l\u2019application\u00a0: {appName}",[l.param("appName",j.createElement("span",{className:"_5wb_"},this.state.appInfo.name))])),q,r));},_renderSubAudience:function(p,q){var r=p.retention_days,s=this._decodeRule(p.rule),t=this.state.appEventTypes||[],u=t.filter(function(event){return event.event_name===s._eventName;})[0],v=u.parameters||[],w=u.display_name||s._eventName,x=q?l._("Action effectu\u00e9e\u00a0: {action name}",[l.param("action name",j.createElement("span",{className:"_5wb_"},w))]):l._("Action non effectu\u00e9e\u00a0: {action name}",[l.param("action name",j.createElement("span",{className:"_5wb_"},w))]),y=[];this._extractParameters(y,s);var z='';if(!r){z='';}else if(r===1){z=l._("Au cours des derni\u00e8res 24 heures.");}else z=l._({"*":"Au cours des {retention_days} derniers jours."},[l.param("retention_days",r,[0])]);return (j.createElement("div",{className:"mtm",key:'subAudience_'+q},j.createElement("div",null,x),j.createElement("ul",{className:"_5o5f"},y.map(function(aa){var ba=v.filter(function(da){return da.parameter_name===aa.key;})[0],ca=(ba&&ba.display_name)||aa.key;return (j.createElement("li",{key:aa.key},ca,' ',aa.label,' ',aa.value));})),this._getCumulativeRuleSentence(s),this._getClientFilters(s),j.createElement("div",null,z)));},_decodeRule:function(p){return JSON.parse(p.replace(/'/g,'"'));},_updateAppInfo:function(p){var q;if(p.audience.included_custom_audiences){q=p.audience.included_custom_audiences[0].rule;}else q=p.audience.rule;var r=this._decodeRule(q)._application;this.props.dao.fetch.objectByFBID.one(function(s){this.setState({appInfo:s,dataReady:(this.state.appEventTypes&&s)});}.bind(this),{fbid:r,fields:['name']});this.props.dao.fetch.appEventTypesForApp.one(function(s){this.setState({appEventTypes:s,dataReady:s&&this.state.appInfo});}.bind(this),{fbid:r});this.setState(this.getInitialState());},_extractParameters:function(p,q){if(Array.isArray(q)){q.forEach(this._extractParameters.bind(this,p));return;}Object.keys(q).forEach(function(r){if(r==='and'){p=p.concat(this._extractParameters(p,q[r]));return;}else if(r==='_cumulativeRule'){return;}else if(r==='_clientFilters')return;var s=q[r];if(typeof s!=='object')return;var t=Object.keys(s)[0],u=s[t];if(Array.isArray(u))u=u.join(', ');p.push({key:r,value:u,label:g.getLabelForOperator(t)});},this);},_getCumulativeRuleSentence:function(p){if(!p._cumulativeRule)return null;var q=null,r=100-p._cumulativeRule.technique.lower_bound;if(p._cumulativeRule.metric==='count'){q=l._("Meilleurs {percentage} par actions effectu\u00e9es",[l.param("percentage",r+'%')]);}else if(p._eventName==='fb_mobile_purchase'){q=l._("Meilleur {percentage} par d\u00e9pense",[l.param("percentage",r+'%')]);}else q=l._("Meilleur {percentage} par valeur d\u2019action",[l.param("percentage",r+'%')]);return (j.createElement("div",null,q));},_getClientFilters:function(p){if(!p._clientFilters)return null;var q=p._clientFilters.map(function(r){return h.breakdown.client[r];});return (j.createElement("div",null,l._("Plateformes\u00a0:"),' ',q.join(', ')));}});e.exports=o;},null);
__d("WebsiteCustomAudienceRuleSentence.react",["intlList","React","WebsiteCustomAudienceTrafficType","dotAccess","fbt","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=h,n=m.PropTypes,o=h.createClass({displayName:"WebsiteCustomAudienceRuleSentence",propTypes:{audience:n.object.isRequired},render:function(){var p=j(this.props.audience,'data_source.creation_params');if(!p)return h.createElement("div",null,"--");try{var r=JSON.parse(p),s=parseInt(r.traffic_type,10);switch(s){case i.ALL_WEBSITE_VISITORS:return this._renderAllWebsiteVisitors();case i.SPECIFIC_PAGE_VISITORS:return this._renderSpecificPageVisitors();case i.SPECIFIC_PAGE_VISITORS_WITH_EXCLUSION:return this._renderSpecificPageVisitorsWithExclusion();case i.CHURNED_VISITORS:return this._renderChurnedVistors();case i.CUSTOM:return this._renderCustomCombination();default:}}catch(q){}return h.createElement("div",null,"--");},_renderAllWebsiteVisitors:function(){var p=this.props.audience.retention_days,q=k._("Tous les visiteurs de votre site web");if(this.props.audience.rule){var r=JSON.parse(this.props.audience.rule),s=j(r,'and.0.or'),t=j(s,'0.url'),u=!!t.i_contains;if(u){var v=s.map(function(x){return j(x,'url.i_contains');}),w=g(v,g.CONJUNCTIONS.NONE);if(v.length>1){q=k._("Tous les visiteurs des domaines\u00a0: {a list of domains}",[k.param("a list of domains",w)]);}else q=k._("Tous les visiteurs du domaine\u00a0: {a list of domains}",[k.param("a list of domains",w)]);}}return (h.createElement("div",null,q,h.createElement("br",null),k._("Ces {number of days} derniers jours.",[k.param("number of days",p)])));},_renderSpecificPageVisitors:function(){return (h.createElement("div",null,this._renderVisitText(this.props.audience.rule,this.props.audience.retention_days,true)));},_renderSpecificPageVisitorsWithExclusion:function(){var p=j(this.props.audience,'included_custom_audiences.0.rule'),q=j(this.props.audience,'included_custom_audiences.0.retention_days'),r=this._renderVisitText(p,q,true),s=j(this.props.audience,'excluded_custom_audiences.0.rule'),t=j(this.props.audience,'excluded_custom_audiences.0.retention_days'),u=this._renderVisitText(s,t,false);return (h.createElement("div",null,r,h.createElement("br",null),u));},_renderVisitText:function(p,q,r){try{var t=JSON.parse(p),u=j(t,'and.0.or'),v=j(u,'0.url'),w=!!v.i_contains,x=w?'i_contains':'eq',y=u.map(function(ca){return ca.url[x];}),z=g(y,g.CONJUNCTIONS.NONE),aa=h.createElement("div",null,k._("Visiteurs de\u00a0: {websites}",[k.param("websites",z)]),h.createElement("br",null),k._("Ces {number of days} derniers jours.",[k.param("number of days",q)])),ba=h.createElement("div",null,k._("Mais n\u2019ont pas visit\u00e9\u00a0: {websites}",[k.param("websites",z)]),h.createElement("br",null),k._("Ces {number of days} derniers jours.",[k.param("number of days",q)]));if(w){aa=h.createElement("div",null,k._("Personnes ayant visit\u00e9 les URL contenant\u00a0: {websites}",[k.param("websites",z)]),h.createElement("br",null),k._("Ces {number of days} derniers jours.",[k.param("number of days",q)]));ba=h.createElement("div",null,k._("Mais qui n\u2019ont pas visit\u00e9 les URL contenant\u00a0: {websites}",[k.param("websites",z)]),h.createElement("br",null),k._("Ces {number of days} derniers jours.",[k.param("number of days",q)]));}return (r?{includeRule:aa}:{excludeRule:ba});}catch(s){}return null;},_renderChurnedVistors:function(){var p=this.props.audience.excluded_custom_audiences[0].retention_days,q=this.props.audience.included_custom_audiences[0].retention_days;return (h.createElement("div",null,k._("Visiteurs de votre site web"),h.createElement("br",null),k._("Ces {inDuration} derniers jours",[k.param("inDuration",q)]),h.createElement("br",null),k._("Mais ne sont pas revenus pendant {notDuration} jours",[k.param("notDuration",p)])));},_getOperatorText:function(p){switch(p){case 'i_contains':return (k._("Contient (non sensible \u00e0 la casse)"));case 'i_not_contains':return (k._("Ne contient pas (non sensible \u00e0 la casse)"));case 'contains':return (k._("Contient (sensible \u00e0 la casse)"));case 'not_contains':return (k._("Ne contient pas (sensible \u00e0 la casse)"));case 'eq':return (k._("\u00c9gal \u00e0 (sensible \u00e0 la casse)"));case 'neq':return (k._("Diff\u00e9rent de (sensible \u00e0 la casse)"));case 'lt':return (k._("Inf\u00e9rieur \u00e0"));case 'lte':return (k._("Inf\u00e9rieur ou \u00e9gal \u00e0"));case 'gt':return (k._("Sup\u00e9rieur \u00e0"));case 'gte':return (k._("Sup\u00e9rieur ou \u00e9gal \u00e0"));case 'regex_match':return (k._("Correspond \u00e0 une expression r\u00e9guli\u00e8re"));default:l(true);}},_parseConditionEntry:function(p,q){if(!p)return '';var r,s,t=[];for(var u=0;u<p.length;u++){r=p[u].url;if(r){if(!s)s=Object.keys(r)[0];t.push(r[s]);}}var v=g(t,g.CONJUNCTIONS.OR),w=this._getOperatorText(s),x=k._("{a rule operator}\u00a0: {a list of URL keywords}",[k.param("a rule operator",w),k.param("a list of URL keywords",v)]),y=k._("{a rule operator}\u00a0: {a list of URL keywords} et",[k.param("a rule operator",w),k.param("a list of URL keywords",v)]);return q?x:y;},_parseCustomAudiences:function(p,q){var r,s,t,u=[];for(var v=0;v<p.length;v++){r=JSON.parse(p[v].rule);s=r&&r.and;if(v===0){u.push(h.createElement("div",{key:"condition_text_"+v},k._({"Include":"Inclure le trafic qui r\u00e9pond aux conditions suivantes\u00a0:","Exclude":"Exclure le trafic qui r\u00e9pond aux conditions suivantes\u00a0:"},[k['enum'](q?'Include':'Exclude',{Include:"Include",Exclude:"Exclude"})])));}else u.push(h.createElement("div",{key:"condition_text_"+v},k._("Ou le trafic qui r\u00e9pond aux conditions suivantes\u00a0:")));for(var w=0;w<s.length;w++){if(w<s.length-1){t=this._parseConditionEntry(j(s[w],'or'),false);}else t=this._parseConditionEntry(j(s[w],'or'),true);u.push(h.createElement("li",{key:v+"_"+w},t));}}return (h.createElement("ul",null,u));},_renderCustomCombination:function(){var p=this.props.audience.retention_days,q=null,r=null;if(this.props.audience.included_custom_audiences)q=this._parseCustomAudiences(this.props.audience.included_custom_audiences,true);if(this.props.audience.excluded_custom_audiences)r=this._parseCustomAudiences(this.props.audience.excluded_custom_audiences,false);return (h.createElement("div",null,q,h.createElement("br",null),r,h.createElement("div",null,k._("Ces {number of days} derniers jours.",[k.param("number of days",p)]))));}});e.exports=o;},null);
__d("AudienceManagerAudienceNameContextualHelpDialog.react",["AdsAMAudienceUtils","AdsAudienceDeliveryStatusUtils","AdsAudienceDataSourceUtils","AdsCommonTargetingSentencesRenderer.react","MobileAppCombinationRuleDescriptionView.react","WebsiteCustomAudienceRuleSentence.react","XUIText.react","React","adsGKCheck","cx","dotAccess","fbt","ads-lib-formatters"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();'use strict';var t=n,u=t.PropTypes,v=s.createIntlNumberFormatter(0),w=n.createClass({displayName:"AudienceManagerAudienceNameContextualHelpDialog",propTypes:{accountID:u.string.isRequired,audience:u.object.isRequired,dao:u.object.isRequired},render:function(){return (n.createElement("div",{className:"_5o5e"},this._renderSize(),this._renderDescription(),this._renderType(),this._renderSource(),this._renderSharingInfo(),this._renderIsFinancialServiceLookalike(),this._renderRule()));},_renderSize:function(){var x=this.props.audience.approximate_count||0,y='';if(!g.isSavedTargetSpec(this.props.audience)){y=h.isActive(this.props.audience.delivery_status.code)?v(x):'--';}else y=v(x);return (n.createElement("div",null,n.createElement(m,{weight:"bold",display:"block"},r._("Taille")),y));},_renderDescription:function(){if(this.props.audience.description)return (n.createElement("div",{className:"mtm"},n.createElement(m,{weight:"bold",display:"block"},r._("Description")),this.props.audience.description));return null;},_renderType:function(){var x=g.getAudienceType(this.props.audience);return (n.createElement("div",{className:"mtm"},n.createElement(m,{weight:"bold",display:"block"},r._("Type")),x));},_renderSource:function(){var x=this.props.audience,y=null;if(g.isSavedTargetSpec(x)){y=n.createElement(j,{sentences:x.targeting_sentence_lines});}else{var z=x.data_source,aa=z.sub_type;if(aa!=i.SUBTYPES.MOBILE_APP_EVENTS)y=i.detailOfAudience(x);}if(y)return (n.createElement("div",{className:"mtm"},n.createElement(m,{weight:"bold",display:"block"},r._("Source")),y));return null;},_renderSharingInfo:function(){if(this.props.audience.account_id==this.props.accountID)return null;return (n.createElement("div",{className:"mtm"},n.createElement(m,{weight:"bold",display:"block"},r._("Partag\u00e9 par")),this.props.audience.account_id));},_renderIsFinancialServiceLookalike:function(){if(!o('financial_service_lookalike'))return null;if(g.isSavedTargetSpec(this.props.audience))return null;if(this.props.audience.data_source.type!==i.TYPES.SEED_BASED)return null;if(this.props.audience.lookalike_spec){var x=this.props.audience.lookalike_spec.is_financial_service?r._("Vrai"):r._("Faux");return (n.createElement("div",{className:"mtm"},n.createElement(m,{weight:"bold",display:"block"},r._("Audience similaire compatible avec FCRA")),x));}},_renderRule:function(){var x=q(this.props.audience,'data_source.sub_type'),y=null;if(x===i.SUBTYPES.MOBILE_APP_EVENTS||x===i.SUBTYPES.MOBILE_APP_COMBINATION_EVENTS){y=n.createElement(k,{audience:this.props.audience,dao:this.props.dao});}else if(x===i.SUBTYPES.WEB_PIXEL_HITS||x===i.SUBTYPES.WEB_PIXEL_COMBINATION_EVENTS)y=n.createElement(l,{audience:this.props.audience});if(y)return (n.createElement("div",{className:"mtm"},n.createElement(m,{weight:"bold",display:"block"},r._("R\u00e8gle")),y));return null;}});e.exports=w;},null);
__d("AudienceManagerPlacement",["keyMirror"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g({NEW_ADS_MANAGER:null,POWER_EDITOR:null,STAND_ALONE:null});e.exports=h;},null);
__d("AudienceManagerAudienceNameColumnCellRenderer",["AdInterfacesUiLogger","AdsAMAudienceUtils","AdsAudienceDetailActions","AdsCMAudiencesURI","AdsCMLink.react","AdsCMTabValues","AudienceManagerAudienceNameContextualHelpDialog.react","AudienceManagerLoggingEvents","AudienceManagerPlacement","AudienceManagerUIConstants","LayerHideOnBlur","Link.react","ReactLayeredComponentMixin","React","XUIContextualDialog.react","adsGKCheck","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){b.__markCompiled&&b.__markCompiled();'use strict';var x=80,y=t,z=y.PropTypes,aa=t.createClass({displayName:"AudienceManagerAudienceNameColumnCellRenderer",_lingerTimeout:0,mixins:[s],propTypes:{audience:z.object.isRequired,accountID:z.string.isRequired,dao:z.object.isRequired,placement:z.oneOf([o.NEW_ADS_MANAGER,o.STAND_ALONE,o.POWER_EDITOR])},getInitialState:function(){return {showHelpDialog:false};},getDefaultProps:function(){return {placement:o.STAND_ALONE};},render:function(){var ba=this.props.audience,ca=ba.description||'',da=ca.substring(0,x)+(ca.length>x?'...':''),ea=this._shouldShowLink()?t.createElement("div",{className:"_4fqh"},this._getAudienceDetailLink()):t.createElement("div",{className:"_4fqk"},ba.name);return (t.createElement("div",{className:"_ia5"},t.createElement("div",{ref:"nameAndSubtext",onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,className:"_ia6"},ea,t.createElement("div",{className:"_ia8"},da))));},_getAudienceDetailLink:function(){if(this.props.placement===o.NEW_ADS_MANAGER){var ba=new j().setTab(l.AUDIENCE_DETAIL_TAB).setCurrentIDs([this.props.audience.id]);return (t.createElement(k,{href:ba,onClick:this._onClickCMLink},this.props.audience.name));}else return (t.createElement(r,{target:"_blank",href:h.getAudienceDetailsURI(this.props.audience.id,this.props.accountID),onClick:this._logAudienceDetailsView},this.props.audience.name));},_onClickCMLink:function(){i.initializeAudienceDetails(this.props.accountID,this.props.audience.id);},_logAudienceDetailsView:function(){var ba=h.isSavedTargetSpec(this.props.audience)?p.AUDIENCE_TYPE.SAVED_TARGET_SPEC:p.AUDIENCE_TYPE.CUSTOM_AUDIENCE;g.log(n.AM_DETAILS_AUDIENCE_VIEW,{audience_type:ba});},_shouldShowLink:function(){return v('audience_manager_v3_in_progress');},renderLayers:function(){return {helpDialog:(t.createElement(u,{width:u.WIDTH.NORMAL,position:"right",alignment:"center",contextRef:"nameAndSubtext",shown:this.state.showHelpDialog,behaviors:{LayerHideOnBlur:q}},t.createElement("div",{onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},t.createElement(m,{accountID:this.props.accountID,audience:this.props.audience,dao:this.props.dao}))))};},componentWillUnmount:function(){clearTimeout(this._lingerTimeout);},_onMouseEnter:function(){clearTimeout(this._lingerTimeout);this.setState({showHelpDialog:true});},_onMouseLeave:function(){clearTimeout(this._lingerTimeout);this._lingerTimeout=setTimeout(function(){return this.setState({showHelpDialog:false});}.bind(this),p.HELP_DIALOG_LINGER_TS);}});e.exports=aa;},null);
__d("AudienceManagerTypeColumnCellRenderer.react",["AdsAMAudienceUtils","React","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=h,k=j.PropTypes,l=h.createClass({displayName:"AudienceManagerTypeColumnCellRenderer",propTypes:{audience:k.object.isRequired},render:function(){var m=g.getAudienceType(this.props.audience);return (h.createElement("div",{className:"_5no0"},m));}});e.exports=l;},null);
__d("AudienceManagerSourceColumnCellRenderer.react",["AdsAMAudienceUtils","AdsAudienceDataSourceUtils","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=i,m=l.PropTypes,n=30,o=i.createClass({displayName:"AudienceManagerSourceColumnCellRenderer",propTypes:{audience:m.object.isRequired},render:function(){return (i.createElement("div",{className:"_5no0"},i.createElement("div",{className:"_5no1"},this._getSourceText()),i.createElement("div",{className:"_5no2"},this._getSourceSubtext())));},_getSourceText:function(){if(g.isSavedTargetSpec(this.props.audience))return this._renderSentenceLinesText();var p=this.props.audience.data_source;return h.textByDataSource(p);},_getSourceSubtext:function(){if(g.isSavedTargetSpec(this.props.audience))return '';var p=h.detailOfAudience(this.props.audience);return this._getTextByMaxLength(p);},_renderSentenceLinesText:function(){var p=this.props.audience.targeting_sentence_lines,q=p[0].children.join(', ');if(q.length<n&&p.length>1)q=q.concat(', '+p[1].children.join(', '));var r=Math.max(0,p.length-2);if(r){if(q.length>n){q=this._getTextByMaxLength(q);}else q+='...';return (k._({"*":"{targeting sentences}{num additional} en plus"},[k.param("targeting sentences",q),k.param("num additional",r,[0])]));}return this._getTextByMaxLength(q);},_getTextByMaxLength:function(p){var q=p.substring(0,n);return p.length>n?q+'...':q;}});e.exports=o;},null);
__d("AudienceManagerDebugAPIDataColumnCellRenderer.react",["AdsAMAudienceUtils","List.react","Link.react","React","ReactLayeredComponentMixin","URI","XUIDialog.react","XUIDialogBody.react","XUIDialogCloseButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIButton.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();var u=j,v=u.PropTypes;function w(y,z){if(typeof y!=='object')return y+"\n";z=z||0;var aa='';for(var ba in y){if(!y.hasOwnProperty(ba))continue;aa+=(new Array(z+1).join('  '))+ba+': ';if(typeof y[ba]==='object')aa+="\n";aa+=w(y[ba],z+1);}return aa;}var x=j.createClass({displayName:"AudienceManagerDebugAPIDataColumnCellRenderer",mixins:[k],propTypes:{audience:v.object.isRequired},getInitialState:function(){return {dialogShown:false};},render:function(){var y=t._("Donn\u00e9es de l\u2019API");return (j.createElement(r,{label:y,use:"default",size:"small",onClick:this._onAPIDataClick}));},renderLayers:function(){if(!this.state.dialogShown)return null;var y=this.props.audience,z;if(g.isSavedTargetSpec(y)){z=j.createElement("span",null);}else{var aa=l('/intern/ads/eagle/audience_history').addQueryData({cluster_id:y.id});z=j.createElement(i,{href:aa,target:"_blank"},"History");}var ba=l('/intern/id').addQueryData({id:y.id});return {dialog:j.createElement(m,{shown:this.state.dialogShown,width:500,onToggle:this._onCloseClick},j.createElement(q,null,t._("Donn\u00e9es de l\u2019API")),j.createElement(n,{className:"_53sz"},j.createElement("pre",null,w(y)),j.createElement("div",null,j.createElement(h,{direction:"horizontal",border:"none",spacing:"large"},j.createElement("li",null,j.createElement(i,{href:ba,target:"_blank"},"FBObj")),j.createElement("li",null,z)))),j.createElement(p,null,j.createElement(o,{use:"default",action:"close",onClick:this._onCloseClick})))};},_onAPIDataClick:function(){this.setState({dialogShown:true});},_onCloseClick:function(){this.setState({dialogShown:false});}});e.exports=x;},null);
__d("AudienceManagerSharingColumnCellRenderer.react",["AdsAMAudienceUtils","React","dotAccess","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=h,l=k.PropTypes,m=h.createClass({displayName:"AudienceManagerSharingColumnCellRenderer",propTypes:{accountID:l.string.isRequired,audience:l.object.isRequired},render:function(){if(g.isSavedTargetSpec(this.props.audience))return h.createElement("div",null,"--");if(this.props.accountID!==this.props.audience.account_id)return (h.createElement("div",null,j._("Partag\u00e9e par {audience owner ID}",[j.param("audience owner ID",this.props.audience.account_id)])));var n='--',o=i(this.props.audience,'capabilities.data.0.capabilities')||{},p=Object.keys(o);if(p.length===1){n=j._("Partag\u00e9e avec {account ID}",[j.param("account ID",p[0])]);}else if(p.length>1)n=j._({"*":"Partag\u00e9e avec {number of accounts} comptes"},[j.param("number of accounts",p.length,[0,p.length])]);return h.createElement("div",null,n);}});e.exports=m;},null);
__d("AdsAudienceOperationStatusUtils",["fbt","CustomAudienceOperationStatus"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=function(n){return Math.floor(n/100)===Math.floor(h.ERROR/100);},j=function(n){return Math.floor(n/100)===Math.floor(h.WARNING/100);},k=function(n){return n===h.NORMAL||n===h.NO_STATUS;},l=function(n){return n===h.REFRESH_FAIL_SOURCE_DELETED;},m=function(n){switch(n){case h.WARNING:return (g._("Attention"));case h.LOW_MATCH_RATE:return (g._("Tx de corresp. faible"));case h.HIGH_INVALID_RATE:case h.LOW_UID_VALID_RATE:return (g._("Taux d\u2019invalidation \u00e9lev\u00e9"));case h.ERROR:return (g._("Erreur"));case h.PIXEL_UNVERIFIED:return (g._("Pixel non install\u00e9"));case h.PIXEL_NOT_FIRING:return (g._("Pixel inactif"));case h.LEGACY_PIXEL:return (g._("Migration requise"));case h.BUILD_FAIL_SOURCE_DELETED:case h.BUILD_FAIL_UNKNOWN:return (g._("Audience non cr\u00e9\u00e9e"));case h.BUILD_RETRYING:return (g._("Cr\u00e9ation d\u2019audience"));default:return (g._("Probl\u00e8mes inconnus"));}};e.exports={isNormal:k,isError:i,isWarning:j,useLastUpdateTime:l,getProblemShortDesc:m};},null);
__d("AudienceManagerStatusFlyoutDialog.react",["AdInterfacesUiLogger","AdsAMViewActions","AdsAudienceDataSourceUtils","AdsAudienceDeliveryStatusUtils","AdsAudienceOperationStatusUtils","AudienceManagerLoggingEvents","CustomAudienceOperationStatus","Link.react","React","AsyncRequest","adsGKCheck","arrayContains","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();'use strict';var u=o,v=u.PropTypes,w="1409504736019761",x="1467700436821724",y=[m.LOW_MATCH_RATE,m.HIGH_INVALID_RATE,m.PIXEL_UNVERIFIED,m.PIXEL_NOT_FIRING],z=o.createClass({displayName:"AudienceManagerStatusFlyoutDialog",propTypes:{accountID:v.string.isRequired,audience:v.object.isRequired},render:function(){return (o.createElement("div",{className:"_2f6l"},o.createElement("div",null,this._getIssueDescription()),this._getActionLink(),this._renderHelpLink()));},_getIssueDescription:function(){var aa=this.props.audience.operation_status.code;if(j.isError(this.props.audience.delivery_status.code)||k.isNormal(aa))return this.props.audience.delivery_status.description;return this.props.audience.operation_status.description;},_getActionLink:function(){var aa=this.props.audience.data_source.sub_type;if(!this._hasActionForDataSourceSubtype(aa))return;if(!this.props.audience.permission_for_actions.can_edit)return;if(r(y,this.props.audience.operation_status.code))return (o.createElement("div",{className:"mtm"},o.createElement(n,{onClick:this._onActionLinkClicked},this._getActionLinkText())));},_renderHelpLink:function(){if(!q('smb_custom_audiences_error_audience'))return;return (o.createElement("div",null,o.createElement("div",{className:"mtm"},t._("Besoin d\u2019aide avec votre audience\u00a0? Un expert des Publicit\u00e9s Facebook peut vous aider gratuitement.")),o.createElement("div",{className:"mtm"},o.createElement(n,{onClick:this._onHelpClicked},t._("Planifier un appel")))));},_hasActionForDataSourceSubtype:function(aa){switch(aa){case i.SUBTYPES.COPY_PASTE_EMAIL_HASHES:case i.SUBTYPES.MAIL_CHIMP_EMAIL_HASHES:return false;}return true;},_getActionLinkText:function(){switch(this.props.audience.operation_status.code){case m.PIXEL_UNVERIFIED:case m.PIXEL_NOT_FIRING:return (t._("Afficher les d\u00e9tails du pixel"));case m.LOW_MATCH_RATE:case m.HIGH_INVALID_RATE:return (t._("T\u00e9l\u00e9charger le fichier de donn\u00e9es"));}},_onActionLinkClicked:function(){switch(this.props.audience.operation_status.code){case m.PIXEL_UNVERIFIED:case m.PIXEL_NOT_FIRING:h.showPixelDialog();break;case m.LOW_MATCH_RATE:case m.HIGH_INVALID_RATE:h.showRegularEditDialog(this.props.audience.id);break;}},_onHelpClicked:function(){g.log(l.AM_HELP_FLYOUT_CLICKED,{audienceID:this.props.audience.id,operationStatus:this.props.audience.operation_status,deliveryStatus:this.props.audience.delivery_status});var aa=q('latam_br_am_nonresponse_q12015')?w:x;new p().setURI('/ajax/help/contact/'+aa).send();}});e.exports=z;},null);
__d("AudienceManagerStatusColumnRenderer.react",["AdInterfacesUiLogger","AdsAMAudienceUtils","AdsAudienceDeliveryStatusUtils","AdsAudienceOperationStatusUtils","AudienceManagerLoggingEvents","AudienceManagerStatusFlyoutDialog.react","AudienceManagerUIConstants","CustomAudienceDeliveryStatus","CustomAudienceOperationStatus","Image.react","InlineBlock.react","LayerHideOnBlur","ReactLayeredComponentMixin","React","XUIContextualDialog.react","XUISpinner.react","cx","ix","fbt","formatDate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){b.__markCompiled&&b.__markCompiled();'use strict';var aa=t,ba=aa.PropTypes,ca=t.createClass({displayName:"AudienceManagerStatusColumnRenderer",mixins:[s],propTypes:{accountID:ba.string.isRequired,audience:ba.object.isRequired,loading:ba.bool},getInitialState:function(){return {showHelpDialog:false};},render:function(){if(this.props.loading)return (t.createElement("div",null,t.createElement(v,{background:"light",size:"small"})));if(h.isSavedTargetSpec(this.props.audience))return (t.createElement("div",null,t.createElement("div",null,i.textByStatus(n.ACTIVE)),t.createElement(q,null,t.createElement("div",{className:"_5cj1"},this._renderSavedTargetSpecTimeUpdated()))));return (t.createElement("div",null,t.createElement("div",null,this._getFormattedDeliveryStatus()),t.createElement(q,{ref:"statusAndSubtext",onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},t.createElement("div",{className:"_5cj1"},this._getOperationStatusIcon(),this._getSubText()))));},renderLayers:function(){if(!this.state.showHelpDialog)return null;return {helpDialog:(t.createElement(u,{width:u.WIDTH.NORMAL,position:"left",alignment:"center",contextRef:"statusAndSubtext",shown:true,behaviors:{LayerHideOnBlur:r}},t.createElement("div",{onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},t.createElement(l,{accountID:this.props.accountID,audience:this.props.audience}))))};},_renderSavedTargetSpecTimeUpdated:function(){var da=this.props.audience.time_updated_timestamp,ea=z(da,'m/d/Y');return (y._("Derni\u00e8re m\u00e0j\u00a0: {date}",[y.param("date",ea)]));},_getDeliveryStatusCode:function(){return this.props.audience.delivery_status.code;},_getOperationStatusCode:function(){return this.props.audience.operation_status.code;},_getFormattedDeliveryStatus:function(){return i.textByStatus(this._getDeliveryStatusCode());},_getOperationStatusIcon:function(){if(this._shouldShowWarningAndFlyout())return (t.createElement(p,{src:x("/images/ads/audience_manager/error.png"),className:"_2pih"}));return (t.createElement("span",null));},componentWillUnmount:function(){clearTimeout(this._lingerTimeout);},_onMouseEnter:function(){clearTimeout(this._lingerTimeout);if(this._shouldShowWarningAndFlyout()){this.setState({showHelpDialog:true});g.log(k.AM_HELP_FLYOUT_SHOW,{audienceID:this.props.audience.id,operationStatus:this.props.audience.operation_status,deliveryStatus:this.props.audience.delivery_status,version:1});}},_onMouseLeave:function(){clearTimeout(this._lingerTimeout);this._lingerTimeout=setTimeout(this.setState.bind(this,{showHelpDialog:false}),m.HELP_DIALOG_LINGER_TS);},_shouldShowWarningAndFlyout:function(){return this._isAnomalousOperationStatus()||this._isAnomalousDeliveryStatus()||this._isAnomalousAudienceSize();},_getSubText:function(){if(this._isAnomalousDeliveryStatus())return (y._("D\u00e9sactiv\u00e9e"));var da=this._getOperationStatusCode();if(this._isAnomalousOperationStatus()&&!j.useLastUpdateTime(da))return j.getProblemShortDesc(da);switch(da){case o.NO_STATUS:case o.NORMAL:if(this._isAnomalousAudienceSize())return (y._("Audience trop r\u00e9duite"));return this._getLastUpdateTime();case o.UPDATING:return (y._("Mise \u00e0 jour de l\u2019audience"));default:return this._getLastUpdateTime();}},_getLastUpdateTime:function(){if(!this.props.audience.time_content_updated)return;var da=new Date(this.props.audience.time_content_updated*1000),ea=z(da,'m/d/Y');return (y._("Derni\u00e8re m\u00e0j\u00a0: {date}",[y.param("date",ea)]));},_isAnomalousOperationStatus:function(){var da=this._getOperationStatusCode();return j.isWarning(da)||j.isError(da);},_isAnomalousDeliveryStatus:function(){return i.isError(this._getDeliveryStatusCode());},_isAnomalousAudienceSize:function(){return i.isInactive(this._getDeliveryStatusCode())&&j.isNormal(this._getOperationStatusCode());}});e.exports=ca;},null);
__d("AudienceStatus",["CustomAudienceDeliveryStatus","CustomAudienceOperationStatus","Image.react","React","cx","fbt","formatDate","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=l._("Pr\u00eate"),p=l._("Pas pr\u00eate"),q=l._("Audience trop r\u00e9duite"),r=l._("Mise \u00e0 jour de l\u2019audience");function s(t,u,v){this.$AudienceStatus0=t;this.$AudienceStatus1=u;if(v)this.$AudienceStatus2=new Date(v);}s.prototype.getUserFacingStatus=function(){if(this.isAnomalousOperationStatus()){return this.$AudienceStatus3();}else if(this.isAnomalousAudienceSize())return q;return this.$AudienceStatus4();};s.prototype.getUserFacingUpdateTime=function(){if(this.$AudienceStatus1===h.UPDATING){return r;}else if(this.$AudienceStatus2){var t=m(this.$AudienceStatus2,'m/d/Y');return (l._("Derni\u00e8re m\u00e0j\u00a0: {date}",[l.param("date",t)]));}return null;};s.prototype.getIcon=function(){var t=null;if(this.$AudienceStatus0===g.ACTIVE&&this.isOperationStatusNormal()){t=n('/images/ads/audience_manager/status_active.png');}else t=n('/images/ads/audience_manager/status_inactive.png');return j.createElement(i,{src:t,className:"_3-8_"});};s.prototype.isUserActionNeeded=function(){return (this.isAnomalousOperationStatus()||this.isAnomalousDeliveryStatus()||this.isAnomalousAudienceSize());};s.prototype.$AudienceStatus4=function(){if(this.$AudienceStatus0===g.ACTIVE)return o;return p;};s.prototype.$AudienceStatus3=function(){switch(this.$AudienceStatus1){case h.WARNING:return (l._("Attention"));case h.LOW_MATCH_RATE:return (l._("Tx de corresp. faible"));case h.HIGH_INVALID_RATE:case h.LOW_UID_VALID_RATE:return (l._("Taux d\u2019invalidation \u00e9lev\u00e9"));case h.ERROR:return (l._("Erreur"));case h.PIXEL_UNVERIFIED:return (l._("Pixel non install\u00e9"));case h.PIXEL_NOT_FIRING:return (l._("Pixel inactif"));case h.LEGACY_PIXEL:return (l._("Migration requise"));case h.BUILD_FAIL_SOURCE_DELETED:case h.BUILD_FAIL_UNKNOWN:return (l._("Audience non cr\u00e9\u00e9e"));case h.BUILD_RETRYING:return (l._("Cr\u00e9ation d\u2019audience"));default:return (l._("Probl\u00e8mes inconnus"));}};s.prototype.isOperationStatusError=function(){return Math.floor(this.$AudienceStatus1/100)===Math.floor(h.ERROR/100);};s.prototype.isOperationStatusWarning=function(){return Math.floor(this.$AudienceStatus1/100)===Math.floor(h.WARNING/100);};s.prototype.isOperationStatusNormal=function(){return this.$AudienceStatus1===h.NORMAL||this.$AudienceStatus1===h.NO_STATUS;};s.prototype.isAnomalousOperationStatus=function(){return this.isOperationStatusError()||this.isOperationStatusWarning();};s.prototype.isAnomalousDeliveryStatus=function(){return (this.$AudienceStatus0!==g.ACTIVE&&this.$AudienceStatus0!==g.INACTIVE);};s.prototype.isAnomalousAudienceSize=function(){return (this.$AudienceStatus1!==h.UPDATING&&this.isOperationStatusNormal()&&this.$AudienceStatus0===g.INACTIVE);};e.exports=s;},null);
__d("AudienceManagerStatusColumnRendererV2.react",["AudienceStatus","AdInterfacesUiLogger","AdsAMAudienceUtils","AudienceManagerLoggingEvents","AudienceManagerStatusFlyoutDialog.react","AudienceManagerUIConstants","CustomAudienceDeliveryStatus","CustomAudienceOperationStatus","DateConsts","ImageBlock.react","LayerHideOnBlur","ReactLayeredComponentMixin","React","XUIContextualDialog.react","cx","getByPath","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){b.__markCompiled&&b.__markCompiled();'use strict';var x=s,y=x.PropTypes,z=s.createClass({displayName:"AudienceManagerStatusColumnRendererV2",mixins:[r],_lingerTimeout:0,propTypes:{accountID:y.string.isRequired,audience:y.object.isRequired},getInitialState:function(){return {showHelpDialog:false};},render:function(){var aa=v(this.props.audience,['delivery_status','code']),ba=v(this.props.audience,['operation_status','code']),ca=this.props.audience.time_content_updated*o.MS_PER_SEC;if(i.isSavedTargetSpec(this.props.audience)){aa=m.ACTIVE;ba=n.NORMAL;ca=this.props.audience.time_updated_timestamp*o.MS_PER_SEC;}var da=new g(aa,ba,ca);return (s.createElement("div",{className:"_240f"},s.createElement(p,{spacing:"medium"},da.getIcon(),s.createElement("div",null,da.getUserFacingStatus(),s.createElement("div",{ref:"statusAndSubtext",onMouseEnter:function(){return this._onMouseEnter(da);}.bind(this),onMouseLeave:this._onMouseLeave},this._getSubTextComponent(da))))));},renderLayers:function(){if(!this.state.showHelpDialog)return null;return {helpDialog:(s.createElement(t,{width:t.WIDTH.NORMAL,position:"left",alignment:"center",contextRef:"statusAndSubtext",shown:true,behaviors:{LayerHideOnBlur:q}},s.createElement("div",{onMouseEnter:this._onMouseEnterFlyOut,onMouseLeave:this._onMouseLeave},s.createElement(k,{accountID:this.props.accountID,audience:this.props.audience}))))};},_getSubTextComponent:function(aa){var ba=aa.isUserActionNeeded(),ca=((ba?"_240o":'')+(!ba?' '+"_240n":''));return (s.createElement("div",{className:ca},this._getSubText(aa)));},componentWillUnmount:function(){clearTimeout(this._lingerTimeout);},_onMouseEnter:function(aa){clearTimeout(this._lingerTimeout);if(aa.isUserActionNeeded()){this.setState({showHelpDialog:true});h.log(j.AM_HELP_FLYOUT_SHOW,{audienceID:this.props.audience.id,operationStatus:this.props.audience.operation_status,deliveryStatus:this.props.audience.delivery_status,version:2});}},_onMouseEnterFlyOut:function(){clearTimeout(this._lingerTimeout);this.setState({showHelpDialog:true});},_onMouseLeave:function(){clearTimeout(this._lingerTimeout);this._lingerTimeout=setTimeout(function(){return this.setState({showHelpDialog:false});}.bind(this),l.HELP_DIALOG_LINGER_TS);},_getSubText:function(aa){if(aa.isAnomalousDeliveryStatus()){return (w._("D\u00e9sactiv\u00e9e"));}else if(aa.isUserActionNeeded())return (w._("Obtenir de l\u2019aide"));return aa.getUserFacingUpdateTime();}});e.exports=z;},null);
__d("AudienceManagerTimeCreatedColumnRenderer.react",["React","cx","fbt","formatDate"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m=g.createClass({displayName:"AudienceManagerTimeCreatedColumnRenderer",propTypes:{timeCreated:l.number},render:function(){var n=this.props.timeCreated;if(!n)return (g.createElement("div",null,i._("Non disponible")));var o=new Date(n*1000),p=j(o,'m/d/Y'),q=j(o,'g:ia');return (g.createElement("div",null,g.createElement("div",null,p),g.createElement("div",{className:"_3imx"},q)));}});e.exports=m;},null);
__d("AudienceManagerSelectableTable.react",["AdsAMAudienceUtils","AdsAMViewActions","AdsAMViewStore","AdsAMAudienceStore","AdsAudienceDeliveryStatusUtils","AdsCreateAudienceActionSelector.react","AdsSelectableFixedDataTable.react","AdsSelection","AudienceManagerAudienceNameColumnCellRenderer","AudienceManagerColumnHeaderRenderers","AudienceManagerTypeColumnCellRenderer.react","AudienceManagerSourceColumnCellRenderer.react","AudienceManagerDebugAPIDataColumnCellRenderer.react","AudienceManagerPlacement","AudienceManagerSharingColumnCellRenderer.react","AudienceManagerStatusColumnRenderer.react","AudienceManagerStatusColumnRendererV2.react","AudienceManagerTimeCreatedColumnRenderer.react","AudienceManagerUIConstants","AudiencePropertyConstants","CurrentUser","FixedDataTableSortFunctions","Image.react","PureStoreBasedStateMixin","React","ReactComponentWithPureRenderMixin","StrSet","XAdsCreatorController","FixedDataTableColumn.react","XUIGrayText.react","XUISpinner.react","cx","emptyFunction","fbt","ads-lib-formatters","ix","adsGKCheck"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa){b.__markCompiled&&b.__markCompiled();var ra=oa.createIntlNumberFormatter(0),sa=y.ALIGN,ta=y.COLUMNS,ua=100,va=80,wa=y.DEFAULT_ROW_HEIGHT,xa=ea,ya=xa.PropTypes,za=ea.createClass({displayName:"AudienceManagerSelectableTable",mixins:[da(i,j),fa],propTypes:{account:ya.object.isRequired,height:ya.number.isRequired,width:ya.number.isRequired,dao:ya.object.isRequired,onCreateAudienceClicked:ya.func.isRequired,onLastRowReached:ya.func,placement:ya.oneOf([t.NEW_ADS_MANAGER,t.STAND_ALONE,t.POWER_EDITOR])},statics:{calculateState:function(){var ab=i.getSelectedAudienceIDs();return {audiences:j.getAllAudiences(),selection:new n(new ga(ab),false),displayLoading:i.isFiltering(),displayScrollLoading:i.isLoadingMoreAudiences(),columnsShown:i.getColumnsShown(),sortState:j.getSortState()};}},getDefaultProps:function(){return {placement:t.STAND_ALONE};},_rowGetter:function(ab){if(this._isLastRow(ab))this.props.onLastRowReached&&setTimeout(this.props.onLastRowReached,1);return this.state.audiences[ab];},_isLastRow:function(ab){return ab===this.state.audiences.length-1;},render:function(){return (ea.createElement("div",{className:"_5pvk"},this._renderTable(),this._renderLoading(),this._renderScrollLoading(),this._renderEmpty()));},_renderLoading:function(){if(this.state.displayLoading)return (ea.createElement(ka,{className:"_2aah",size:"large"}));return null;},_renderScrollLoading:function(){if(this.state.displayScrollLoading)return (ea.createElement("div",{className:"_4u_-"},ea.createElement(ka,{size:"large"}),ea.createElement("div",null,na._("Chargement d\u2019audiences suppl\u00e9mentaires"),"...")));return null;},_renderEmpty:function(){if(!this.state.displayLoading&&this.state.audiences.length===0)return null;var ab=na._("Aucun r\u00e9sultat trouv\u00e9"),bb=na._("Lancez \u00e0 nouveau la recherche ou utilisez d\u2019autres filtres."),cb=pa('/images/ads/audience_manager/no_results.png');return (ea.createElement("div",{className:"_4udf",style:{width:this.props.width}},ea.createElement(ca,{width:ua,height:ua,src:cb}),ea.createElement(ja,{className:"_3-8n",display:"block",shade:"light",size:"large",weight:"bold"},ab),ea.createElement(ja,{display:"block",shade:"light",size:"medium"},bb),ea.createElement(l,{className:"_3-8-",onAction:this.props.onCreateAudienceClicked,supportSavedTargetSpec:true,use:"default"})));},_renderTable:function(){var ab=this.state.displayLoading?0:this.state.audiences.length;return (ea.createElement(m,{width:this.props.width,maxHeight:this.props.height,rowsCount:ab,rowHeight:wa,headerHeight:wa,rowGetter:this._rowGetter,rowKeyID:"id",selection:this.state.selection,onCheckboxSelect:this._onCheckboxSelect,className:"_y4x"},this._getColumns()));},_getColumns:function(){var ab=[Object.assign({dataKey:ta.NAME.dataKey,key:ta.NAME.dataKey,label:ta.NAME.label,width:5*va,flexGrow:1,fixed:true,cellRenderer:this._renderNameColumn,sortable:true,sortKey:z.NAME,compareFunction:ba.compareString,headerAlign:sa.LEFT},{})];if(this.state.columnsShown.type)ab.push(Object.assign({dataKey:ta.TYPE.dataKey,key:ta.TYPE.dataKey,label:ta.TYPE.label,width:3*va,flexGrow:1,fixed:false,cellRenderer:this._renderTypeColumn,sortable:false,sortKey:null,compareFunction:ma,headerAlign:sa.LEFT},{}));if(this.state.columnsShown.source)ab.push(Object.assign({dataKey:ta.SOURCE.dataKey,key:ta.TYPE.dataKey,label:ta.SOURCE.label,width:3*va,flexGrow:1,fixed:false,cellRenderer:this._renderSourceColumn,sortable:false,sortKey:null,compareFunction:ma,headerAlign:sa.LEFT},{}));if(this.state.columnsShown.size)ab.push(Object.assign({dataKey:ta.SIZE.dataKey,key:ta.SIZE.dataKey,label:ta.SIZE.label,width:2*va,flexGrow:1,fixed:false,cellRenderer:this._renderPeopleColumn,sortable:true,sortKey:z.APPROXIMATE_COUNT,compareFunction:ba.compareNumber,headerAlign:sa.RIGHT},{}));if(this.state.columnsShown.status)ab.push(Object.assign({dataKey:ta.STATUS.dataKey,key:ta.STATUS.dataKey,label:ta.STATUS.label,width:3*va,flexGrow:1,fixed:false,cellRenderer:this._renderStatusColumn,sortable:false,sortKey:null,compareFunction:ma,headerAlign:sa.LEFT},{}));if(this.state.columnsShown.dateCreated)ab.push(Object.assign({dataKey:ta.DATE_CREATED.dataKey,key:ta.DATE_CREATED.dataKey,label:ta.DATE_CREATED.label,width:2*va,flexGrow:1,fixed:false,cellRenderer:this._renderTimeCreatedColumn,sortable:true,sortKey:z.TIME_CREATED,compareFunction:ba.compareNumber,headerAlign:sa.LEFT},{}));if(this.state.columnsShown.audienceID)ab.push(Object.assign({dataKey:ta.AUDIENCE_ID.dataKey,key:ta.AUDIENCE_ID.dataKey,label:ta.AUDIENCE_ID.label,width:2*va,flexGrow:1,fixed:false,cellRenderer:this._renderAudienceIDColumn,sortable:true,sortKey:z.ID,compareFunction:ba.compareNumber,headerAlign:sa.RIGHT},{}));if(this.state.columnsShown.sharing)ab.push(Object.assign({dataKey:ta.SHARING.dataKey,key:ta.SHARING.dataKey,label:ta.SHARING.label,width:2*va,flexGrow:1,fixed:false,cellRenderer:this._renderSharingColumn,sortable:false,sortKey:null,compareFunction:ma,headerAlign:sa.LEFT},{}));if(aa.isEmployee()&&this.state.columnsShown.debug)ab.push(Object.assign({dataKey:ta.DEBUG.dataKey,key:ta.DEBUG.dataKey,label:ta.DEBUG.label,width:2*va,flexGrow:1,fixed:false,cellRenderer:this._renderDebugColumn,sortable:false,sortKey:null,compareFunction:ma,headerAlign:sa.CENTER},{}));return ab.map(function(bb){bb.headerRenderer=bb.sortable?p.renderSortableHeader:p.renderHeader;return (ea.createElement(ia,ea.__spread({},bb,{columnData:{currentSortState:this.state.sortState,sortKey:bb.sortKey,compareFunction:bb.compareFunction,headerAlign:bb.headerAlign}})));}.bind(this));},_onCheckboxSelect:function(ab){h.clickAudienceCheckbox(ab.target.value,ab.target.checked);},_renderNameColumn:function(ab,bb,cb,db,eb){return (ea.createElement("div",{className:"_ewc"},ea.createElement(o,{accountID:this.props.account.account_id,audience:cb,dao:this.props.dao,placement:this.props.placement})));},_renderTypeColumn:function(ab,bb,cb,db,eb){return (ea.createElement("div",{className:"_ewc"},ea.createElement(q,{audience:cb})));},_renderSourceColumn:function(ab,bb,cb,db,eb){return (ea.createElement("div",{className:"_ewc"},ea.createElement(r,{audience:cb})));},_renderPeopleColumn:function(ab,bb,cb,db,eb){var fb,gb=cb.approximate_count||0;if(g.isSavedTargetSpec(cb)){fb=ra(gb);}else fb=k.isActive(cb.delivery_status.code)?ra(gb):'--';return (ea.createElement("div",{className:"_ewd"},fb));},_renderStatusColumn:function(ab,bb,cb,db,eb){if(qa('audience_manager_status_column')){return (ea.createElement("div",{className:"_ewc"},ea.createElement(w,{accountID:this.props.account.account_id,audience:cb})));}else return (ea.createElement("div",{className:"_ewc"},ea.createElement(v,{accountID:this.props.account.account_id,audience:cb})));},_renderTimeCreatedColumn:function(ab,bb,cb,db,eb){return (ea.createElement("div",{className:"_ewc"},ea.createElement(x,{timeCreated:cb.time_created})));},_renderAudienceIDColumn:function(ab,bb,cb,db,eb){return (ea.createElement("div",{className:"_ewc _ewd"},cb.id));},_renderSharingColumn:function(ab,bb,cb,db,eb){return (ea.createElement("div",{className:"_ewc"},ea.createElement(u,{accountID:this.props.account.account_id,audience:cb})));},_renderDebugColumn:function(ab,bb,cb,db,eb){return (ea.createElement(s,{audience:cb}));},_onCreateAdClick:function(ab){var bb={custom_audiences:[{id:ab.id,name:ab.name}]},cb=ha.getURIBuilder().setInt('act',this.props.account.account_id).setString('targeting_spec',JSON.stringify(bb)).getURI().toString();window.open(cb,'_blank');}});e.exports=za;},null);
__d("AudienceManagerSeparator.react",["React","ReactComponentWithPureRenderMixin","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes,l=g.createClass({displayName:"AudienceManagerSeparator",mixins:[h],propTypes:{marginTop:k.number,marginBottom:k.number},render:function(){var m=null;if(this.props.marginTop!==undefined){m=m||{};m.marginTop=this.props.marginTop;}if(this.props.marginBottom!==undefined){m=m||{};m.marginBottom=this.props.marginBottom;}return (g.createElement("div",{style:m,className:"_51y0"}));}});e.exports=l;},null);
__d("AdsCMAccountID.react",["React","ReactComponentWithPureRenderMixin","fbt"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=g,k=j.PropTypes,l=g.createClass({displayName:"AdsCMAccountID",mixins:[h],propTypes:{accountID:k.string.isRequired,currency:k.string.isRequired},render:function(){return (g.createElement("span",null,i._("Compte publicitaire\u00a0: {Ad account ID} ({Currency symbol e.g. USD})",[i.param("Ad account ID",this.props.accountID),i.param("Currency symbol e.g. USD",this.props.currency)])));}});e.exports=l;},null);
__d("AudienceManagerTableHeader.react",["AdsCMAccountID.react","React","XUIGrayText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=h,m=l.PropTypes,n=h.createClass({displayName:"AudienceManagerTableHeader",propTypes:{account:m.object.isRequired},render:function(){return (h.createElement("div",{className:"_2pib _2pie _2pim clearfix"},h.createElement("div",{className:"_1_jg"},this._renderAccountID()),h.createElement("div",{className:"_5w-l"},k._("Audiences"))));},_renderAccountID:function(){if(!this.props.account.account_id||!this.props.account.currency)return null;return (h.createElement(i,{className:"_1_jj",key:"accountID"},h.createElement(g,{accountID:this.props.account.account_id,currency:this.props.account.currency})));}});e.exports=n;},null);
__d("AudienceManagerTopNavigation.react",["AdsCreateAudienceActionSelector.react","LeftRight.react","BusinessURI.brands","Link.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=k,o=n.PropTypes,p=k.createClass({displayName:"AudienceManagerTopNavigation",propTypes:{accountID:o.string.isRequired,onAction:o.func.isRequired,canWrite:o.bool.isRequired,isBlankState:o.bool.isRequired},render:function(){var q=this.props.isBlankState?k.createElement("div",null):k.createElement(g,{onAction:this.props.onAction,disabled:!this.props.canWrite,supportSavedTargetSpec:true}),r=i('/ads/manage/').addQueryData({act:this.props.accountID});return (k.createElement("div",{className:"_2pi3 _2pia"},k.createElement(h,null,k.createElement("div",{className:"_3p18"},k.createElement(j,{href:r},m._("Gestionnaire de publicit\u00e9s")),k.createElement("span",{className:"_3jw5"},">"),k.createElement("span",{className:"_3jw6"},m._("Audiences"))),q)));}});e.exports=p;},null);
__d("AudienceManagerStages",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={IDLE:1,PROCESSING:2,ERROR:3};},null);
__d("AudienceManagerTransactionDialog.react",["AudienceManagerStages","React","ReactLayeredComponentMixin","XUIDialog.react","XUIDialogBody.react","XUINotice.react","XUISpinner.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=h,p=o.PropTypes,q=h.createClass({displayName:"AudienceManagerTransactionDialog",mixins:[i],propTypes:{error:p.object,stage:p.number.isRequired,onCancelError:p.func.isRequired},render:function(){return h.createElement("span",null);},renderLayers:function(){var r=(this.props.stage===g.PROCESSING||this.props.stage===g.ERROR);return {dialog:h.createElement(j,{shown:r,width:600,onToggle:this._onToggle},h.createElement(k,null,this._renderDialogBody()))};},_renderDialogBody:function(){switch(this.props.stage){case g.PROCESSING:return (h.createElement("div",{className:"_5oe3"},h.createElement(m,{background:"light",size:"large"})));case g.ERROR:return (h.createElement("div",{className:"_5oe3"},h.createElement(l,{use:"warn",onDismiss:this._onToggle.bind(this,false)},this.props.error.message)));default:return h.createElement("span",null);}},_onToggle:function(r){if(!r)this.props.onCancelError&&this.props.onCancelError();}});e.exports=q;},null);
__d("CreateCAStages",["keyMirror"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g({CREATE_AUDIENCE_INIT:null,CUSTOMER_LIST:null,COPY_PASTE_INIT:null,COPY_PASTE_UPLOAD:null,COPY_PASTE_UPLOAD_COMPLETE:null,FILE_IMPORT_INIT:null,FILE_IMPORT_CHECK_FILE:null,FILE_IMPORT_UPLOAD:null,FILE_IMPORT_UPLOAD_CONVERT_ERROR:null,FILE_IMPORT_NO_VALID_ENTRY:null,FILE_IMPORT_UPLOAD_COMPLETE:null,FILE_IMPORT_UPLOAD_ERROR:null,MAIL_CHIMP_INIT:null,MAIL_CHIMP_AUTHENTICATE:null,MAIL_CHIMP_FETCH_COMPLETE:null,MAIL_CHIMP_UPLOAD:null,MAIL_CHIMP_UPLOAD_COMPLETE:null,CREATION_COMPLETE_NEXT_STEP:null,EDIT_AUDIENCE_INIT:null,OPT_OUT_USER_FILE_IMPORT_INIT:null,FATAL_ERROR:null});e.exports=h;},null);
__d("CreateCADialogTypes",["keyMirror"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g({MACA:null,CUSTOMER_LIST:null,LOOKALIKE:null});e.exports=h;},null);
__d("AdsAMCreateAudienceStore",["AdsAMActionTypes","AdsAMDispatcher","Arbiter","CreateCAStages","CreateCADialogTypes","CustomAudienceCreationErrors","ImmutableObject","copyProperties","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p,q,r,s,t,u,v,w,x,y,z,aa;function ba(){p=0;r=k.CUSTOMER_LIST;q=j.CREATE_AUDIENCE_INIT;s={validRecord:0,invalidRecord:0,totalRecord:0};w=[];x={};y=0;z=0;t={};u=[];v={};aa="";}function ca(ea){switch(ea.type){case l.FILE_IMPORT_CSV_CONVERT_ERROR:q=j.FILE_IMPORT_UPLOAD_CONVERT_ERROR;aa=ea.errorDetails;break;case l.FILE_IMPORT_NO_VALID_ENTRY:q=j.FILE_IMPORT_NO_VALID_ENTRY;aa=o._("Aucune entr\u00e9e valide n\u2019a \u00e9t\u00e9 trouv\u00e9e. Veuillez t\u00e9l\u00e9charger un autre fichier.");break;case l.FILE_IMPORT_TOKEN_ERROR:case l.COPY_PASTE_TOKEN_ERROR:u.push(ea.error);return;case l.FILE_IMPORT_ERROR_LIMIT_REACH:v=ea.errorDetails;q=j.FILE_IMPORT_UPLOAD_ERROR;return;case l.FATAL_ERROR:aa=ea.error.message;q=j.FATAL_ERROR;return;}}ba();var da=n(new i(),{getViewDialogType:function(){return r;},getViewStage:function(){return q;},getNumberOfRecords:function(){return new m(s);},getContactsLists:function(){return w;},getTotalPage:function(){return y;},getCurrentPage:function(){return z;},getProgress:function(){return p;},getSelectableContactsLists:function(){var ea={};for(var fa in x)ea[fa]=new m(x[fa]);return ea;},getAudiences:function(){return t;},getErrorTokenLists:function(){var ea=[];ea=u.map(function(fa){return fa.token;});return ea;},getErrorDetailsForLimitReach:function(){return new m(v);},getErrorMessage:function(){return aa;},dispatchToken:h.register(function(ea){var fa=ea.action,ga=true;switch(fa.actionType){case g.CREATE_AUDIENCE_RESET:ba();break;case g.CREATE_AUDIENCE_SET_VIEW_STAGE:q=fa.viewStage;break;case g.CREATE_AUDIENCE_SET_VIEW_DIALOG_TYPE:r=fa.viewDialogType;break;case g.CREATE_AUDIENCE_SHOW_MACA_DIALOG:r=k.MACA;break;case g.FILE_IMPORT_CHECK_FILE:q=j.FILE_IMPORT_CHECK_FILE;break;case g.FILE_IMPORT_START_UPLOAD:q=j.FILE_IMPORT_UPLOAD;break;case g.FILE_IMPORT_UPLOAD_PROGRESS:case g.COPY_PASTE_UPLOAD_PROGRESS:case g.MAIL_CHIMP_UPLOAD_PROGRESS:p=fa.progress;break;case g.FILE_IMPORT_CREATE_AUDIENCE_COMPLETE:t[fa.audienceID]={id:fa.audienceID,name:fa.audienceName};break;case g.FILE_IMPORT_UPLOAD_COMPLETE:q=j.FILE_IMPORT_UPLOAD_COMPLETE;s=fa.numberOfRecords;break;case g.COPY_PASTE_START_UPLOAD:q=j.COPY_PASTE_UPLOAD;break;case g.COPY_PASTE_CREATE_AUDIENCE_COMPLETE:t[fa.audienceID]={id:fa.audienceID,name:fa.audienceName};break;case g.COPY_PASTE_UPLOAD_COMPLETE:q=j.COPY_PASTE_UPLOAD_COMPLETE;s=fa.numberOfRecords;break;case g.MAIL_CHIMP_FETCH_COMPLETE:q=j.MAIL_CHIMP_FETCH_COMPLETE;y=fa.totalPage;z=fa.currentPage;w=fa.contactsLists;w.forEach(function(ha){x[ha.list_id]=ha;});break;case g.MAIL_CHIMP_START_UPLOAD:q=j.MAIL_CHIMP_UPLOAD;break;case g.MAIL_CHIMP_UPLOAD_COMPLETE:q=j.MAIL_CHIMP_UPLOAD_COMPLETE;t=fa.audiences;break;case g.FILE_IMPORT_ERROR:case g.COPY_PASTE_ERROR:ca(fa);break;case g.UPDATE_NAME_DESCRIPTION_COMPLETE:Object.keys(fa.audiences).forEach(function(ha){t[ha]=fa.audiences[ha];});break;default:ga=false;break;}if(ga)da.inform('change');})});e.exports=da;},null);
__d("AdsMobileRemarketingAppNameSearchSource",["AbstractSearchSource","AdsDestinationTypes","AdsUtils","SearchableEntry","TokenizeUtil","ads-destinationType"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=b('ads-destinationType').DEST_TYPE_TO_NAME,m,n,o;for(var p in g)if(g.hasOwnProperty(p))r[p]=g[p];var q=g===null?null:g.prototype;r.prototype=Object.create(q);r.prototype.constructor=r;r.__superConstructor__=g;function r(s){"use strict";if(m)return m;n=s;this.$AdsMobileRemarketingAppNameSearchSource0=n.fetch.accountInfo.constantParameters.accountId;}r.prototype.bootstrap=function(s){"use strict";if(o){s&&s();return;}n.fetch.adConnectedApp.one(function(t){o=t||[];s&&s();},{act:this.$AdsMobileRemarketingAppNameSearchSource0});};r.prototype.fetchApps=function(s){"use strict";if(o)return;n.fetch.adConnectedApp.one(function(t){o=t||[];s&&s();},{act:this.$AdsMobileRemarketingAppNameSearchSource0});};r.prototype.searchImpl=function(s,t){"use strict";if(!o){this.fetchApps(this.$AdsMobileRemarketingAppNameSearchSource1.bind(this,s,t));}else this.$AdsMobileRemarketingAppNameSearchSource1(s,t);};r.prototype.$AdsMobileRemarketingAppNameSearchSource1=function(s,t){"use strict";var u=o.filter(function(v){return !s||k.isQueryMatch(s,v.name)||s==v.id;}).map(function(v){var w=new j({uniqueID:v.id,title:v.name,photo:v.picture,subtitle:l[h.APP],auxiliaryData:{}});return w;});t(u,s);};r.getInstance=function(s){"use strict";if(!m||!i.isEqualWeak(s,n))m=new r(s);return m;};e.exports=r;},null);
__d("AudienceManagerErrorView.react",["React","XUINotice.react","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes,l=g.createClass({displayName:"AudienceManagerErrorView",propTypes:{shown:k.bool,message:k.string},render:function(){return (g.createElement("div",{className:((!this.props.shown?"hidden_elem":''))},g.createElement(h,{use:"warn"},this.props.message)));}});e.exports=l;},null);
__d("MobileAppRemarketingAppTypeaheadPresenter.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.PropTypes,k=g.createClass({displayName:"Presenter",propTypes:{entries:j.array.isRequired,onSelect:j.func.isRequired},render:function(){if(this.props.entries&&this.props.entries.length){return (g.createElement("ul",{className:"_5e6y"},this.props.entries.map(function(l){return (g.createElement("li",{className:"_5e6z",key:'appTypeahead_'+l.getUniqueID(),onMouseEnter:this.props.onHighlight.bind(null,l),onMouseDown:this.props.onSelect.bind(null,l)},g.createElement("img",{className:"_5eye",src:l.getPhoto()}),g.createElement("div",{className:"_5eyf"},g.createElement("div",{className:"_5e6-"},l.getTitle()),g.createElement("div",{className:"_5oid"},l.getSubtitle()))));}.bind(this))));}else return (g.createElement("ul",null));}});e.exports={maxEntries:10,ViewRenderer:k,useLayer:true};},null);
__d("MobileAppRemarketingAppTypeahead.react",["AbstractTypeahead.react","AdsMobileRemarketingAppNameSearchSource","MobileAppRemarketingAppTypeaheadPresenter.react","React","SearchableEntry","XUICloseButton.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=j,o=n.PropTypes,p=j.createClass({displayName:"MobileAppRemarketingAppTypeahead",propTypes:{searchSource:o.object,selectedApp:o.instanceOf(k),placeholder:o.string,dao:o.object},getInitialState:function(){return {queryString:''};},componentDidMount:function(){if(this.props.dao)h.getInstance(this.props.dao).bootstrap();},render:function(){var q=this.props.selectedApp,r=this.props.searchSource;if(this.props.dao)r=h.getInstance(this.props.dao);return (j.createElement("div",{className:"_5gfl"},j.createElement("div",{className:(("_5e6_")+(!q?' '+"hidden_elem":''))},j.createElement("img",{className:"_5eyh",src:q&&q.getPhoto()}),j.createElement("div",{className:"_5eyi"},j.createElement("div",{className:"fwb"},q&&q.getTitle()),j.createElement("div",null,q&&q.getSubtitle())),j.createElement(l,{size:"small",className:"_5e70",onClick:this.onAppClose})),j.createElement(g,{className:((!!q?"hidden_elem":'')),placeholder:this.props.placeholder,presenter:i,searchSource:r,queryString:this.state.queryString,onChange:this._onInputChange,onSelectAttempt:this._onSelectAppAttempt,showEntriesOnFocus:true})));},_onInputChange:function(event){this.setState({queryString:event.target.value});},_onSelectAppAttempt:function(q){this.props.appSelected(q);},onAppClose:function(){this.setState({queryString:''});this.props.appSelected(null);}});e.exports=p;},null);
__d("AdsMobileRemarketingEventNameSearchSource",["AbstractSearchSource","SearchableEntry","TokenizeUtil"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();for(var j in g)if(g.hasOwnProperty(j))l[j]=g[j];var k=g===null?null:g.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=g;function l(m,n){"use strict";this.$AdsMobileRemarketingEventNameSearchSource0=m;this.$AdsMobileRemarketingEventNameSearchSource1=n||(function(event){return event.display_name;});}l.prototype.bootstrap=function(m){"use strict";m&&m();};l.prototype.searchImpl=function(m,n){"use strict";var o=this.$AdsMobileRemarketingEventNameSearchSource0.filter(function(event){return !m||i.isQueryMatch(m,event.event_name);}).map(function(event){var p=event.parameters||[],q=new h({uniqueID:event.event_name,title:event.display_name,auxiliaryData:{key:this.$AdsMobileRemarketingEventNameSearchSource1(event),segments:p.map(function(r){var s={};if(r.known_parameter_values)r.known_parameter_values.forEach(function(t){s[t.parameter_value]=t.display_name;});return {uniqueID:r.parameter_name,title:r.display_name,knownValues:s};})}});return q;}.bind(this));o.sort(function(p,q){p=p.getAuxiliaryData().key;q=q.getAuxiliaryData().key;if(i.isExactMatch(p,m)){return -1;}else if(i.isExactMatch(q,m))return 1;return p.toUpperCase()>q.toUpperCase()?1:-1;});n(o,m);};e.exports=l;},null);
__d("MobileAppRemarketingRuleTypeaheadPresenter.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.PropTypes,k=g.createClass({displayName:"Presenter",propTypes:{entries:j.array.isRequired,onSelect:j.func.isRequired},render:function(){if(this.props.entries&&this.props.entries.length){return (g.createElement("ul",{className:"_5h93"},this.props.entries.map(function(l){return (g.createElement("li",{key:'ruleTypeahead_'+l.getUniqueID(),onMouseEnter:this.props.onHighlight.bind(null,l),onMouseDown:this.props.onSelect.bind(null,l),className:"_5h94"},g.createElement("div",null,l.getTitle())));}.bind(this))));}else return (g.createElement("ul",null));}});e.exports={maxEntries:10,ViewRenderer:k,useLayer:true};},null);
__d("MobileAppRemarketingParameterView.react",["AbstractTypeahead.react","LeftRight.react","LoadingIndicator.react","MobileAppRemarketingRuleTypeaheadPresenter.react","AudienceManagerAppRemarketingOperatorConfig","React","SearchableEntry","Token.react","TokenizeUtil","XUICloseButton.react","XUISelector.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();'use strict';var t=q.Option,u=l,v=u.PropTypes,w=10000,x={typeahead_placeholder_add_a_value:s._("Ajouter une valeur"),typeahead_placeholder_add_values:s._("Ajouter des valeurs")},y=l.createClass({displayName:"MobileAppRemarketingParameterView",propTypes:{index:v.number.isRequired,knownValues:v.object,title:v.string.isRequired,onValuesChanged:v.func.isRequired,onOperatorChanged:v.func.isRequired,onParameterRemoved:v.func.isRequired,operator:v.string.isRequired,possibleValues:v.array,possibleValuesLoading:v.bool,values:v.array},getInitialState:function(){var z=this.props.possibleValues||[];return {searchSource:this._constructSearchSource(z),queryString:'',values:[],loadingTimeout:false};},componentWillMount:function(){setTimeout(function(){if(this.props.possibleValuesLoading)this.setState({loadingTimeout:true});}.bind(this),w);},componentWillReceiveProps:function(z){var aa=z.possibleValues||[],ba=this._constructSearchSource(aa);this.setState({searchSource:ba});},render:function(){var z;if(this.props.possibleValuesLoading&&!this.state.loadingTimeout){z=l.createElement(i,{size:"small",color:"white",className:"_4c97"});}else{var aa=this.state.searchSource,ba;if(aa.isEmpty()){ba=k.isArray[this.props.operator]?x.typeahead_placeholder_add_values:x.typeahead_placeholder_add_a_value;}else ba=s._("Tapez pour rechercher les valeurs {parameter type}...",[s.param("parameter type",this.props.title)]);z=l.createElement(g,{presenter:j,onChange:this._onInputChange,onBlur:this._onBlur,onSelectAttempt:this._onSelectParameterAttempt,placeholder:ba,searchSource:aa,queryString:this.state.queryString,showEntriesOnFocus:true});}return (l.createElement("div",{className:"_5gop"},l.createElement(h,null,l.createElement("div",{className:"_5goq"},l.createElement("div",{className:"_5svm"},l.createElement("div",{className:"_5h95 _5svn"},this.props.title),this._renderOperatorSelector(this.props.operator),l.createElement("div",{className:"_5svo"})),l.createElement("div",{className:(("_5hms")+(' '+"_5svp")+(!this.props.values.length?' '+"hidden_elem":''))},this._renderTokens()),l.createElement("div",{className:(("_5gos")+(!this._shouldShowParamInput()?' '+"hidden_elem":''))},z)),l.createElement(p,{size:"small",onClick:this._onParameterRemoved,className:"_5got"}))));},_addToken:function(z){if(z){this.setState({queryString:''});if(this.props.values.indexOf(z)>=0)return;this.props.onValuesChanged(this.props.index,this.props.values.concat([z]));}},_constructSearchSource:function(z){return {bootstrap:function(aa){aa&&aa();},exactMatch:function(aa){for(var ba=0;ba<z.length;ba++){var ca=z[ba];if(ca.title.toUpperCase()===aa.toUpperCase())return new m({uniqueID:ca.uniqueID,title:ca.title});}return null;},isEmpty:function(){return !z||z.length===0;},search:function(aa,ba){z.sort(function(da,ea){return da.title.toUpperCase()>ea.title.toUpperCase()?1:-1;});var ca=z.filter(function(da){return !aa||o.isQueryMatch(aa,da.title);}).map(function(da){return new m({uniqueID:da.uniqueID,title:da.title});});ba(ca,aa);}};},_onBlur:function(event){var z=this.state.searchSource,aa=z.exactMatch(this.state.queryString);if(aa){this._addToken(aa.getUniqueID());}else this._addToken(this.state.queryString);},_onInputChange:function(event){this.setState({queryString:event.target.value});},_onParameterRemoved:function(){this.props.onParameterRemoved(this.props.index);},_onSelectParameterAttempt:function(event){this._addToken(event.getUniqueID());},_removeToken:function(z){var aa=this.props.values.filter(function(ba){return ba!==z;});this.props.onValuesChanged(this.props.index,aa);},_renderOperatorSelector:function(z){return (l.createElement(q,{className:"_5svn _5svq",name:"filter_selector",size:"xlarge",onChange:function(event){this.props.onOperatorChanged(this.props.index,event.value);}.bind(this),value:z},k.operators.map(function(aa){return (l.createElement(t,{value:aa.value},aa.text));})));},_renderTokens:function(){var z=this.props.knownValues||{};return this.props.values.map(function(aa){return (l.createElement(n,{label:z[aa]||aa,removable:true,onRemove:this._removeToken.bind(this,aa)}));},this);},_shouldShowParamInput:function(){return k.isArray[this.props.operator]||!this.props.values.length;}});e.exports=y;},null);
__d("MobileAppRemarketingEventView.react",["AbstractTypeahead.react","BonsaiApiBreakdown","BonsaiApiDataAdapter","BonsaiSectionDataLoaderMixin","MobileAppRemarketingRuleTypeaheadPresenter.react","AudienceManagerAppRemarketingOperatorConfig","MobileAppRemarketingParameterView.react","React","SearchableEntry","TokenizeUtil","XUICloseButton.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();var t=n,u=t.PropTypes,v=n.createClass({displayName:"MobileAppRemarketingEventView",mixins:[j],propTypes:{eventDisplayName:u.string.isRequired,event:u.string.isRequired,parameters:u.array.isRequired,onEventClosed:u.func,enableEventParameters:u.bool},getDefaultProps:function(){return {enableEventParameters:true};},getInitialState:function(){var w=this.props.parameters||[];return {selectedParams:[],searchSource:this._constructSearchSource(w),queryString:''};},componentWillReceiveProps:function(w){var x=w.parameters||[],y=this._constructSearchSource(x);this.setState({searchSource:y});},render:function(){return (n.createElement("div",{className:"_5gom"},n.createElement("div",{className:(("_5gon")+(this.props.enableEventParameters?' '+"_1ldq":'')+(' '+"pam"))},n.createElement("div",null,this.props.eventDisplayName),n.createElement(q,{size:"small",className:"_5goo",onClick:this._eventClosed})),this._renderEventParameters()));},_getBonsaiApiBreakdownName:function(w){return w==='_appVersion'?h.APP_VERSION:w;},_renderEventParameters:function(){if(!this.props.enableEventParameters)return null;var w=this.state,x=this.props,y=s._("Si vous le souhaitez, ajoutez un param\u00e8tre"),z=s._("Si vous le souhaitez, ajoutez un autre param\u00e8tre");return (n.createElement("span",null,n.createElement("div",{style:{display:w.selectedParams.length?'block':'none'}},w.selectedParams.map(this._renderParameterView)),n.createElement("div",{className:((w.selectedParams.length===x.parameters.length?"hidden_elem":'')+(' '+"mvm"))},n.createElement(g,{className:"mlm mtm",placeholder:w.selectedParams.length?z:y,presenter:k,onSelectAttempt:this._onSelectParameterAttempt,searchSource:this.state.searchSource,queryString:w.queryString,onChange:this._onInputChange,showEntriesOnFocus:true}))));},_onSelectParameterAttempt:function(w){if(this._shouldLoadParameterValues(w.getUniqueID())){var x=this._getBonsaiApiBreakdownName(w.getUniqueID()),y={event_name:this.props.event,aggregateBy:'COUNT',breakdowns:[x]};this.addMetric([x,y.event_name],'app_event',y);this.fetchMetrics(true);}var z=this.state.selectedParams;z.push({id:w.getUniqueID(),title:w.getTitle(),operator:l.defaultValue,knownValues:w.getAuxiliaryData().knownValues,values:[]});this.setState({selectedParams:z,queryString:''});},_constructSearchSource:function(w){return {bootstrap:function(x){x&&x();},search:function(x,y){w.sort(function(aa,ba){return aa.title.toUpperCase()>ba.title.toUpperCase()?1:-1;});var z=w.filter(function(aa){return !x||p.isQueryMatch(x,aa.title);}).map(function(aa){return new o({uniqueID:aa.uniqueID,title:aa.title,auxiliaryData:{knownValues:aa.knownValues}});});y(z,x);}};},_onInputChange:function(event){this.setState({queryString:event.target.value});},_renderParameterView:function(w,x){var y=this._getBonsaiApiBreakdownName(w.id),z=w.operator,aa=w.values;if(!l.isArray[z]&&aa.length)aa.splice(1,aa.length-1);var ba=false,ca=[],da=w.knownValues||{};if(this._shouldLoadParameterValues(w.id)){var ea=this.getRawData([y,this.props.event]);if(ea instanceof i){var fa=ea.groupBy(y);ca=Object.keys(fa).map(function(ga){return {title:da[ga]||ga,uniqueID:ga};});}else ba=true;}return (n.createElement(m,{index:x,key:'eventParam_'+w.id+x,knownValues:da,onValuesChanged:this._parameterValuesChanged,onOperatorChanged:this._parameterOperatorChanged,onParameterRemoved:this._paramRemoved,operator:z,possibleValues:ca,possibleValuesLoading:ba,title:w.title,values:aa}));},_shouldLoadParameterValues:function(w){return w!=='_valueToSum'&&w!=='_valueToSumInUSD';},_parameterValuesChanged:function(w,x){var y=this.state.selectedParams;y.forEach(function(z,aa){if(aa===w)z.values=x;});this.setState({selectedParams:y});},_parameterOperatorChanged:function(w,x){var y=this.state.selectedParams;y.forEach(function(z,aa){if(aa===w){z.operator=x;z.values=[];}});this.setState({selectedParams:y});},_paramRemoved:function(w){var x=this.state.selectedParams.filter(function(y,z){return w!==z;});this.setState({selectedParams:x,queryString:''});},_eventClosed:function(){this.setState(this.getInitialState());this.props.onEventClosed();},getSelectedParams:function(){return this.state.selectedParams;}});e.exports=v;},null);
__d("MobileAppRemarketingRuleSelector.react",["AbstractTypeahead.react","AdInterfacesUiLogger","AdsMobileRemarketingEventNameSearchSource","AudienceManagerLoggingEvents","InfoTable.react","InfoTableRow.react","InfoTableSection.react","MobileAppRemarketingRuleTypeaheadPresenter.react","MobileAppRemarketingEventView.react","React","XUITextInput.react","cx","fbt","isNumberLike"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();var u=p,v=u.PropTypes,w=p.createClass({displayName:"MobileAppRemarketingRuleSelector",propTypes:{events:v.array,exclusive:v.bool,label:v.string,shouldValidateUI:v.bool.isRequired},getInitialState:function(){return {queryString:'',selectedEvent:null,duration:'7'};},render:function(){var x=s._("Action effectu\u00e9e"),y=s._("Action non effectu\u00e9e"),z=this.props.exclusive?y:x,aa=s._("Ajouter un \u00e9v\u00e8nement"),ba=s._("Derniers"),ca=this.state,da=ca.selectedEvent?ca.selectedEvent.getTitle():'',ea=ca.selectedEvent?ca.selectedEvent.getAuxiliaryData().segments:[];return (p.createElement("div",{className:"_5rkp"},p.createElement(k,{className:"_5gfn"},p.createElement(m,null,p.createElement(l,{type:"data",label:z},p.createElement("div",null,p.createElement("div",{className:((!!ca.selectedEvent?"hidden_elem":'')+(this.props.shouldValidateUI?' '+"_5vvv":''))},p.createElement(g,{placeholder:aa,presenter:n,onSelectAttempt:this._onSelectEventAttempt,searchSource:new i(this.props.events),queryString:this.state.queryString,onChange:this._onInputChange,showEntriesOnFocus:true})),p.createElement("div",{className:((!ca.selectedEvent?"hidden_elem":''))},p.createElement(o,{ref:"eventView",className:"hidden_elem",onEventClosed:this._closeEvent,eventName:da,parameters:ea})))),p.createElement(l,{label:ba,type:"data"},p.createElement("div",null,p.createElement(q,{value:this.state.duration,onChange:this._durationChanged,className:"_1xio"}),p.createElement("span",{className:"_5se8"},s._("jours"))))))));},_onSelectEventAttempt:function(x){h.log(this.props.exclusive?j.AM_MACA_EDITOR_EXCLUSIVE_EVENT_SELECTED:j.AM_MACA_EDITOR_INCLUSIVE_EVENT_SELECTED);this.setState({selectedEvent:x});},_onInputChange:function(event){this.setState({queryString:event.target.value});},_closeEvent:function(){this.setState({selectedEvent:null,queryString:''});},_durationChanged:function(event){var x=event.target.value;if(!x||t(x)){if(x&&x.length>3)x=x.substring(0,3);this.setState({duration:x});}},getRule:function(){var x=this.state;return {retention_days:x.duration,event:x.selectedEvent?x.selectedEvent.getUniqueID():'',params:this.refs.eventView.getSelectedParams()};}});e.exports=w;},null);
__d("XBonsaiAppEventDataController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/insights\/app_event_data\/",{app_id:{type:"Int",required:true},event:{type:"String",required:true}});},null);
__d("MobileAppRemarketingEventPercentileSentence",["InsightsNumUtils","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=h,l=k.PropTypes,m=h.createClass({displayName:"MobileAppRemarketingEventPercentileSentence",propTypes:{data:l.array.isRequired,event:l.object.isRequired,hintPercentilePosition:l.number.isRequired,measurement:l.oneOf(['count','value']),totalUsers:l.number.isRequired,showHelpText:l.bool},render:function(){var n=100-this.props.hintPercentilePosition,o=parseInt((((100-this.props.hintPercentilePosition)/100)*this.props.totalUsers).toFixed(0),10);return (h.createElement("div",null,h.createElement("div",null,h.createElement("span",{className:"_5snf"},j._("Meilleur {percentage}",[j.param("percentage",n+'%')])),' ',this.props.showHelpText?j._("(Faites glisser le curseur du diagramme pour changer le pourcentage)"):null),h.createElement("div",null,this._renderTotalPeopleSentence(o))));},_renderTotalPeopleSentence:function(n){if(this.props.measurement==='count'){return (j._({"*":"{user count} personnes ({percentage of activity} d\u2019activit\u00e9)"},[j.param("user count",g.prettyInt(n),[0,n]),j.param("percentage of activity",this._getPercentageValueOfPercentile()+'%')]));}else return (j._({"*":"{user count} personnes ({percentage of value} de valeur)"},[j.param("user count",g.prettyInt(n),[0,n]),j.param("percentage of value",this._getPercentageValueOfPercentile()+'%')]));},_getPercentageValueOfPercentile:function(){var n=0,o=0;for(var p=0;p<100;p++){n+=this.props.data[p];if(p>=this.props.hintPercentilePosition)o+=this.props.data[p];}return ((o/n)*100).toFixed(0);}});e.exports=m;},null);
__d("MobileAppRemarketingEventPercentileChart",["AdInterfacesUiLogger","AppEventClientFilter","AsyncRequest","AudienceManagerErrorView.react","AudienceManagerLoggingEvents","BonsaiPercentileChart","BonsaiText","CustomEventPercentilesLoaderMixin","XBonsaiAppEventDataController","FBMoreLink.react","InfoTable.react","InfoTableRow.react","InfoTableSection.react","InsightsContext","LoadingIndicator.react","MobileAppRemarketingEventPercentileSentence","React","CustomEventPercentilesLoaderMixinResponseState","WebApiApplication","XUICheckboxList.react","XUIRadioList.react","XUISelector.react","XUITextInput.react","adsGKCheck","areEqual","cx","fbt","invariant","isNumberLike","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja){b.__markCompiled&&b.__markCompiled();var ka=aa.Item,la=ba.Option,ma=w,na=ma.PropTypes,oa=[75,90],pa=75,qa=70,ra=ga._("Derniers"),sa=['1','7','28'],ta='28',ua='all',va='count',wa='amount',xa='usd_amount',ya={},za=['fb_mobile_first_app_launch'],ab=ga._("Inclure"),bb={all:ga._("Tous les utilisateurs"),count:ga._("Plus d\u2019utilisateurs actifs"),amount:ga._("Utilisateurs \u00e0 grande valeur")},cb=ga._("Filtrer par plateforme"),db=w.createClass({displayName:"MobileAppRemarketingEventPercentileChart",mixins:[n],propTypes:{appID:na.number.isRequired,eventName:na.string.isRequired,initialInterval:na.number,initialMeasurement:na.string,initialPercentile:na.number,onMeasurementChange:na.func,width:na.number},getInitialState:function(){var eb=pa,fb=qa;if(this.props.initialPercentile)if(oa.indexOf(this.props.initialPercentile)!==-1){eb=this.props.initialPercentile;}else{eb='custom';fb=this.props.initialPercentile;}var gb=ja(h),hb=[gb.android,gb.ios];if(da('insights_canvas_events'))hb.push(gb.fbcanvas);hb.push(gb.other);var ib={};hb.forEach(function(jb){ib[jb]=true;});return {durationInput:ta,durationSelector:ta,event:null,measurement:this.props.initialMeasurement||ua,percentileRadio:eb,percentileChart:fb,showClientFilters:false,selectedClientFilters:ib};},componentWillMount:function(){var eb=y.getAccessToken(),fb=y.getClientID();ha(eb&&fb);t.setBonsaiApiAccess(eb,fb);this._loadData(this.props);},componentWillReceiveProps:function(eb){if(eb.appID!==this.props.appID||eb.eventName!==this.props.eventName||eb.interval!==this.props.interval)this._loadData(eb);},shouldComponentUpdate:function(eb,fb){return (eb.appID!==this.props.appID||eb.eventName!==this.props.eventName||eb.interval!==this.props.interval||!ea(fb,this.state));},render:function(){if(this._supportsWhaleRules(this.props.eventName)&&(!this.state.event||!this._getAvailableMeasurements()))return this._renderLoadingIndicator();var eb=this.state.measurement!==ua;return (w.createElement("div",null,w.createElement("div",{className:"_5rkp"},w.createElement(q,{className:"_5gfn"},w.createElement(s,null,this._supportsWhaleRules(this.props.eventName)?this._renderMeasurementSelector():null,w.createElement(r,{className:((eb?"_2ozd":'')),label:ra,type:"data"},eb?this._renderDurationSelector():this._renderDurationText()),this._renderClientFilters(eb)))),eb?this._renderChart():null));},_renderClientFilters:function(eb){if(eb)return null;var fb=w.createElement(p,{moreLabel:cb,lessLabel:cb,allowToggle:true,onClick:this._onToggleClientFilters,isInitiallyCollapsed:true});if(!this.state.showClientFilters)return (w.createElement(r,null,fb));var gb=Object.keys(this.state.selectedClientFilters).map(function(hb){return {value:hb,label:m.breakdown.client[hb],checked:this.state.selectedClientFilters[hb]};}.bind(this));return (w.createElement(r,null,w.createElement("div",null,w.createElement("div",null,fb),w.createElement("div",null,w.createElement(z,{items:gb,onAdd:this._onAddClientFilter,onRemove:this._onRemoveClientFilter})))));},_supportsWhaleRules:function(eb){return za.indexOf(eb)===-1;},_isLoadingInsightsData:function(){var eb=this.state.event.name,fb=this.getTotalUsersData(eb),gb=this.getCountPercentileData(eb),hb=this.getValuePercentileData(eb);if(!fb||!gb||!hb||this.isAnyDataLoading(gb)||this.isAnyDataLoading(hb))return true;var ib=this.state.durationSelector,jb=fb[ib],kb=gb[ib],lb=hb[ib];if(!jb||!kb||!lb)return true;return false;},_getAvailableMeasurements:function(){var eb=this.state.event.name;if(ya[this.props.appID]&&ya[this.props.appID][eb])return ya[this.props.appID][eb];var fb=this.getValuePercentileData(eb);if(!fb)return null;var gb=false,hb=false,ib=false;Object.keys(fb).forEach(function(kb){var lb=fb[kb];if(lb.getState()===x.SUCCESS||lb.getState()===x.NO_DATA)gb=true;if(lb.getState()===x.SUCCESS){hb=true;ib=lb.getPayload().isUSD;}});if(!gb)return null;var jb=[ua,va];if(ib){jb.push(xa);}else jb.push(wa);if(!ya[this.props.appID])ya[this.props.appID]={};ya[this.props.appID][eb]=jb;return jb;},_renderChart:function(){if(this._isLoadingInsightsData())return this._renderLoadingIndicator();var eb=this.state.event.name,fb=this.getTotalUsersData(eb),gb=this.state.measurement===va?this.getCountPercentileData(eb):this.getValuePercentileData(eb),hb=this.state.durationSelector,ib=gb[hb],jb=fb[hb];if(ib.getState()===x.ERROR||jb.getState()===x.ERROR){var kb;if(ib.getState()===x.ERROR){kb=ib.getPayload();}else kb=jb.getPayload();return (w.createElement(j,{shown:true,message:kb}));}if(ib.getState()===x.NO_DATA)return this._renderNoDataMessage();var lb=this.state.measurement===va?ib.getPayload():ib.getPayload().data,mb=jb.getPayload(),nb=this.state.measurement===xa?'USD':null,ob;if(this.state.measurement===va){ob='count';}else if(eb==='fb_mobile_purchase'){ob='spend';}else ob='value';return (w.createElement("div",{className:"_409d"},this.state.measurement!==ua?this._renderPercentileRadio(lb,mb):null,this.state.percentileRadio==='custom'?w.createElement(l,{className:"_5688",currency:nb,data:lb,event:this.state.event,hintPercentilePosition:this.state.percentileChart,interval:parseInt(hb,10),key:'day_'+hb,measurement:ob,onHintPercentileChange:this._onPercentileChartChange,totalUsers:mb,width:this.props.width}):null));},_renderDurationText:function(){return (w.createElement("div",null,w.createElement(ca,{className:"_1xio",onChange:this._onDurationTextChange,value:this.state.durationInput}),w.createElement("span",{className:"_5se8"},ga._("jours"))));},_renderDurationSelector:function(){var eb=[];sa.forEach(function(fb){eb.push(w.createElement(la,{key:fb,value:fb},fb==1?ga._("1 jour"):ga._("{days} jours",[ga.param("days",fb)])));});return (w.createElement(ba,{onChange:this._onDurationSelectorChange,value:this.state.durationSelector},eb));},_renderMeasurementSelector:function(){var eb=this._getAvailableMeasurements(),fb=[];eb.forEach(function(hb){var ib;if(hb===wa||hb===xa){ib=bb[wa];}else ib=bb[hb];fb.push(w.createElement(la,{value:hb,key:hb},ib));});var gb=this.state.measurement;if(gb==='amount'&&eb.indexOf('amount')===-1)gb='usd_amount';return (w.createElement(r,{className:"_2ozd",label:ab,type:"data"},w.createElement(ba,{onChange:this._onMeasurementChange,value:gb},fb)));},_renderPercentileRadio:function(eb,fb){var gb=this.state.measurement===va?'count':'value',hb=[];oa.forEach(function(ib){hb.push(w.createElement(ka,{key:'radio'+ib,value:ib},w.createElement(v,{data:eb,event:this.state.event,hintPercentilePosition:ib,measurement:gb,totalUsers:fb})));}.bind(this));hb.push(w.createElement(ka,{key:"radiocustom",value:"custom"},this.state.percentileRadio==='custom'?w.createElement("div",null,w.createElement(v,{data:eb,event:this.state.event,hintPercentilePosition:this.state.percentileChart,measurement:gb,totalUsers:fb,showHelpText:true})):ga._("Pourcentage personnalis\u00e9")));return (w.createElement(aa,{className:"_409h",onChange:this._onPercentileRadioChange,selectedValue:this._getSelectedPercentileRadioValue()},hb));},_getSelectedPercentileRadioValue:function(){if(this.state.percentileRadio===0||oa.indexOf(this.state.percentileRadio)!==-1)return this.state.percentileRadio;return 'custom';},_renderLoadingIndicator:function(){return (w.createElement("div",{className:"_409i"},w.createElement(u,{size:"large",color:"blue"})));},_renderNoDataMessage:function(){g.log(k.AM_MACA_EDITOR_NO_PERCENTILE_DATA);return (w.createElement("div",null,w.createElement(j,{shown:true,message:ga._("Il n\u2019y a aucune donn\u00e9e \u00e0 afficher pour cet \u00e9v\u00e8nement")})));},_onMeasurementChange:function(eb){if(eb.value===va){g.log(k.AM_MACA_EDITOR_INCLUDE_MOST_ACTIVE);}else if(eb.value===wa||eb.value===xa)g.log(k.AM_MACA_EDITOR_INCLUDE_HIGHEST_VALUE);this.setState({measurement:eb.value});if(this.props.onMeasurementChange)this.props.onMeasurementChange(eb.value);},_onDurationSelectorChange:function(eb){this.setState({durationSelector:eb.value});this._loadEventMetrics(this.props);},_onDurationTextChange:function(event){var eb=event.target.value;if(!eb||ia(eb)){if(eb&&eb.length>3)eb=eb.substring(0,3);this.setState({durationInput:eb});}},_onPercentileRadioChange:function(event){if(event.target.value==='custom')g.log(k.AM_MACA_EDITOR_SHOW_PERCENTILE_CHART);var eb=event.target.value!=='custom'?parseInt(event.target.value,10):'custom';this.setState({percentileRadio:eb});},_onPercentileChartChange:function(eb){this.setState({percentileChart:eb});},_loadData:function(eb){if(this.state.event&&this.state.event.name===eb.eventName){this._loadEventMetrics(eb);return;}new i(o.getURIBuilder().setInt('app_id',this.props.appID).setString('event',this.props.eventName).getURI()).setHandler(function(fb){this.setState({event:fb.payload});this._loadEventMetrics(eb);}.bind(this)).send();},_loadEventMetrics:function(eb){t.setObjID(eb.appID);eb.event=this.state.event;this.fetchPercentileMetrics(eb,[this.state.durationSelector]);},_onToggleClientFilters:function(){this.setState({showClientFilters:!this.state.showClientFilters});},_onAddClientFilter:function(eb){var fb=Object.assign({},this.state.selectedClientFilters);fb[eb.value]=true;this.setState({selectedClientFilters:fb});},_onRemoveClientFilter:function(eb){var fb=Object.assign({},this.state.selectedClientFilters);fb[eb.value]=false;this.setState({selectedClientFilters:fb});},getCumulativeRule:function(){var eb=this.state.percentileRadio!=='custom'?this.state.percentileRadio:this.state.percentileChart;if(this.state.measurement===ua||eb===0)return null;g.log(k.AM_MACA_EDITOR_CREATE_WHALE_AUDIENCE_ATTEMPT);return {metric:this.state.measurement,period:this.state.durationSelector+'d',technique:{technique_name:'percentile',lower_bound:eb}};},getDuration:function(){var eb=this.state.measurement===ua?this.state.durationInput:this.state.durationSelector;return parseInt(eb,10);},getClientFilters:function(){var eb=Object.keys(this.state.selectedClientFilters).filter(function(fb){return this.state.selectedClientFilters[fb];}.bind(this));if(eb.length===Object.keys(this.state.selectedClientFilters).length)return null;return eb;}});e.exports=db;},null);
__d("MobileAppRemarketingWhaleRuleSelector.react",["AbstractTypeahead.react","AdsMobileRemarketingEventNameSearchSource","InsightsContext","InfoTable.react","InfoTableRow.react","InfoTableSection.react","MobileAppRemarketingEventPercentileChart","MobileAppRemarketingRuleTypeaheadPresenter.react","MobileAppRemarketingEventView.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=p,t=s.PropTypes,u=541,v=r._("Action effectu\u00e9e"),w=r._("Action non effectu\u00e9e"),x=p.createClass({displayName:"MobileAppRemarketingWhaleRuleSelector",propTypes:{appID:t.number,events:t.array,initialEventName:t.string,initialDuration:t.string,initialMeasurement:t.string,initialPercentile:t.string,shouldValidateUI:t.bool.isRequired,type:t.oneOf(['inclusion','exclusion'])},getInitialState:function(){return {enableEventParams:!this.props.initialPercentile,initialDuration:this.props.initialDuration,initialMeasurement:this.props.initialMeasurement,initialPercentile:this.props.initialPercentile,queryString:'',selectedEvent:null};},componentWillMount:function(){if(this.props.initialEventName){var y=new h(this.props.events,function(event){return event.event_name;});y.search(this.props.initialEventName,function(z){if(z&&z.length>0)this.setState({selectedEvent:z[0]});}.bind(this));}},render:function(){var y=this.props.type==='inclusion'?v:w,z=r._("Tapez pour rechercher vos \u00e9v\u00e8nements"),aa=this.state.selectedEvent?this.state.selectedEvent.getTitle():'',event=this.state.selectedEvent?this.state.selectedEvent.getUniqueID():'',ba=this.state.selectedEvent?this.state.selectedEvent.getAuxiliaryData().segments:[];return (p.createElement("div",null,p.createElement("div",{className:"_5rkp"},p.createElement(j,{className:"_5gfn"},p.createElement(l,null,p.createElement(k,{type:"data",label:y},p.createElement("div",null,p.createElement("div",{className:((!!this.state.selectedEvent?"hidden_elem":'')+(this.props.shouldValidateUI?' '+"_5vvv":''))},p.createElement(g,{placeholder:z,presenter:n,onSelectAttempt:this._onSelectEventAttempt,searchSource:new h(this.props.events,function(event){return event.display_name;}),queryString:this.state.queryString,onChange:this._onInputChange,showEntriesOnFocus:true})),p.createElement("div",{className:((!this.state.selectedEvent?"hidden_elem":''))},p.createElement(o,{enableEventParameters:this.state.enableEventParams,eventDisplayName:aa,event:event,fullDateRange:i.getFullDateRange(),onEventClosed:this._closeEvent,parameters:ba,ref:"eventView"}))))))),this._renderPercentileChart()));},_renderPercentileChart:function(){if(!this.state.selectedEvent)return null;var y=this.state.initialPercentile&&parseInt(this.state.initialPercentile,10);return (p.createElement(m,{appID:this.props.appID,eventName:this.state.selectedEvent.getUniqueID(),fullDateRange:i.getFullDateRange(),initialInterval:parseInt(this.state.initialInterval,10),initialMeasurement:this.state.initialMeasurement,initialPercentile:y,key:"percentileChart",onMeasurementChange:this._onMeasurementChange,ref:"percentileChart",width:u,visibleDateRange:i.getDefaultVisibleDateRange()}));},_onSelectEventAttempt:function(y){this.setState({enableEventParams:true,initialDuration:null,initialMeasurement:null,initialPercentile:null,selectedEvent:y});},_onInputChange:function(event){this.setState({queryString:event.target.value});},_onMeasurementChange:function(y){this.setState({enableEventParams:y==='all'});},_closeEvent:function(){this.setState({selectedEvent:null,queryString:''});},getRule:function(){if(!this.state.selectedEvent)return null;var y={retention_days:this.refs.percentileChart.getDuration(),event:this.state.selectedEvent.getUniqueID(),params:this.refs.eventView.getSelectedParams()},z=this.refs.percentileChart.getCumulativeRule();if(z){y.cumulativeRule=z;}else y.clientFilters=this.refs.percentileChart.getClientFilters();return y;}});e.exports=x;},null);
__d("AdsCreateMobileRemarketingAudienceViewV2.react",["AdInterfacesUiLogger","AdsMobileRemarketingAppNameSearchSource","AudienceManagerErrorView.react","AudienceManagerLoggingEvents","AudienceManagerTextInput","AudienceManagerURLConstants","InfoTable.react","InfoTableRow.react","InfoTableSection.react","Link.react","MobileAppRemarketingAppTypeahead.react","MobileAppRemarketingRuleSelector.react","MobileAppRemarketingWhaleRuleSelector.react","React","XUIMenuStaticItem.react","XUISelector.react","XUITextInput.react","adsGKCheck","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){b.__markCompiled&&b.__markCompiled();var aa=v.Option,ba=t,ca=ba.PropTypes,da='action_taken_activity',ea='action_not_taken_activity',fa='combined_action_activity',ga='fb_mobile_activate_app',ha=180,ia=t.createClass({displayName:"AdsCreateMobileRemarketingAudienceViewV2",propTypes:{searchSource:ca.object,dao:ca.object,error:ca.string,shouldValidateUI:ca.bool.isRequired,defaultMobileApp:ca.object,config:ca.object},componentWillMount:function(){if(this.props.config){this._loadConfig(this.props.config);}else if(this.props.defaultMobileApp!==null)this._appSelected(this.props.defaultMobileApp);},getInitialState:function(){return {selectedActivity:null,selectedApp:null,selectedRules:null,events:null,name:'',description:''};},render:function(){var ja=z._("Nom"),ka=z._("Application"),la=z._("Saisir un nom d\u2019application");return (t.createElement("div",{className:"_5ezu"},t.createElement("div",{className:"_5rkp"},t.createElement(m,{className:"_5oht"},t.createElement(o,null,t.createElement(n,{label:ja,type:"data"},t.createElement("div",null,t.createElement(w,{value:this.state.name,onChange:this._nameChanged,className:((!this.state.name&&this.props.shouldValidateUI?"_5vvv":'')),placeholder:z._("Nommer votre audience")}))),t.createElement(n,{label:z._("Description")},t.createElement(k,{isTextArea:true,className:"_5w16",value:this.state.description,placeholder:z._("Ajoutez une description de votre audience (facultatif)"),onChange:this._descriptionChanged})),t.createElement(n,{label:ka},t.createElement("div",{className:((!this.state.selectedApp&&this.props.shouldValidateUI?"_5vvv":''))},t.createElement(q,{dao:this.props.dao,searchSource:this.props.searchSource,selectedApp:this.state.selectedApp,appSelected:this._appSelected,placeholder:la}))),t.createElement(n,{className:((!this.state.selectedApp||!this.state.events?"hidden_elem":''))},t.createElement("div",null,t.createElement("div",{className:"pbs"},z._("Cr\u00e9ez une liste de personnes en fonction de leur activit\u00e9 dans votre application")),t.createElement("div",null,t.createElement(v,{disabled:!this.state.selectedApp,onChange:this._activitySelected,value:this.state.selectedActivity},this._renderActivityTypeOptions()))))))),this._renderRuleSelectors(),t.createElement(i,{shown:this.state.selectedApp&&!this.state.events,message:z._("Cette application ne consigne aucun \u00e9v\u00e8nement.")}),t.createElement(i,{shown:!!this.props.error,message:this.props.error})));},_nameChanged:function(event){this.setState({name:event.target.value});},_descriptionChanged:function(ja){this.setState({description:ja});},_appSelected:function(ja,ka){if(!ja){this.setState({selectedApp:ja});return;}this.props.dao.fetch.appEventTypesForApp.one(function(la){if(la&&la.length>0){g.log(j.AM_MACA_EDITOR_APP_SELECTED);}else g.log(j.AM_MACA_EDITOR_APP_NO_EVENTS);this.setState({selectedApp:ja,selectedRules:null,events:la});ka&&ka();}.bind(this),{fbid:ja.getUniqueID()});},_activitySelected:function(ja){var ka;switch(ja.value){case da:ka=j.AM_MACA_EDITOR_ACTION_TAKEN_ACTIVITY_SELECTED;break;case ea:ka=j.AM_MACA_EDITOR_ACTION_NOT_TAKEN_ACTIVITY_SELECTED;break;case fa:ka=j.AM_MACA_EDITOR_COMBINATION_ACTION_ACTIVITY_SELECTED;break;}if(ka)g.log(ka);this.setState({selectedActivity:ja.value});},_renderActivityTypeOptions:function(){return [t.createElement(u,{className:"_4g1e"},z._("S\u00e9lectionnez un \u00e9l\u00e9ment")),t.createElement(aa,{key:da,value:da},z._("Action effectu\u00e9e")),t.createElement(aa,{key:ea,value:ea},z._("Action non effectu\u00e9e")),t.createElement(aa,{key:fa,value:fa},z._("Action combin\u00e9e"))];},_renderRuleSelectors:function(){if(!this.state.selectedApp||!this.state.events||!this.state.selectedActivity)return null;var ja=x('am_maca_whale_ui'),ka=[];switch(this.state.selectedActivity){case da:var la=null,ma=null,na=null,oa=null;if(this.state.selectedRules&&this.state.selectedRules.inclusion){var pa=this.state.selectedRules.inclusion;la=pa.event;ma=pa.days;na=pa.percentile;oa=pa.measurement;}ka.push(ja?t.createElement(s,{appID:parseInt(this.state.selectedApp.getUniqueID(),10),shouldValidateUI:this.props.shouldValidateUI,events:this.state.events,initialEventName:la,initialDuration:ma,initialMeasurement:oa,initialPercentile:na,key:"actionTakenRule",ref:"ruleSelectorInclusive",type:"inclusion"}):t.createElement(r,{shouldValidateUI:this.props.shouldValidateUI,events:this.state.events,key:"actionTakenRule",ref:"ruleSelectorInclusive"}));break;case ea:var qa=this.state.events.filter(function(event){return event.event_name===ga;})[0];if(!qa)return this._renderActionNotTakenUpsell();ka.push(ja?t.createElement(s,{appID:parseInt(this.state.selectedApp.getUniqueID(),10),shouldValidateUI:this.props.shouldValidateUI,events:this.state.events,key:"actionNotTakenRule",ref:"ruleSelectorExclusive",type:"exclusion"}):t.createElement(r,{shouldValidateUI:this.props.shouldValidateUI,exclusive:true,events:this.state.events,key:"actionNotTakenRule",ref:"ruleSelectorExclusive"}));break;case fa:ka.push(ja?t.createElement(s,{appID:parseInt(this.state.selectedApp.getUniqueID(),10),shouldValidateUI:this.props.shouldValidateUI,events:this.state.events,key:"comboActionTakenRule",ref:"ruleSelectorInclusive",type:"inclusion"}):t.createElement(r,{shouldValidateUI:this.props.shouldValidateUI,events:this.state.events,key:"comboActionTakenRule",ref:"ruleSelectorInclusive"}));ka.push(ja?t.createElement(s,{appID:parseInt(this.state.selectedApp.getUniqueID(),10),shouldValidateUI:this.props.shouldValidateUI,events:this.state.events,key:"comboActionNotTakenRule",ref:"ruleSelectorExclusive",type:"exclusion"}):t.createElement(r,{exclusive:true,key:"comboActionNotTakenRule",shouldValidateUI:this.props.shouldValidateUI,events:this.state.events,ref:"ruleSelectorExclusive"}));break;}return (t.createElement("div",null,t.createElement("div",{className:"_5svv"}),ka));},_renderActionNotTakenUpsell:function(){g.log(j.AM_MACA_ACTIVATE_APP_UPSELL_SHOWN);return (t.createElement("div",null,t.createElement("div",{className:"_5svv"}),t.createElement(i,{shown:true,message:z._("Cette application ne consigne pas les \u00e9v\u00e8nements d\u2019activation d\u2019application.")}),t.createElement("div",{className:"pam"},z._("Cela est requis pour cr\u00e9er des audiences personnalis\u00e9es bas\u00e9es sur une action non effectu\u00e9e. Voir {app activation info link for iOS} ou {app activation info link for Android} pour en savoir plus.",[z.param("app activation info link for iOS",t.createElement(p,{href:l.MACA_IOS_ACTIVATE_APP,target:"_blank"},z._("Activations d\u2019applications pour iOS"))),z.param("app activation info link for Android",t.createElement(p,{href:l.MACA_ANDROID_ACTIVATE_APP,target:"_blank"},z._("Activations d\u2019applications pour Android")))]))));},_loadConfig:function(ja){var ka=h.getInstance(this.props.dao);ka.searchImpl(ja.rule.application,function(la){if(la&&la.length>0)this._appSelected(la[0],function(){var ma={inclusion:{event:ja.rule.eventName,days:ja.rule.days,percentile:ja.rule.percentile,measurement:ja.rule.measurement}};this.setState({selectedActivity:da,selectedRules:ma});}.bind(this));}.bind(this));},getCreationParams:function(){var ja=this.state,ka={name:ja.name,description:ja.description,application:ja.selectedApp&&ja.selectedApp.getUniqueID()};if(this.state.selectedActivity===ea){ka.inclusions=[this._getActivatedAppRule()];}else if(this.refs.ruleSelectorInclusive)ka.inclusions=[this.refs.ruleSelectorInclusive.getRule()];if(this.refs.ruleSelectorExclusive)ka.exclusions=[this.refs.ruleSelectorExclusive.getRule()];return ka;},_getActivatedAppRule:function(){return {event:ga,params:[],retention_days:ha};},clearState:function(){this.setState(this.getInitialState());}});e.exports=ia;},null);
__d("AdsMobileRemarketingRuleOperations",["AudienceManagerAppRemarketingOperatorConfig","copyProperties","fbt","mergeArrays"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=function(o,p){if(!o.event)return false;var q=o.retention_days;if(!q||(parseInt(q,10)!=parseFloat(q,10))||q<1||q>180){p(i._("Le nombre de jours d\u2019inclusion dans la liste doit \u00eatre un nombre entier compris ente 1 et 180"));return false;}var r=o.params.filter(function(s){return s.values&&!s.values.length;});if(r.length){p(i._("Valeur du param\u00e8tre requise"));return false;}return true;};f.validateCombinationRule=function(o,p){if(!o.name||!o.application||(!o.inclusions&&!o.exclusions))return false;var q=[];if(o.inclusions)q=j(q,o.inclusions);if(o.exclusions)q=j(q,o.exclusions);for(var r=0;r<q.length;r++){var s=q[r];if(!k(s,p))return false;}return true;};f.validateRule=function(o,p){if(!o.name||!o.application||!o.rule.event)return false;return k(o.rule);};var l=function(o){var p={};o.forEach(function(q){if(!p[q.id])p[q.id]=[];var r;if(g.isArray[q.operator]){r=q.values;}else r=q.values[0];var s={};s[q.operator]=r;p[q.id].push(s);});return Object.keys(p).map(function(q){var r=p[q].map(function(s){var t={};t[q]=s;return t;});return {and:r};});};f.transformUIParamsToAPIRule=l;var m=function(o,p){if(o.cumulativeRule)return n(o,p);var q={retention_days:o.retention_days,type:'app',rule:{_application:p,_eventName:o.event}},r=l(o.params);if(r&&r.length)q.rule.and=r;if(o.clientFilters)q.rule._clientFilters=o.clientFilters;return q;},n=function(o,p){var q={retention_days:o.retention_days,type:'app',rule:{_application:p,_eventName:o.event,_cumulativeRule:o.cumulativeRule}};return q;};f.getUploadParams=function(o,p){var q={name:o.name,description:o.description,handleError:function(r,s){var t=s.error&&s.error.message;p(t);}.bind(this)};h(q,m(o.rule,o.application));return q;};f.getCombinationUploadParams=function(o,p){var q={name:o.name,description:o.description,handleError:function(r,s){var t=s.error&&s.error.message;p(t);}.bind(this)};if(o.inclusions){q.inclusions=[];o.inclusions.forEach(function(r){q.inclusions.push(m(r,o.application));});}if(o.exclusions){q.exclusions=[];o.exclusions.forEach(function(r){q.exclusions.push(m(r,o.application));});}return q;};},null);
__d("AdsCreateMobileRemarketingAudienceDialog.react",["AdsCreateMobileRemarketingAudienceViewV2.react","AdInterfacesUiLogger","AudienceManagerLoggingEvents","AudienceManagerUIConstants","AudienceManagerURLConstants","LayerHideOnEscape","Link.react","React","ReactLayeredComponentMixin","AdsMobileRemarketingRuleOperations","XRemarketingTOSController","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogOkayButton.react","XUIDialogFooter.react","XUIDialogButton.react","XUIDialogTitle.react","XUISpinner.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){b.__markCompiled&&b.__markCompiled();var ba=n,ca=ba.PropTypes,da={NUX_DIALOG:1,CREATE_AUDIENCE_DIALOG:2,CREATE_AUDIENCE_REQUEST_SENT:3,CREATE_AUDIENCE_REQUEST_COMPLETE:4},ea=n.createClass({displayName:"AdsCreateMobileRemarketingAudienceDialog",mixins:[o],propTypes:{dao:ca.object.isRequired,accountID:ca.string.isRequired,config:ca.object,onAudienceAdded:ca.func.isRequired,onCancel:ca.func.isRequired,tosAccepted:ca.object.isRequired,tosRequirementsForAccount:ca.object.isRequired,defaultMobileApp:ca.object},getInitialState:function(){return {viewState:da.NUX_DIALOG,termsAccepted:false,error:null,shouldValidateUI:false};},render:function(){return n.createElement("span",null);},renderLayers:function(){return {dialog:n.createElement(r,{layerHideOnBlur:false,shown:true,behaviors:{LayerHideOnEscape:l},width:j.DEFAULT_DIALOG_WIDTH,onToggle:this._onToggle},n.createElement(x,null,this._renderDialogTitle()),n.createElement(s,null,n.createElement("div",{className:"_5rkr"},this._renderDialogBody())),n.createElement(v,{leftContent:this._renderDialogFooterLeftContent()},this._renderFooter()))};},_renderDialogBody:function(){switch(this.state.viewState){case da.NUX_DIALOG:return (n.createElement("div",null,n.createElement("div",null,n.createElement("p",null,aa._("Cr\u00e9ez une audience personnalis\u00e9e pour atteindre les personnes qui ont effectu\u00e9 des actions sp\u00e9cifiques dans votre application, comme par exemple atteindre un certain niveau dans un jeu, ajouter des articles dans leur panier ou noter votre application.")),n.createElement("p",null,aa._("Commencez \u00e0 mesurer les \u00e9v\u00e8nements de votre application en int\u00e9grant notre SDK pour {ios-link}, {android-link} et {canvas-link}. Chaque fois qu\u2019une personne effectue l\u2019action sp\u00e9cifi\u00e9e dans votre application, elle est ajout\u00e9e \u00e0 votre audience personnalis\u00e9e.",[aa.param("ios-link",n.createElement(m,{href:k.MACA_IOS_SDK,target:"_blank"},"iOS")),aa.param("android-link",n.createElement(m,{href:k.MACA_ANDROID_SDK,target:"_blank"},"Android")),aa.param("canvas-link",n.createElement(m,{href:k.MACA_CANVAS_SDK,target:"_blank"},"Canvas"))]))),n.createElement("div",null,n.createElement("input",{type:"checkbox",checked:this._getIsTosAccepted()||this.state.termsAccepted,onChange:this._termsCheckboxChanged,disabled:this._getIsTosAccepted()},aa._("J\u2019ai lu et j\u2019accepte les {=Terms for Custom Audience from your App and Website}",[aa.param("=Terms for Custom Audience from your App and Website",n.createElement(m,{target:"_blank",href:(q.getURIBuilder()).setInt('act',this.props.accountID).getURI()},aa._("Conditions de l\u2019audience personnalis\u00e9e de votre application et votre site web")))])))));case da.CREATE_AUDIENCE_DIALOG:case da.CREATE_AUDIENCE_REQUEST_SENT:return (n.createElement(g,{config:this.props.config,dao:this.props.dao,ref:"view",error:this.state.error,shouldValidateUI:this.state.shouldValidateUI,defaultMobileApp:this.props.defaultMobileApp}));case da.CREATE_AUDIENCE_REQUEST_COMPLETE:return (n.createElement("div",{className:"_5saq"},n.createElement("div",{className:"_5svr _5svs"},aa._("Nous vous remercions d\u2019avoir cr\u00e9\u00e9 une audience personnalis\u00e9e")),n.createElement("p",null,aa._("Votre audience est pr\u00eate."))));}},_renderDialogTitle:function(){switch(this.state.viewState){case da.CREATE_AUDIENCE_REQUEST_COMPLETE:return (aa._("Audience personnalis\u00e9e cr\u00e9\u00e9e depuis votre application mobile"));default:return (aa._("Cr\u00e9er une audience personnalis\u00e9e pour votre application"));}},_renderFooter:function(){switch(this.state.viewState){case da.NUX_DIALOG:return (n.createElement("div",null,n.createElement(t,null),n.createElement(w,{use:"confirm",action:"confirm",onClick:this._onNuxCreateClick,disabled:!this.state.termsAccepted&&!this._getIsTosAccepted(),label:aa._("Cr\u00e9er une audience")})));case da.CREATE_AUDIENCE_DIALOG:return (n.createElement("div",null,n.createElement(t,null),n.createElement(w,{use:"confirm",action:"confirm",onClick:this._onCreateClick,label:aa._("Cr\u00e9er une audience")})));case da.CREATE_AUDIENCE_REQUEST_SENT:return (n.createElement("div",null,n.createElement(y,{className:"_5jy4",size:"small",background:"light"}),n.createElement(t,{disabled:true}),n.createElement(w,{use:"confirm",action:"confirm",onClick:this._onCreateClick,disabled:true,label:aa._("Cr\u00e9er une audience")})));case da.CREATE_AUDIENCE_REQUEST_COMPLETE:return n.createElement(u,{use:"confirm",action:"cancel"});}},_renderDialogFooterLeftContent:function(){switch(this.state.viewState){case da.NUX_DIALOG:return (n.createElement(m,{href:k.MACA_LEARN_MORE,target:"_blank"},aa._("En savoir plus")));default:return n.createElement("span",null);}},_onNuxCreateClick:function(){if(!this._getIsTosAccepted())this._acceptTos();h.log(i.AM_MACA_NUX_CREATE_AUDIENCE);this.setState({viewState:da.CREATE_AUDIENCE_DIALOG});},_acceptTos:function(){this.props.dao.add.acceptCustomAudiencesTos.one(function(){},{accountId:this.props.accountID,tos_id:this.props.tosRequirementsForAccount.mobile_app_custom_audience});},_onCreateClick:function(){this.setState({shouldValidateUI:true});var fa=this.refs.view.getCreationParams(),ga=p.validateCombinationRule(fa,function(ia){this.setState({error:ia,viewState:da.CREATE_AUDIENCE_DIALOG});}.bind(this));if(!ga){h.log(i.AM_MACA_EDITOR_VALIDATION_FAILURE);return;}h.log(i.AM_MACA_EDITOR_CREATE_AUDIENCE);this.setState({viewState:da.CREATE_AUDIENCE_REQUEST_SENT});var ha=p.getCombinationUploadParams(fa,function(ia){this.setState({error:ia,viewState:da.CREATE_AUDIENCE_DIALOG});}.bind(this));this.props.dao.add.createMobileAppCombinationCustomAudience.one(function(ia){this.props.onAudienceAdded(ia.id);this.setState({viewState:da.CREATE_AUDIENCE_REQUEST_COMPLETE});h.log(i.AM_MACA_EDITOR_CREATE_SUCCESS);}.bind(this),ha);},_getIsTosAccepted:function(){var fa=this.props.tosRequirementsForAccount.mobile_app_custom_audience;return this.props.tosAccepted.hasOwnProperty(fa)&&(this.props.tosAccepted[fa]==1);},_termsCheckboxChanged:function(event){this.setState({termsAccepted:event.target.checked});},_onToggle:function(fa){if(!fa)this.props.onCancel();}});e.exports=ea;},null);
__d("CustomAudienceFinishNextStepSelector.react",["Image.react","ImageBlock.react","React","XUIGrayText.react","cx","ix","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=i,o=n.PropTypes,p=l('/images/ads/audience_manager/ca_new_ad.png'),q=l('/images/ads/createflow/targeting/new_ca.png'),r=i.createClass({displayName:"CustomAudienceFinishNextStepSelector",propTypes:{onCreateAdClick:o.func.isRequired,onCreateLookalikeClick:o.func.isRequired},render:function(){return (i.createElement("div",{className:"_247t"},i.createElement("ul",null,this._renderCreateAdItem(),this._renderCreateLookalikeItem())));},_renderCreateAdItem:function(){return (i.createElement("li",{className:"_247s",onClick:this.props.onCreateAdClick},i.createElement(h,{spacing:"large"},i.createElement(g,{src:p}),i.createElement("div",null,i.createElement(j,{weight:"bold",shade:"medium",size:"medium"},m._("Cr\u00e9er une publicit\u00e9 avec l\u2019audience")),i.createElement("div",{className:"_3-8x"},m._("Vous pouvez cr\u00e9er une publicit\u00e9 avec l\u2019audience personnalis\u00e9e que vous venez de cr\u00e9er."))))));},_renderCreateLookalikeItem:function(){return (i.createElement("li",{className:"_247s",onClick:this.props.onCreateLookalikeClick},i.createElement(h,{spacing:"large"},i.createElement(g,{src:q}),i.createElement("div",null,i.createElement(j,{weight:"bold",shade:"medium",size:"medium"},m._("D\u00e9veloppez votre audience")),i.createElement("div",{className:"_3-8x"},m._("Facebook peut vous aider \u00e0 atteindre plus de personnes qui comptent pour votre entreprise en trouvant celles qui sont similaires \u00e0 votre audience source."))))));}});e.exports=r;},null);
__d("AudienceManagerNextStepDialogContent.react",["CustomAudienceFinishNextStepSelector.react","React","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIGrayText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=h,p=o.PropTypes,q=h.createClass({displayName:"AudienceManagerNextStepDialogContent",propTypes:{onFinish:p.func.isRequired,onCreateAdClick:p.func.isRequired,onCreateLookalikeClick:p.func.isRequired},render:function(){return (h.createElement("div",null,h.createElement(i,null,h.createElement("div",{className:"_50_z"},h.createElement(l,{weight:"bold",shade:"medium",size:"medium"},n._("\u00c9tapes suivantes")),h.createElement("div",{className:"_3-98 _3-8y"},n._("Cr\u00e9ez une publicit\u00e9 avec l\u2019audience personnalis\u00e9e que vous venez de cr\u00e9er ou cr\u00e9ez une audience similaire pour l\u2019\u00e9toffer.")),h.createElement(g,{onCreateAdClick:this.props.onCreateAdClick,onCreateLookalikeClick:this.props.onCreateLookalikeClick}))),h.createElement(k,null,h.createElement(j,{onClick:this.props.onFinish,label:n._("Termin\u00e9")}))));}});e.exports=q;},null);
__d("AdsCreateLookalikeDialogRangeInput.react",["Event","React","UserAgent_DEPRECATED","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=h,m=l.PropTypes,n=135,o=h.createClass({displayName:"AdsCreateLookalikeDialogRangeInput",propTypes:{className:m.string,min:m.number.isRequired,max:m.number.isRequired,step:m.number,value:m.number,disabled:m.bool,onChange:m.func},getInitialState:function(){return {value:this.props.value||this.props.min,pressed:false};},componentDidMount:function(){var p=i.ie()<9?document.documentElement:window;g.listen(p,{mousemove:function(q){return this._onMouseMove(q);}.bind(this),mouseup:function(q){return this._onMouseUp(q);}.bind(this)});},componentWillReceiveProps:function(p){if(p.value!==this.props.value)this.setState({value:p.value});},_onMouseDown:function(event){if(!this.props.disabled){g.prevent(event);this.setState({pressed:true,dragStartValue:this.state.value,dragStartX:event.nativeEvent.clientX});}},_onMouseMove:function(event){if(this.state.pressed){var p=(event.clientX-this.state.dragStartX),q=(this.props.max-this.props.min)/n,r=this.state.dragStartValue+(p*q),s=this.props.min,t=this.props.max;r=r<s?s:r;r=r>t?t:r;this.setState({value:r});this._onChange();}},_onMouseUp:function(event){if(this.state.pressed)this.setState({pressed:false});},_onChange:function(){if(this.props.onChange){var p=this.state.value,q=this.props.step;if(q){p=Math.round(p/q)*q;this.props.onChange(p);}}},render:function(){var p=this.props,q=this.state,r=p.max-p.min,s=(q.value-p.min)/r,t=Math.round(s*n),u=(("_38v0")+(p.disabled?' '+"_19ys":''));return (h.createElement("div",h.__spread({},this.props,{className:k(this.props.className,u)}),h.createElement("div",{ref:"thumbWrapper",className:"_5cy-",style:{left:t+'px'},onMouseDown:p.disabled?null:this._onMouseDown,onDragStart:g.prevent},h.createElement("div",{className:(("_5cy_")+(q.pressed?' '+"_38v3":''))}))));},getThumb:function(){return this.refs&&this.refs.thumbWrapper;}});e.exports=o;},null);
__d("AdsCreateLookalikeDialogTooltipRangeInput.react",["AdsCreateLookalikeDialogRangeInput.react","React","Tooltip","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=h,m=l.PropTypes,n=h.createClass({displayName:"AdsCreateLookalikeDialogTooltipRangeInput",propTypes:{min:m.number.isRequired,max:m.number.isRequired,step:m.number,value:m.number,tooltip:m.string,onChange:m.func},render:function(){return (h.createElement(g,h.__spread({},this.props,{ref:"rangeInput",className:k(this.props.className,"_2blb")})));},componentDidMount:function(){this._updateTooltip();},componentDidUpdate:function(){this._updateTooltip();},_updateTooltip:function(){var o=h.findDOMNode(this.refs.rangeInput.getThumb()),p=this.props.tooltip;if(p){i.set(o,p,'above','center');}else i.remove(o);}});e.exports=n;},null);
__d("AdsAudienceTypeaheadPresenter.react",["AdsSBTokenizerConstants","AdsSBTokenizerWhiteBox.react","ScrollableArea.react","List.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=k,o=n.PropTypes,p=430,q=100,r=213,s=g.WHITE_BOX.WIDTH;function t(y){var z={},aa=y.getAuxiliaryData()||{};z.description=aa.description;z.reach=aa.reach;var ba=aa.lookalikeSpec||{};if(ba.origin&&ba.origin.length>0)z.source=ba.origin.map(function(ca){return ca.name;}).join(",");return z;}var u=k.createClass({displayName:"ViewRenderer",propTypes:{entries:o.array.isRequired,highlightedEntry:o.object,onSelect:o.func.isRequired,onHighlight:o.func,width:o.number},render:function(){var y=this.props.entries,z=this.props.excludedEntries||{};y=y.filter(function(ea){return !z[ea.getUniqueID()];},this);if(y&&y.length){var aa=y.map(this._renderRow,this),ba=k.createElement("div",{className:"_hpi _5d4-"},k.createElement(h,{info:t(this.props.highlightedEntry),type:g.ACTIVE_STATES.SEARCH,uniqueID:"audience_tokenizer"})),ca=this.props.width?this.props.width:p,da=ca+s;return (k.createElement("div",{className:"_5d4_",style:{width:da}},k.createElement("div",{className:"_5d50",style:{width:ca}},k.createElement("div",{className:"_5m8_"},k.createElement(i,{height:r,width:ca},k.createElement(j,{border:"none",spacing:"none"},aa))),ba)));}return k.createElement("ul",{className:"_5m90"});},_renderRow:function(y){if(y.getUniqueID()==='-1')return (k.createElement("li",{className:"_5m91"},k.createElement("div",{className:"fwb"},m._("Aucun r\u00e9sultat")),k.createElement("div",{className:"_5xs_"},m._("V\u00e9rifiez l\u2019orthographe et le formatage ou bien saisissez un autre nom pour l\u2019audience"))));if(y.getUniqueID()==='-2')return (k.createElement("li",{className:"_5m91"},k.createElement("div",{className:"fwb"},m._("Ce compte ne contient aucune audience")),k.createElement("div",null,m._("Cr\u00e9ez une nouvelle audience pour utiliser cette option de ciblage."))));return (k.createElement(v,{key:y.getUniqueID(),entry:y,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,highlighted:y===this.props.highlightedEntry}));}}),v=k.createClass({displayName:"EntryRowView",propTypes:{entry:o.object.isRequired,highlighted:o.bool,onSelect:o.func.isRequired,onHighlight:o.func},render:function(){var y=(("_5m91")+(this.props.highlighted?' '+"_5m92":''));return (k.createElement("li",{className:y,onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter},this._renderTitle(),k.createElement("span",{className:"_5oe5"},this._getGroupName()),k.createElement("div",{className:"_5oe8"})));},_renderTitle:function(){var y=this.props.entry,z=y.getTitle(),aa=0,ba=0,ca=y.getAuxiliaryData(),da=ca&&ca.matchedText;if(da){var ea=z.toLowerCase().indexOf(da.toLowerCase());if(ea>=0){aa=ea;ba=ea+da.length;}}var fa=z.substring(0,aa),ga=z.substring(aa,ba),ha=z.substring(ba);return (k.createElement("span",null,fa,k.createElement("span",{className:"_5olf"},ga),ha));},_getGroupName:function(){return this.props.entry.getSubtitle();},_onMouseDown:function(y){this.props.onSelect(this.props.entry,y);},_onMouseEnter:function(){this.props.onHighlight&&this.props.onHighlight(this.props.entry);}}),w={ViewRenderer:u,useLayer:true,maxEntries:q,sortEntries:function(y){y.sort(x);return y;}};function x(y,z){return y.getTitle().toLowerCase()>z.getTitle().toLowerCase()?1:-1;}e.exports=w;},null);
__d("AdsCreateLookalikeDialogCountryTypeahead.react",["AbstractTypeahead.react","AdsAudienceTypeaheadPresenter.react","AdsCreateLookalikeConfig","AdsStaticSearchSource","React","copyProperties","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=i.countries,p=k,q=p.PropTypes,r=k.createClass({displayName:"AdsCreateLookalikeDialogCountryTypeahead",propTypes:{country:q.string,onSelectAttempt:q.func.isRequired},getInitialState:function(){return {country:undefined,queryString:''};},componentWillMount:function(){this._updateSelectedCountry(this.props.country);var s=[];for(var t in o)s.push({key:t,name:this._getCountryDisplayName(t,o[t].name)});this._searchSource=new j(s,{getAllForEmptyQuery:true,limit:s.length});this._presenter=l(h,{maxEntries:s.length});},componentWillReceiveProps:function(s){this._updateSelectedCountry(s.country);},render:function(){return (k.createElement(g,{className:"_5w0y",selectedEntry:null,placeholder:n._("Choisissez un pays \u00e0 cibler."),presenter:this._presenter,searchSource:this._searchSource,queryString:this.state.queryString,showEntriesOnFocus:true,entriesWidthMatchContext:this.isMounted(),onSelectAttempt:this._onSelectAttempt,onChange:this._onInputChange,onBlur:this._onBlur,autoHighlight:true}));},componentDidMount:function(){this.forceUpdate();},_getCountryDisplayName:function(s){return (n._("{name} ({countryCode})",[n.param("name",o[s].name),n.param("countryCode",s)]));},_updateSelectedCountry:function(s){this.setState({country:s,queryString:s&&this._getCountryDisplayName(s)||''});},_onBlur:function(){var s=this.state.country;if(s)this.setState({queryString:this._getCountryDisplayName(s)});},_onInputChange:function(event){var s=event.target.value;if(!s){this.props.onSelectAttempt(undefined);}else this.setState({queryString:s});},_onSelectAttempt:function(s){var t=s.getUniqueID();this.props.onSelectAttempt(t);}});e.exports=r;},null);
__d("AdsCreateLookalikeDialogSourceTypeahead.react",["AbstractTypeahead.react","AdsAudienceTypeaheadPresenter.react","AdsLookalikeGKConfig","React","SearchableEntry","WebAsyncSearchSource","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=j,p=o.PropTypes,q='/ajax/typeahead/ads_lookalike_source.php',r=(n._("Choisissez une audience personnalis\u00e9e, un pixel de suivi de conversion ou une Page."));if(i.shouldShowAppLookalikeCreationUI)r=(n._("Choisissez une audience personnalis\u00e9e, un pixel de suivi de conversion, une Page ou une application."));var s={},t=j.createClass({displayName:"AdsCreateLookalikeDialogSourceTypeahead",propTypes:{accountID:p.string.isRequired,source:p.instanceOf(k),onSelectAttempt:p.func.isRequired},getInitialState:function(){return {source:undefined,queryString:''};},componentWillMount:function(){this._updateSelectedSource(this.props.source);},componentWillReceiveProps:function(u){this._updateSelectedSource(u.source);},render:function(){return (j.createElement(g,{className:"_5w0y",selectedEntry:null,placeholder:r,presenter:h,searchSource:this._getSearchSource(this.props.accountID),queryString:this.state.queryString,showEntriesOnFocus:true,entriesWidthMatchContext:this.isMounted(),onSelectAttempt:this.props.onSelectAttempt,onChange:this._onInputChange,onBlur:this._onBlur,autoHighlight:true}));},componentDidMount:function(){this.forceUpdate();},_getSearchSource:function(u){if(!s[u]){var v={uri:q,data:{account_id:u}};s[u]=new l({bootstrapRequests:[v],queryRequests:[v],getAllForEmptyQuery:true});}return s[u];},_updateSelectedSource:function(u){this.setState({source:u,queryString:u&&u.getTitle()||''});},_onBlur:function(){var u=this.state.source;if(u)this.setState({queryString:u.getTitle()});},_onInputChange:function(event){var u=event.target.value;if(!u){this.props.onSelectAttempt(undefined);}else this.setState({queryString:u});}});e.exports=t;},null);
__d("XAdsLookalikeSuggestedCountryController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/ads\/ajax\/lookalike\/suggested_country\/",{origin_audience_id:{type:"Int",required:true}});},null);
__d("InsightsConstants",["UTCUtils","fbt","uki-utils"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={blue:'#3b5998',green:'#a9bc60',magenta:'#a856a1',teal:'#5d9d90',brown:'#886d4f'},k={API_ERROR_NUM_RETRIES:2,SEC_PER_DAY:24*60*60,MS_PER_DAY:24*60*60*1000,MS_PER_MINUTE:60*1000,DAYS_TO_LOOK_BACK:7,INSIGHTS_CUTOFF_TIME:1311058800,DEMOGRAPHICS_MIN_DATE_REACH:1315119600,DEMOGRAPHICS_MIN_PEOPLE_COUNT:30,CHECKINS_TYPE_MIN_DATE_TIMESTAMP:1320217200*1000,FOLLOWS_MIN_DATE_TIMESTAMP:1343804400*1000,MIN_FOLLOWERS_FOR_INSIGHTS:1000,MissingValueString:'--',Periods:['day','week','days_28'],DaysInPeriod:{day:1,week:7,days_28:28},ReachTypeLabel:{total:h._("Total"),organic:h._("Organique"),paid:h._("Pay\u00e9"),viral:h._("Virale")},ReachSourceTypes:['all','page_posts','stories'],ReachSourceTypeSelectorText:{all:h._("Tous les contenus de Page"),page_posts:h._("Vos publications"),stories:h._("Actualit\u00e9s d\u2019autres personnes")},BREAKDOWN_LIST_LENGTH_INITIAL:7,BREAKDOWN_LIST_LENGTH_MAX:20,BreakdownStoryTypes:['all','fan','page post','mention','user post'],BreakdownStoryTypesOptional:['question','coupon','checkin'],BreakdownStoryTypeSelectorText:{all:h._("Toutes les actualit\u00e9s"),fan:h._("Mentions J\u2019aime une Page"),'page post':h._("Actualit\u00e9s \u00e0 partir de vos publications"),mention:h._("Mentions et identifications dans les photos"),'user post':h._("Publications d\u2019autres personnes"),checkin:h._("Visites"),question:h._("Questions"),coupon:h._("Offres")},PostStoryTypes:{like:h._("Mentions J\u2019aime"),comment:h._("Commentaires"),answer:h._("R\u00e9ponses"),follow:h._("Abonnements \u00e0 la question"),rsvp:h._("R\u00e9ponses"),share:h._("\u00c9l\u00e9ments partag\u00e9s"),post:h._("Publications"),claim:h._("Demandes d\u2019offre"),other:h._("Autres")},EngagementBreakdownBuckets:{stories:'stories',link_clicks:'link clicks',photo_views:'photo view',video_plays:'video play',other:'other clicks'},EngagementBreakdownLegend:{stories:h._("Actualit\u00e9s g\u00e9n\u00e9r\u00e9es"),'link clicks':h._("Clics sur des liens"),'other clicks':h._("Autres clics"),'photo view':h._("Affichages de photos"),'video play':h._("Lectures de vid\u00e9os")},LikeAndFollowSources:{page_suggestion:h._("Invitations des administrateurs"),timeline:h._("Journal"),ads:h._("Publicit\u00e9s et actualit\u00e9s sponsoris\u00e9es"),registration:h._("Nouveaux administrateurs"),mobile:h._("Mobile"),wizard_suggestion:h._("Nouveaux utilisateurs sugg\u00e9r\u00e9s"),social_graph:h._("Gestionnaire des mentions J\u2019aime"),profile_connect:h._("Page, fil d\u2019actualit\u00e9 ou t\u00e9lex"),external_connect:h._("Espace J\u2019aime et bouton J\u2019aime"),recommended_pages:h._("Recommandations de Facebook"),external_page_like:h._("J\u2019aime externe"),favorites:h._("Page qui aime une autre Page"),api:h._("Applications de d\u00e9veloppeurs externes"),page_browser:h._("Navigateur de Pages"),hovercard:h._("Survol du curseur"),search:h._("R\u00e9sultats de recherche"),page_profile:h._("Sur la Page"),ticker:h._("T\u00e9lex"),like_story:h._("\u00c0 partir d\u2019amis"),nearby_dash:h._("Lieux proches"),from_coupon:h._("Offre"),video_flyout:h._("Vid\u00e9o"),photo_snowlift:h._("Sur photo"),post_checkin:h._("L\u00e9gende apr\u00e8s visite"),app_center:h._("Espace Applications"),social_wifi:h._("Facebook Wi-Fi"),page_group_join:h._("Du groupe"),other:h._("Autre"),feed_x_undo:h._("Du fil d\u2019actualit\u00e9"),followee_list:h._("Des personnes int\u00e9ress\u00e9es"),friend_list_flyout:h._("Du bouton J\u2019aime la Page")},LikeSourcesDeprecatedAggregations:{profile_connect:['hovercard','search','page_profile','ticker','like_story']},Tabs:{wall:h._("Journal"),info:h._("Section \u00c0 propos"),photos:h._("Photos"),friendactivity:h._("Activit\u00e9 des amis"),videos:h._("Vid\u00e9os"),events:h._("\u00c9v\u00e8nements"),pe:h._("\u00c9v\u00e8nements pass\u00e9s")},FrequencyBuckets:['1','2','3','4','5','6-10','11-20','21+'],AgeBuckets:['13-17','18-24','25-34','35-44','45-54','55-64','65+'],PostIcons:{photo:'/images/icons/photo.gif',link:'/images/icons/post.gif',coupon:'/images/icons/pages/coupons/offers.png',post:'/images/icons/wall_post.gif'},LOADING_IMAGE:'/images/loaders/indicator_blue_small.gif',DOWN_ARROW_IMAGE:'/images/icons/down_arrow_blue.gif',UP_ARROW_IMAGE:'/images/icons/up_arrow_blue.gif',ColorsMap:j,Colors:i.values(j),TICK_SIZE_THRESHOLD:42,TICK_SIZE_SHORT:7,TICK_SIZE_LONG:14,GraphMaxPoints:{Likes:60,Reach:30,Visits:120,Talking:60,ViralReach:60,CheckinsType:120},GraphType:{BAR:0,AREA:1,LINE:2},ReachBreakdownColors:[j.blue,j.green,j.magenta],EngagementGraphColors:[j.blue,'#758ab7','#b1bdd6','#e2e6f0'],TalkingBreakdownColors:[j.green,'#c3d08f','#dde4bf','#f2f5e7'],PrivacyIconClasses:{CUSTOM:'privacy-custom',EVERYONE:'privacy-everyone'},DateFormat:{'n/j/y':'n/j/y','M j':'M j','M j, Y':'M j, Y','m/d/Y g:ia':'m/d/Y g:ia'},MonthAbbrev:{1:'Jan',2:'Feb',3:'Mar',4:'Apr',5:'May',6:'Jun',7:'Jul',8:'Aug',9:'Sep',10:'Oct',11:'Nov',12:'Dec'},AbbrevNumberFormat:{0:'{x0}',1:'{x0}',2:'{x0}',3:'{x3}K',4:'{x3}K',5:'{x3}K',6:'{x6}M',7:'{x6}M',8:'{x6}M',9:'{x9}B',10:'{x9}B',11:'{x9}B'},DecimalSeparator:'.',NumberDelimiter:',',Locale:'en_US',TimeAM:'am',TimePM:'pm',setIntlFormatData:function(l){if(l){this.Locale=l.locale||this.Locale;this.DateFormat=l.date_format||this.DateFormat;this.MonthAbbrev=l.month_abbrev||this.MonthAbbrev;this.AbbrevNumberFormat=l.abbrev_number_format||this.AbbrevNumberFormat;this.DecimalSeparator=l.LOCALE_DECIMAL_SEPARATOR||this.DecimalSeparator;this.NumberDelimiter=l.LOCALE_NUMBER_DELIMITER||this.NumberDelimiter;this.TimeAM=l.time_am||this.TimeAM;this.TimePM=l.time_pm||this.TimePM;}},getPTOffset:function(l){return -1*g.getPacificOffsetAt(l);},Events:{Ready:'ready',Plotted:'plotted',ShowMorePosts:'showMorePosts',Error:'error'},InternalFBApps:{Photos:'2305272732',Video:'2392950137',Mobile:'2915120374'},MAX_INT:9007199254740992};k.InternalFBAppsIDs=(function(){var l={};i.forEach(k.InternalFBApps,function(m,n){l[m]=n;});return l;})();e.exports=k;},null);
__d("InsightsNumberUtils",["InsightsConstants","NumberFormat"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={magnitude:function(j){return j>=10?Math.floor(Math.log(j)/Math.log(10)):0;},abbrevInt:function(j){var k=i.magnitude(j),l=Math.round(j/Math.pow(10,k));if(l==10){l=1;k++;}var m=g.AbbrevNumberFormat[k]||'{x0}',n=m.replace(/(.*)(\{x(\d+)\})(.*)/,function(p,q,r,s,t){return q+i.decimal(j/Math.pow(10,s))+t;}),o=i.delimit(j);return n.length>=o.length||n==j?o:n;},decOrInt:function(j){return j===Math.floor(j)?i.integer(j):i.decimal(j);},delimit:function(j){if(j==null||j==='')return g.MissingValueString;return h.formatIntegerWithDelimiter(j,g.NumberDelimiter);},percent:function(j){return i.round(j*100,2)+'%';},decimal:function(j){return i.round(j,1);},round:function(j,k,l){var m=Math.pow(10,k),n=(Math.round(j*m)/m+'').replace('.',g.DecimalSeparator);if(!k||!l)return i.delimit(n);var o=n.indexOf(g.DecimalSeparator),p=0;if(o==-1){n+=g.DecimalSeparator;p=k;}else p=k-(n.length-o-1);for(var q=0;q<p;q++)n+='0';return i.delimit(n);}};e.exports=i;},null);
__d("AudienceManagerLookalikeDialog.react",["AdsCreateLookalikeConfig","AdsCreateLookalikeDialogTooltipRangeInput.react","AdsCreateLookalikeDialogCountryTypeahead.react","AdsCreateLookalikeDialogSourceTypeahead.react","AsyncRequest","ads-cluster-constants","InfoTable.react","InfoTableRow.react","InfoTableSection.react","LayerHideOnEscape","React","SearchableEntry","XAdsLookalikeSuggestedCountryController","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogButton.react","XUIDialogTitle.react","XUINotice.react","XUISpinner.react","TooltipLink.react","InsightsNumberUtils","adsGKCheck","copyProperties","cx","fbt","ads-lib-formatters"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){b.__markCompiled&&b.__markCompiled();var ha=b('ads-lib-formatters').createLimitedSigFigNumberFormatter(0,2),ia=q,ja=ia.PropTypes,ka=g.countries,la=l.LOOKALIKE_SOURCE_TYPE,ma=l.LOOKALIKE_CUSTOM_RATIO_LIMIT,na={CUSTOM_AUDIENCE:(ga._("Audience personnalis\u00e9e")),CONVERSION_PIXEL:(ga._("Pixel de conversion")),PAGE:(ga._("Page")),APPLICATION:(ga._("Application"))},oa=q.createClass({displayName:"AudienceManagerLookalikeDialog",propTypes:{accountID:ja.string.isRequired,audience:ja.object,dao:ja.object.isRequired,onAudienceAdded:ja.func.isRequired,onClose:ja.func.isRequired},getInitialState:function(){return {loading:false,isFinancialService:false,error:null,source:undefined,country:undefined,ratio:ma.MIN,minSize:undefined,maxSize:undefined};},render:function(){return (q.createElement(t,{shown:true,width:630,behaviors:{LayerHideOnEscape:p},onToggle:this._onToggle},q.createElement(y,null,ga._("Cr\u00e9er une audience similaire")),q.createElement(u,null,q.createElement("div",{className:"_wm-"},this._renderError(),this._renderDialogBody())),q.createElement(w,null,q.createElement(v,{onClick:this.props.onClose,disabled:this.state.loading}),q.createElement(x,{use:"confirm",action:"confirm",label:ga._("Cr\u00e9er une audience"),disabled:this.state.loading||!this._canCreate(),onClick:this._onCreateLookalike}))));},_renderDialogBody:function(){if(this.state.loading)return (q.createElement("div",{className:"_5saq"},q.createElement(aa,{background:"light",size:"large"})));var pa=(q.createElement(n,{label:ga._("Taille"),className:"_wn2",type:"data"},q.createElement("div",null,q.createElement("div",null,q.createElement("span",{className:"_wn3"},this.state.minSize),q.createElement("div",{className:"_wn4"},q.createElement(h,{min:ma.MIN,max:ma.MAX,step:ma.GRANULARITY,initValue:this.state.ratio,tooltip:this._getAudienceSizeText(),disabled:!this._canCreate(),onChange:this._onAudienceSizeChange})),q.createElement("span",{className:"_wn3"},this.state.maxSize)),q.createElement("p",{className:"_wn5"},ga._("La plage de taille est bas\u00e9e sur l\u2019audience totale du pays choisi. Les petites audiences correspondent plus \u00e0 votre audience source. Cr\u00e9er une audience plus large augmente votre port\u00e9e potentielle, mais r\u00e9duit le niveau de similarit\u00e9 avec votre source."))))),qa=[q.createElement(n,{label:ga._("Source"),className:"_wn1",type:"data"},q.createElement(j,{accountID:this.props.accountID,source:this.state.source,onSelectAttempt:this._onSourceSelected})),q.createElement(n,{label:ga._("Pays"),className:"_wn1",type:"data"},q.createElement(i,{ref:"countryTypeahead",country:this.state.country,onSelectAttempt:this._onCountrySelected}))];if(this.state.country!==undefined)qa.push(pa);if(da('financial_service_lookalike'))qa.push(q.createElement(n,null,q.createElement("div",null,q.createElement("input",{type:"checkbox",checked:this.state.isFinancialService,onChange:this._toggleFinancialService}),q.createElement(ba,{tooltip:"FCRA-compliant lookalikes are created without using age,"+' '+"gender, or race."},ga._("Utilisez une correspondance compatible avec FCRA pour la publicit\u00e9 pour les services financiers")))));return (q.createElement("div",null,q.createElement("p",{className:"_wm_"},ga._("Atteignez de nouvelles personnes semblables \u00e0 une audience qui vous importe. S\u00e9lectionnez une source et un pays ci-dessous, puis choisissez une optimisation.")),q.createElement(m,{className:"_wn0"},q.createElement(o,null,qa))));},componentWillMount:function(){this._init();},_init:function(){if(this.props.audience){var pa={uniqueID:this.props.audience.id,title:this.props.audience.name};pa.subtitle=na.CUSTOM_AUDIENCE;pa.type=la.CUSTOM_AUDIENCE;this.setState({source:new r(pa)});this._loadSuggestedCountry(this.props.audience.id);}},_canCreate:function(){return !!(this.state.source&&this.state.country);},_toggleFinancialService:function(pa){this.setState({isFinancialService:pa.target.checked});},_onSourceSelected:function(pa){var qa=this.state.source;if(pa&&(!qa||pa.getUniqueID()!==qa.getUniqueID()))this._loadSuggestedCountry(pa.getUniqueID());this.setState({source:pa});},_onCountrySelected:function(pa){this.setState({country:pa,minSize:ca.abbrevInt(this._getApproximateAudienceSize(pa,ma.MIN)),maxSize:ca.abbrevInt(this._getApproximateAudienceSize(pa,ma.MAX))});},_onAudienceSizeChange:function(pa){this.setState({ratio:parseFloat(pa),ratioChanged:true});},_getApproximateAudienceSize:function(pa,qa){var ra=Math.floor(ka[pa].count*qa);return ra;},_getAudienceSizeText:function(){if(!this._canCreate())return '';var pa=this._getApproximateAudienceSize(this.state.country,this.state.ratio);return (ga._({"*":"{size} personnes"},[ga.param("size",ha(pa),[0,pa])]));},_renderError:function(){if(this.state.error)return (q.createElement("div",{className:"_wn6"},q.createElement(z,{use:"warn"},this.state.error.message)));},_onCreateLookalike:function(){var pa=this.state.source,qa=this.state.country,ra=this.state.ratio,sa;this.setState({error:null});var ta={accountId:this.props.accountID,lookalike_spec:{country:qa,ratio:ra,is_financial_service:this.state.isFinancialService},handleError:(function(ua,va){this.setState({loading:false,error:va&&va.error});}).bind(this)};switch(pa.getType()){case la.CUSTOM_AUDIENCE:sa='createLookalikeCluster';ta.origin_audience_id=pa.getUniqueID();ta.lookalike_spec.type=l.LOOKALIKE_CUSTOM_RATIO;break;case la.CONVERSION_PIXEL:sa='createActionsLookalike';ea(ta.lookalike_spec,{pixel_ids:[pa.getUniqueID()],conversion_type:'offsite'});break;case la.PAGE:sa='createActionsLookalike';ea(ta.lookalike_spec,{page_id:pa.getUniqueID(),conversion_type:'page_like'});break;case la.APPLICATION:sa='createActionsLookalike';ea(ta.lookalike_spec,{app_id:pa.getUniqueID(),conversion_type:'engaged_app_users'});break;default:return;}this.props.dao.add[sa].one((function(ua){this.setState({loading:false});this.props.onAudienceAdded(ua.id);this.props.onClose();}.bind(this)),ta);this.setState({loading:true});},_loadSuggestedCountry:function(pa){var qa=(s.getURIBuilder()).setInt('origin_audience_id',pa).getURI(),ra=(new k()).setURI(qa).setHandler((function(sa){var ta=this.state.source.getUniqueID(),ua=this.refs.countryTypeahead;if(ta===pa&&!ua.state.queryString){var va=sa&&sa.payload;if(ka[va])this._onCountrySelected(va);}}.bind(this))).setErrorHandler(function(sa){});ra.send();},_onToggle:function(pa){if(!pa)this.props.onClose();}});e.exports=oa;},null);
__d("AdsAppTokenizerToken.react",["React","XUITokenizerToken.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g.createClass({displayName:"AdsAppTokenizerToken",propTypes:h.propTypes,render:function(){var l=(("_13w9")+(this.props.entry.getAuxiliaryData()&&this.props.entry.getAuxiliaryData().invalid?' '+"_13wa":''));return (g.createElement(h,g.__spread({},this.props,{className:j(this.props.className,l)})));}});e.exports=k;},null);
__d("DummySearchSource",["AbstractSearchSource"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;function j(){"use strict";if(g!==null)g.apply(this,arguments);}j.prototype.searchImpl=function(k,l,m){"use strict";l([],k);};e.exports=j;},null);
__d("AudienceManagerAppIDInput.react",["AudienceDaoManager","AdsAppTokenizerToken.react","AdsConnectionObjTypes","DummySearchSource","Link.react","React","SearchableEntry","XUIError.react","XUIGrayText.react","XUITokenizer.react","XUITypeaheadTextOnlyView.react","URI","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();'use strict';var u=l,v=u.PropTypes,w=10,x=l.createClass({displayName:"AudienceManagerAppIDInput",propTypes:{accountID:v.string.isRequired,onAppEntriesUpdated:v.func.isRequired},componentWillMount:function(){var y=g.getPrimedDao(this.props.accountID),z=function(aa){aa.data=aa.data.filter(function(da){return da.type===i.APPLICATION;});if(aa.data.length>1)return;var ba=this.state.appIdEntries,ca=function(da){if(da.is_first_party_app===false){var ea=new m({uniqueID:da.id,title:da.id,auxiliaryData:{invalid:false}});ba.push(ea);}};y.fetch.appInfo.one(function(da){ca(da);this.setState({appIdEntries:ba});this.props.onAppEntriesUpdated(ba);}.bind(this),{appId:aa.data[0].id,fields:['is_first_party_app']});}.bind(this);y.fetch.connectionObjectsForAccount.one(z,{});},getInitialState:function(){return {appIdEntries:[],queryString:'',searchSource:new j()};},render:function(){var y={ViewRenderer:q,TokenRenderer:h,useLayer:true};return (l.createElement("div",null,l.createElement(o,{weight:"bold",display:"block",shade:"medium",className:"_3-95"},t._("Ajouter un ID d\u2019application Facebook")),l.createElement(n,{xuiError:this._getAppIDErrorMessage()},l.createElement(p,{entries:this.state.appIdEntries,limit:w,onAddEntryAttempt:this._onAddEntryAttempt,onEnterWithoutSelection:this._onEnterWithoutSelection,onQueryStringChange:this._onQueryStringChange,onRemoveEntryAttempt:this._onRemoveEntryAttempt,placeholder:this._getTokenizerPlaceholder(),presenter:y,queryString:this.state.queryString,searchSource:this.state.searchSource,tokenizeQueryStringOnBlur:this._tokenizeQueryString})),l.createElement("div",{className:"_3-8x"},t._("Vous ne pouvez t\u00e9l\u00e9charger que les identifiants des personnes ayant install\u00e9 ou utilisant votre application Facebook."),' ',t._("Vous pouvez trouver l\u2019identifiant de vos applications Facebook dans {=App Dashboard}",[t.param("=App Dashboard",l.createElement(k,{target:"_blank",href:r('https://developers.facebook.com/apps')},t._("Espace Applications")))]))));},_getAppIDErrorMessage:function(){if(this.state.appIdEntries.length===0||this._isAppIDTokensValid())return null;return (t._("Un ou plusieurs des identifiants d\u2019application Facebook ne sont pas connect\u00e9s \u00e0 votre compte"));},_getTokenizerPlaceholder:function(){return (t._("Ajouter l\u2019ID d\u2019application Facebook"));},_tokenizeQueryString:function(y){if(y)return new m({uniqueID:y,title:y});},_onEnterWithoutSelection:function(event){var y=event.target.value;if(y)this._onAddEntryAttempt(this._tokenizeQueryString(y));},_onQueryStringChange:function(event){this.setState({queryString:event.target.value});},_onAddEntryAttempt:function(y){var z=y.getUniqueID(),aa=this.state.appIdEntries,ba=aa.some(function(da){return da.getUniqueID()===z;});if(ba)return;var ca=g.getPrimedDao(this.props.accountID);ca.fetch.appInfo.one(function(da){if(da.is_first_party_app===false){y=new m({uniqueID:z,title:z,auxiliaryData:{invalid:false}});}else y=new m({uniqueID:z,title:z,auxiliaryData:{invalid:true}});aa.push(y);this.setState({appIdEntries:aa,queryString:''});this.props.onAppEntriesUpdated(aa);}.bind(this),{appId:z,fields:['is_first_party_app'],handleError:function(da,ea,fa){y=new m({uniqueID:z,title:z,auxiliaryData:{invalid:true}});aa.push(y);this.setState({appIdEntries:aa,queryString:''});this.props.onAppEntriesUpdated(aa);}.bind(this)});},_onRemoveEntryAttempt:function(y){var z=this.state.appIdEntries,aa=z.indexOf(y);if(aa>=0)z.splice(aa,1);this.setState({appIdEntries:z});this.props.onAppEntriesUpdated(z);},_isAppIDTokensValid:function(){var y=this.state.appIdEntries,z=y.some(function(aa){return aa.getAuxiliaryData().invalid;});return y.length>0&&!z;}});e.exports=x;},null);
__d("AudienceManagerDataTypeSelector.react",["AudienceManagerUIConstants","React","XUISelector.react","XUIGrayText.react","cx","fbt","getObjectValues","ads-cluster-constants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=i.Option,p=h,q=p.PropTypes,r=g.CUSTOM_AUDIENCE_DATA_TYPE_LABEL,s=h.createClass({displayName:"AudienceManagerDataTypeSelector",propTypes:{defaultValue:q.oneOf(m(n)),onTypeChange:q.func.isRequired},getDefaultProps:function(){return {defaultValue:n.UPLOAD_TYPE_EMAIL};},render:function(){var t=[h.createElement(o,{value:n.UPLOAD_TYPE_EMAIL,key:n.UPLOAD_TYPE_EMAIL},r[n.UPLOAD_TYPE_EMAIL]),h.createElement(o,{value:n.UPLOAD_TYPE_UID,key:n.UPLOAD_TYPE_UID},r[n.UPLOAD_TYPE_UID]),h.createElement(o,{value:n.UPLOAD_TYPE_PHONE,key:n.UPLOAD_TYPE_PHONE},r[n.UPLOAD_TYPE_PHONE]),h.createElement(o,{value:n.UPLOAD_TYPE_MOBILE_ADVERTISER_ID,key:n.UPLOAD_TYPE_MOBILE_ADVERTISER_ID},r[n.UPLOAD_TYPE_MOBILE_ADVERTISER_ID])];return (h.createElement("div",null,h.createElement(j,{weight:"bold",display:"block",shade:"medium",className:"_2pin"},l._("Type de donn\u00e9es")),h.createElement(i,{defaultValue:this.props.defaultValue,onChange:this.props.onTypeChange},t)));}});e.exports=s;},null);
__d("AudienceManagerViewFormatingExampleLink.react",["AdInterfacesUiLogger","AudienceManagerLoggingEvents","AudienceManagerUIConstants","AudienceManagerURLConstants","LeftRight.react","Link.react","React","ReactLayeredComponentMixin","XUISelector.react","XUICloseButton.react","XUIContextualDialog.react","XUIContextualDialogTitle.react","XUIContextualDialogBody.react","XUIGrayText.react","cx","fbt","ads-cluster-constants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){b.__markCompiled&&b.__markCompiled();'use strict';var x=o.Option,y=m,z=y.PropTypes,aa=i.CUSTOM_AUDIENCE_DATA_TYPE_LABEL,ba=m.createClass({displayName:"AudienceManagerViewFormatingExampleLink",mixins:[n],propTypes:{exampleContents:z.array},getDefaultProps:function(){return {exampleContents:[{name:w.UPLOAD_TYPE_EMAIL,label:aa[w.UPLOAD_TYPE_EMAIL],content:m.createElement("p",null,v._("Ex."),m.createElement("br",null),"name1@example.com",m.createElement("br",null),"name2@example.com",m.createElement("br",null),"name3@example.com",m.createElement("br",null),"name1@example.com,name2@example.com",m.createElement("br",null),"name1@example.com;name2@example.com",m.createElement("br",null))},{name:w.UPLOAD_TYPE_UID,label:aa[w.UPLOAD_TYPE_UID],content:m.createElement("p",null,m.createElement("ul",{className:"_4wii"},m.createElement("li",null,v._("Caract\u00e8res num\u00e9riques uniquement"))),v._("Ex."),m.createElement("br",null),"1234567890",m.createElement("br",null),"1443637309",m.createElement("br",null))},{name:w.UPLOAD_TYPE_PHONE,label:aa[w.UPLOAD_TYPE_PHONE],content:m.createElement("p",null,m.createElement("ul",{className:"_4wii"},m.createElement("li",null,v._("Indicatif national + indicatif r\u00e9gional + num\u00e9ro")),m.createElement("li",null,v._("Aucun z\u00e9ro avant l\u2019indicateur national")),m.createElement("li",null,v._("Caract\u00e8res num\u00e9riques uniquement"))),v._("Ex."),m.createElement("br",null),"16505551234",m.createElement("br",null),"16505551235",m.createElement("br",null))},{name:w.UPLOAD_TYPE_MOBILE_ADVERTISER_ID,label:aa[w.UPLOAD_TYPE_MOBILE_ADVERTISER_ID],content:m.createElement("p",null,v._("Nous prenons en charge\u00a0:"),m.createElement("ul",{className:"_4wii"},m.createElement("li",null,v._("ID de publicit\u00e9 Android,")),m.createElement("li",null,v._("Apple\u2019s Advertising Identifier (IDFA) et")),m.createElement("li",null,v._("Identifiants d\u2019utilisateurs de l\u2019application Facebook"))),m.createElement(l,{href:j.MOBILE_ADVERTISING_IDS_DOC,target:"_blank"},v._("En savoir plus")))}]};},getInitialState:function(){return {dialogShown:false,currentContent:this.props.exampleContents[0]};},onLinkClick:function(){this.setState({dialogShown:!this.state.dialogShown});g.log(h.AM_CA_CREATE_VIEW_EXAMPLE_CLICK);},onSelectorClick:function(ca){this.setState({currentContent:this._findContentByName(ca.value)});},_findContentByName:function(ca){for(var da=0;da<this.props.exampleContents.length;da++)if(this.props.exampleContents[da].name===ca)return this.props.exampleContents[da];},_getSelectorOptions:function(){var ca=this.props.exampleContents.map(function(da){return (m.createElement(x,{value:da.name,key:da.name},da.label));});return ca;},renderLayers:function(){return {contextualDialog:m.createElement(q,{contextRef:"link",shown:this.state.dialogShown,position:"below",alignment:"right",autoFocus:true,width:q.WIDTH.NORMAL},m.createElement(r,null,m.createElement(k,null,m.createElement(o,{defaultValue:this.state.currentContent.name,onChange:this.onSelectorClick},this._getSelectorOptions()),m.createElement("div",null,m.createElement(p,{use:"confirm",label:v._("Fermer"),onClick:this.onLinkClick})))),m.createElement(s,null,m.createElement(t,{shade:"light",size:"small",display:"block"},this.state.currentContent.content)))};},render:function(){return (m.createElement(l,{ref:"link",onClick:this.onLinkClick},v._("Afficher des exemples de formatage.")));}});e.exports=ba;},null);
__d("CustomAudienceUploadErrorBox.react",["React","cx","fbt","ix","Image.react","List.react"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=g,n=m.PropTypes,o=g.createClass({displayName:"CustomAudienceUploadErrorBox",propTypes:{message:n.string.isRequired,type:n.string,numMissing:n.number,numInvalid:n.number,errorList:n.array},getDefaultProps:function(){return {message:null,type:'',numMissing:0,numInvalid:0,errorList:null};},_renderErrorList:function(){var p=this.props.errorList;return (g.createElement(l,{border:"none",spacing:"none"},p.map(function(q){return g.createElement("li",{key:q.line}," ",q.token," ");})));},_renderType:function(p){switch(p){case 'email':return i._("Adresse \u00e9lectronique");case 'uid':return i._("Identifiant utilisateur");case 'phone number':return i._("Num\u00e9ro de t\u00e9l\u00e9phone");case 'hash':return i._("Hash");default:return '';}},render:function(){var p=this.props.message,q=this.props.type,r=this.props.numMissing,s=this.props.numInvalid,t=this.props.errorList,u=null;if(t){var v=i._({"*":"{Number of errors} erreurs {Type of token}"},[i.param("Number of errors",r+s,[0]),i.param("Type of token",this._renderType(q))]),w=null,x=null;if(r>0&&s>0){w=g.createElement("div",null,i._("Manquant\u00a0: {Number of missing tokens}",[i.param("Number of missing tokens",g.createElement("span",{className:"_5od5"},r))]));x=g.createElement("div",null,i._("Formatage incorrect\u00a0: {Number of invalid tokens}",[i.param("Number of invalid tokens",g.createElement("span",{className:"_5od5"},s))]));}u=g.createElement("div",{className:"_5od3"},g.createElement("div",{className:"_5od4"},v),w,x,g.createElement("div",{className:"_5od6"},this._renderErrorList()));}return (g.createElement("div",{className:"_5od7"},g.createElement("span",{className:"_5od8"},g.createElement(k,{src:j('images/ads/createflow/creative/error-white.png')})),g.createElement("span",{className:"_5od9"},p,u)));}});e.exports=o;},null);
__d("AudienceManagerCopyPasteInitDialogContent.react",["AbstractTextArea.react","AudienceManagerAppIDInput.react","AudienceManagerDataTypeSelector.react","AudienceManagerFBCustomAudienceTerm.react","AudienceManagerViewFormatingExampleLink.react","CustomAudienceUploadErrorBox.react","ImageBlock.react","Image.react","InlineBlock.react","React","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIGrayText.react","ads-cluster-constants","isEmail","isInternationalPhoneNumber","cx","ix","fbt","ads-cluster-constants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){b.__markCompiled&&b.__markCompiled();var ba=z._("Sans titre"),ca=y('/images/ads/audience_manager/ca_copy.png'),da=44,ea=p,fa=ea.PropTypes,ga=/^\d+$/,ha=20,ia=p.createClass({displayName:"AudienceManagerCopyPasteInitDialogContent",propTypes:{accountID:fa.string.isRequired,onBack:fa.func.isRequired,onCreateAudienceClick:fa.func.isRequired},getInitialState:function(){return {pasteBin:'',error:null,selectedDataType:aa.UPLOAD_TYPE_EMAIL,termsAccepted:true,appIDEntries:[]};},render:function(){return (p.createElement("div",null,p.createElement(q,null,p.createElement("div",{className:"_50_z"},p.createElement(m,{spacing:"large"},p.createElement(n,{src:ca}),p.createElement(o,{alignv:"middle",height:da},p.createElement(t,{weight:"bold",shade:"medium",size:"medium"},z._("Copier et coller votre liste de clients")))),p.createElement("div",{className:"_3-8-"},p.createElement("p",null,z._("Copiez et collez une liste d\u2019adresses \u00e9lectroniques, de num\u00e9ros de t\u00e9l\u00e9phone, d\u2019identifiants d\u2019utilisateurs Facebook ou d\u2019annonceurs mobiles \u00e0 partir d\u2019un tableur ou d\u2019un fichier texte.")),p.createElement("p",null,z._("Vous pouvez copier les colonnes d\u2019un tableur avec un enregistrement par ligne ou une liste d\u2019enregistrements s\u00e9par\u00e9s par des virgules."),' ',p.createElement(k,null))),p.createElement("div",{className:"_3-98 _3-8z"},p.createElement(i,{defaultValue:this.state.selectedDataType,canUploadAppUserID:this.props["false"],onTypeChange:this._onDataTypeChange})),this._renderAppIDInput(),this._renderPasteBin(),p.createElement("div",{className:"_3-8w"},p.createElement(j,{accountID:this.props.accountID,termsAccepted:this.state.termsAccepted,onTermsCheckboxChanged:this._onTermsCheckboxChanged})))),p.createElement(s,null,p.createElement("div",null,p.createElement(r,{onClick:this.props.onBack,label:z._("Pr\u00e9c\u00e9dent")}),p.createElement(r,{use:"confirm",disabled:!this._getShouldEnableCreateAudienceButton(),onClick:this._onCreateAudienceButtonClick,label:z._("Cr\u00e9er une audience")})))));},_renderPasteBin:function(){var ja=null;if(!!this.state.error)ja=p.createElement(l,{message:this.state.error});return (p.createElement("div",{className:"_3-8- _3-98"},p.createElement(g,{className:"_5ukc",value:this.state.pasteBin,onChange:this._onPasteBinChange,placeholder:z._("Collez la liste de vos clients ici.")}),ja));},_renderAppIDInput:function(){if(this.state.selectedDataType===aa.UPLOAD_TYPE_UID)return p.createElement(h,{accountID:this.props.accountID,onAppEntriesUpdated:this._onAppEntriesUpdated});return null;},_getShouldEnableCreateAudienceButton:function(){var ja=true;if(this.state.selectedDataType===aa.UPLOAD_TYPE_UID){var ka=this.state.appIDEntries.some(function(la){return la.getAuxiliaryData().invalid;});ja=this.state.appIDEntries.length>0&&!ka;}return !!this.state.pasteBin&&!!this.state.termsAccepted&&ja;},_onAppEntriesUpdated:function(ja){this.setState({appIDEntries:ja});},_onPasteBinChange:function(ja){this.setState({pasteBin:ja.target.value});},_onDataTypeChange:function(ja){this.setState({selectedDataType:ja.value,appIDEntries:[]});},_onTermsCheckboxChanged:function(ja){this.setState({termsAccepted:ja.target.checked});},_onCreateAudienceButtonClick:function(){var ja=this.state.pasteBin.trim().split(/\r\n|\n|\r|;|,/).map(function(la){return la.trim();});ja=ja.filter(function(la){return !!la;});if(ja.length>u.CLUSTER_API_MAX_SIZE){this.setState({error:z._({"*":"Vous pouvez t\u00e9l\u00e9charger {max number of entries} entr\u00e9es maximum \u00e0 l\u2019aide de la fonction copier\/coller. Essayez plut\u00f4t de t\u00e9l\u00e9charger un fichier."},[z.param("max number of entries",u.CLUSTER_API_MAX_SIZE,[0])])});return;}var ka=this._onCheckError(ja);if(!ka){this.props.onCreateAudienceClick(this.state.selectedDataType,this.state.appIDEntries,ja,ba);}else this.setState({error:z._({"*":"Vous devez ajouter au moins {mininum number of entries} entr\u00e9es valides pour continuer."},[z.param("mininum number of entries",ha,[0])])});},_onCheckError:function(ja){var ka=ja;if(this.state.selectedDataType===aa.UPLOAD_TYPE_EMAIL){ka=ja.filter(function(la){la=la.toLowerCase();return v(la);});}else if(this.state.selectedDataType===aa.UPLOAD_TYPE_PHONE){ka=ja.filter(function(la){return w(la);});}else if(this.state.selectedDataType===aa.UID)ka=ja.filter(function(la){return ga(la);});if(ka.length<ha)return true;return false;}});e.exports=ia;},null);
__d("AudienceCreatorTypeSelector.react",["Image.react","ImageBlock.react","React","XUIGrayText.react","cx","ix","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=i,o=n.PropTypes,p=l('/images/ads/audience_manager/ca_custom_list.png'),q=l('/images/ads/audience_manager/ca_fb_app.png'),r=l('/images/ads/audience_manager/ca_web.png'),s=i.createClass({displayName:"AudienceCreatorTypeSelector",propTypes:{onCustomerListClick:o.func.isRequired,onWebsiteTrafficClick:o.func.isRequired,onMobileAppClick:o.func.isRequired},_renderCustomerListItem:function(){return (i.createElement("li",{className:"_247s",onClick:this.props.onCustomerListClick},i.createElement(h,{spacing:"large"},i.createElement(g,{src:p}),i.createElement("div",null,i.createElement(j,{weight:"bold",shade:"medium",size:"medium"},m._("Liste de clients")),i.createElement("div",{className:"_3-8x"},m._("Faites correspondre les adresses \u00e9lectroniques, num\u00e9ros de t\u00e9l\u00e9phone, ID d\u2019utilisateurs Facebook ou ID d\u2019annonceurs mobiles aux utilisateurs de Facebook"))))));},_renderWebsiteTrafficItem:function(){return (i.createElement("li",{className:"_247s",onClick:this.props.onWebsiteTrafficClick},i.createElement(h,{spacing:"large"},i.createElement(g,{src:r}),i.createElement("div",null,i.createElement(j,{weight:"bold",shade:"medium",size:"medium"},m._("Trafic du site web")),i.createElement("div",{className:"_3-8x"},m._("Cr\u00e9ez une liste de personnes qui visitent votre site web ou consultent des pages web sp\u00e9cifiques"))))));},_renderMobileAppItem:function(){return (i.createElement("li",{className:"_247s",onClick:this.props.onMobileAppClick},i.createElement(h,{spacing:"large"},i.createElement(g,{src:q}),i.createElement("div",null,i.createElement(j,{weight:"bold",shade:"medium",size:"medium"},m._("Activit\u00e9 des applications")),i.createElement("div",{className:"_3-8x"},m._("Cr\u00e9ez une liste de personnes ayant r\u00e9alis\u00e9 une action sp\u00e9cifique dans votre application ou jeu."))))));},render:function(){return (i.createElement("div",{className:"_247t"},i.createElement("ul",null,this._renderCustomerListItem(),this._renderWebsiteTrafficItem(),this._renderMobileAppItem())));}});e.exports=s;},null);
__d("AudienceManagerCreateAudienceInitDialogContent.react",["React","AudienceCreatorTypeSelector.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIGrayText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=g,p=o.PropTypes,q=g.createClass({displayName:"AudienceManagerCreateAudienceInitDialogContent",propTypes:{onCancel:p.func.isRequired,onCustomerListClick:p.func.isRequired,onWebsiteTrafficClick:p.func.isRequired,onMobileAppClick:p.func.isRequired},render:function(){return (g.createElement("div",null,g.createElement(i,null,g.createElement("div",{className:"_50_z"},g.createElement(l,{weight:"bold",shade:"medium",size:"medium"},n._("Choisissez le type d\u2019audience que vous souhaitez cr\u00e9er sur Facebook.")),g.createElement("div",{className:"_3-98 _3-8y"},n._("La proc\u00e9dure est s\u00e9curis\u00e9e et les informations relatives \u00e0 vos clients resteront confidentielles.")),g.createElement(h,{onCustomerListClick:this.props.onCustomerListClick,onWebsiteTrafficClick:this.props.onWebsiteTrafficClick,onMobileAppClick:this.props.onMobileAppClick}))),g.createElement(k,null,g.createElement(j,{onClick:this.props.onCancel,label:n._("Annuler")}))));}});e.exports=q;},null);
__d("CustomerListTypeSelector.react",["Image.react","ImageBlock.react","React","XUIGrayText.react","cx","ix","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=i,o=n.PropTypes,p=l('/images/ads/audience_manager/ca_file.png'),q=l('/images/ads/audience_manager/ca_copy.png'),r=l('/images/ads/audience_manager/ca_import.png'),s=i.createClass({displayName:"CustomerListTypeSelector",propTypes:{onUploadFileClick:o.func.isRequired,onCopyPasteClick:o.func.isRequired,onThirdPartyClick:o.func.isRequired},_renderUploadFileItem:function(){return (i.createElement("li",{className:"_247s",onClick:this.props.onUploadFileClick},i.createElement(h,{spacing:"large"},i.createElement(g,{src:p}),i.createElement("div",null,i.createElement(j,{weight:"bold",shade:"medium",size:"medium"},m._("T\u00e9l\u00e9charger un fichier")),i.createElement("div",{className:"_3-8x"},m._("T\u00e9l\u00e9chargez un fichier de donn\u00e9es contenant des adresses \u00e9lectroniques, num\u00e9ros de t\u00e9l\u00e9phone, identifiants d\u2019utilisateurs Facebook ou d\u2019annonceurs mobiles"))))));},_renderCopyPasteItem:function(){return (i.createElement("li",{className:"_247s",onClick:this.props.onCopyPasteClick},i.createElement(h,{spacing:"large"},i.createElement(g,{src:q}),i.createElement("div",null,i.createElement(j,{weight:"bold",shade:"medium",size:"medium"},m._("Copier et coller votre liste personnalis\u00e9e")),i.createElement("div",{className:"_3-8x"},m._("Copiez et collez les adresses \u00e9lectroniques, num\u00e9ros de t\u00e9l\u00e9phone, identifiants d\u2019utilisateurs Facebook ou d\u2019annonceurs mobiles de vos clients et cr\u00e9ez une audience personnalis\u00e9e."))))));},_renderThirdPartyItem:function(){return (i.createElement("li",{className:"_247s",onClick:this.props.onThirdPartyClick},i.createElement(h,{spacing:"large"},i.createElement(g,{src:r}),i.createElement("div",null,i.createElement(j,{weight:"bold",shade:"medium",size:"medium"},m._("Importer depuis MailChimp")),i.createElement("div",{className:"_3-8x"},m._("Importez une liste de clients d\u2019un service de messagerie tiers."))))));},render:function(){return (i.createElement("div",{className:"_247t"},i.createElement("ul",null,this._renderUploadFileItem(),this._renderCopyPasteItem(),this._renderThirdPartyItem())));}});e.exports=s;},null);
__d("AudienceManagerCustomerListDialogContent.react",["CustomerListTypeSelector.react","React","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIGrayText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=h,p=o.PropTypes,q=h.createClass({displayName:"AudienceManagerCustomerListDialogContent",propTypes:{onBack:p.func.isRequired,onUploadFileClick:p.func.isRequired,onCopyPasteClick:p.func.isRequired,onThirdPartyClick:p.func.isRequired},render:function(){return (h.createElement("div",null,h.createElement(i,null,h.createElement("div",{className:"_50_z"},h.createElement(l,{weight:"bold",shade:"medium",size:"medium"},n._("Comment voulez-vous ajouter des clients \u00e0 cette audience\u00a0?")),h.createElement("div",{className:"_3-98 _3-8y"},n._("Les informations que vous fournissez seront compar\u00e9es aux personnes sur Facebook pour cr\u00e9er une audience. Vos contacts ne sauront pas que vous les avez ajout\u00e9s \u00e0 une audience et nous ne les contacterons jamais sans votre autorisation.")),h.createElement(g,{onUploadFileClick:this.props.onUploadFileClick,onCopyPasteClick:this.props.onCopyPasteClick,onThirdPartyClick:this.props.onThirdPartyClick}))),h.createElement(k,null,h.createElement(j,{onClick:this.props.onBack,label:n._("Pr\u00e9c\u00e9dent")}))));}});e.exports=q;},null);
__d("AudienceManagerErrorContextualDialog.react",["HasLayerContextMixin","React","ReactLayer","ContextualDialog","cx"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=h,m=l.PropTypes,n=i.createClass({displayName:"AudienceManagerErrorContextualDialogLayer",propTypes:{shown:m.bool,context:m.object.isRequired,offsetY:m.number},getDefaultProps:function(){return {shown:true};},createLayer:function(p){var q=new j({theme:{wrapperClassName:"_1tpb",arrowDimensions:{offset:12,length:16},position:'right',offsetY:this.props.offsetY}},p);q.shouldSetARIAProperties(false);this._setProps(this.props,q);return q;},receiveProps:function(p){this._setProps(p,this.layer);},_setProps:function(p,q){q.setContext(p.context);q.conditionShow(p.shown);}}),o=h.createClass({displayName:"AudienceManagerErrorContextualDialog",mixins:[g],propTypes:{contextRef:m.string.isRequired,shown:m.bool,offsetY:m.number},render:function(){var p=this.props.children,q=(h.createElement(n,{shown:this.props.shown,context:this.getContextNode(),offsetY:this.props.offsetY},h.createElement("div",{className:"_1tp9"},h.createElement("div",{className:"_1tpa"}),h.createElement("div",{className:"_1tp8"},h.createElement("div",null,p)))));return q;}});e.exports=o;},null);
__d("FBDragDropBox.react",["DragDropTarget","FileInput.react","Image.react","InlineBlock.react","React","XUIButton.react","fbt","cx","glyph"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=k,q=p.PropTypes,r="/images/icons/groups/files/file-plain-32.png",s=k.createClass({displayName:"FBDragDropBox",propTypes:{onFilesSelection:q.func.isRequired,onFileChange:q.func.isRequired,onFileRemove:q.func.isRequired,selectedFile:q.object,hasError:q.bool,allowedFileTypes:q.array},getDefaultProps:function(){return {allowedFileTypes:['text/plain','text/csv']};},_handleFilesSelection:function(t){this.props.onFilesSelection(t);},_handleFileChange:function(t){this.props.onFileChange(t);},componentDidMount:function(){new g(k.findDOMNode(this)).setOnFilesDropCallback(this._handleFileChange).enable();},_renderDragAndDropBox:function(){var t;if(this.props.selectedFile&&this.props.selectedFile.name){var u=(this.props.selectedFile.name);t=(k.createElement("div",{className:"_82m"},k.createElement(i,{src:r,className:"_82n"}),u,k.createElement(i,{className:"_82o",onClick:this.props.onFileRemove,src:o('remove')})));}else t=(k.createElement("div",null,m._("Glissez-d\u00e9posez votre fichier ici ou"),' ',k.createElement(h,{accept:this.props.allowedFileTypes.join(', '),onChange:this._handleFilesSelection},k.createElement(l,{href:{url:'#'},label:m._("T\u00e9l\u00e9charger un fichier")}))));return (k.createElement(j,{alignv:"middle",height:76,fullWidth:true},t));},render:function(){return (k.createElement("div",{className:(("_82p")+(this.props.selectedFile&&this.props.selectedFile.name?' '+"_82q":'')+(this.props.hasError?' '+"_82r":''))},this._renderDragAndDropBox()));}});e.exports=s;},null);
__d("AudienceManagerFileImportInit.react",["AdInterfacesUiLogger","AudienceManagerAppIDInput.react","AudienceManagerDataTypeSelector.react","AudienceManagerErrorContextualDialog.react","AudienceManagerFBCustomAudienceTerm.react","AudienceManagerLoggingEvents","AudienceManagerViewFormatingExampleLink.react","FBDragDropBox.react","ImageBlock.react","Image.react","InlineBlock.react","ReactLayeredComponentMixin","React","XUIGrayText.react","cx","ix","fbt","ads-cluster-constants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){b.__markCompiled&&b.__markCompiled();'use strict';var y=v('/images/ads/audience_manager/ca_file.png'),z=44,aa=['csv','txt'],ba=s,ca=ba.PropTypes,da=s.createClass({displayName:"AudienceManagerFileImportInit",mixins:[r],propTypes:{accountID:ca.string.isRequired,selectedDataType:ca.string,appIDEntries:ca.array,termsAccepted:ca.bool,onFileUpdated:ca.func.isRequired,onAppEntriesUpdated:ca.func,onDataTypeChanged:ca.func.isRequired,onTermsCheckboxChanged:ca.func.isRequired},getDefaultProps:function(){return {selectedDataType:x.UPLOAD_TYPE_EMAIL,appIDEntries:[]};},getInitialState:function(){return {selectedFile:null,fileError:null};},renderLayers:function(){return {contextualDialog:s.createElement(j,{contextRef:"dragdropbox",shown:this._getShouldShowErrorDialog(),offsetY:17},this.state.fileError)};},render:function(){return (s.createElement("div",null,s.createElement(o,{spacing:"large"},s.createElement(p,{src:y}),s.createElement(q,{alignv:"middle",height:z},s.createElement(t,{weight:"bold",shade:"medium",size:"medium"},w._("Choisir un fichier \u00e0 t\u00e9l\u00e9charger")))),s.createElement("div",{className:"_3-8-"},s.createElement("p",null,w._("Vous pouvez t\u00e9l\u00e9charger des fichiers au format .csv ou .txt.")),s.createElement("p",null,w._("Les fichiers texte (.txt et .csv) peuvent inclure des enregistrements sur des lignes s\u00e9par\u00e9es ou dans une liste s\u00e9par\u00e9e par des virgules."),' ',s.createElement(m,null)),s.createElement("div",{className:"_3-98 _3-8z"},s.createElement(i,{defaultValue:this.props.selectedDataType,onTypeChange:this._onDataTypeChanged})),this._renderAppIDInput(),s.createElement("div",{className:"_3-98 _3-8z"},s.createElement(n,{ref:"dragdropbox",onFileRemove:this._onFileRemove,onFilesSelection:this._onFilesSelection,onFileChange:this._onFileChange,selectedFile:this.state.selectedFile,hasError:this._getShouldShowErrorDialog()})),s.createElement("div",{className:"_3-8w"},s.createElement(k,{accountID:this.props.accountID,termsAccepted:this.props.termsAccepted,onTermsCheckboxChanged:this.props.onTermsCheckboxChanged})))));},_renderAppIDInput:function(){if(this.state.selectedDataType===x.UPLOAD_TYPE_UID&&this.props.onAppEntriesUpdated)return s.createElement(h,{accountID:this.props.accountID,onAppEntriesUpdated:this.props.onAppEntriesUpdated});return null;},_getShouldShowErrorDialog:function(){return !!this.state.fileError;},_onDataTypeChanged:function(ea){this.setState({selectedDataType:ea.value},function(){return this.props.onDataTypeChanged(ea);}.bind(this));},_onFileRemove:function(){this.setState({fileError:null,selectedFile:null},function(){return this.props.onFileUpdated(null);}.bind(this));},_onFilesSelection:function(ea){this._onFileChange(ea.target.files);},_onFileChange:function(ea){var fa=ea[0];if(fa){g.log(l.AM_CA_CREATE_UPLOAD_FILE,{file_name:fa.name});if(!fa.size){this.setState({selectedFile:fa,fileError:w._("Le fichier semble vide.")},function(){return this.props.onFileUpdated(null);}.bind(this));g.log(l.AM_CA_CREATE_UPLOAD_FILE_ERROR,{error:this.state.fileError,file_name:fa.name});return;}var ga='';if(fa.name.indexOf('.')>=0)ga=fa.name.split('.').pop();var ha=aa.indexOf(ga.toLowerCase())!=-1;if(!ha){this.setState({selectedFile:fa,fileError:w._("Le fichier doit \u00eatre au format .csv ou .txt.")},function(){return this.props.onFileUpdated(null);}.bind(this));g.log(l.AM_CA_CREATE_UPLOAD_FILE_ERROR,{error:this.state.fileError,file_name:fa.name});return;}this.setState({selectedFile:fa,fileError:null},function(){return this.props.onFileUpdated(fa);}.bind(this));}}});e.exports=da;},null);
__d("AudienceManagerCreateAudienceFileImportInitDialogContent.react",["AudienceManagerFileImportInit.react","React","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","cx","fbt","ads-cluster-constants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=h,p=o.PropTypes,q=h.createClass({displayName:"AudienceManagerCreateAudienceFileImportInitDialogContent",propTypes:{accountID:p.string.isRequired,onBack:p.func.isRequired,onCreateAudienceClick:p.func.isRequired},getInitialState:function(){return {audienceName:'',selectedFile:null,selectedDataType:n.UPLOAD_TYPE_EMAIL,termsAccepted:true,appIDEntries:[]};},render:function(){return (h.createElement("div",null,h.createElement(i,null,h.createElement("div",{className:"_50_z"},h.createElement(g,{accountID:this.props.accountID,selectedDataType:this.state.selectedDataType,appIDEntries:this.state.appIDEntries,termsAccepted:this.state.termsAccepted,onFileUpdated:this._onFileUpdated,onAppEntriesUpdated:this._onAppEntriesUpdated,onDataTypeChanged:this._onDataTypeChanged,onTermsCheckboxChanged:this._onTermsCheckboxChanged}))),h.createElement(k,null,h.createElement("div",null,h.createElement(j,{onClick:this.props.onBack,label:m._("Pr\u00e9c\u00e9dent")}),h.createElement(j,{use:"confirm",disabled:!this._getShouldEnableCreateAudienceButton(),onClick:this._onCreateAudienceButtonClick,label:m._("Cr\u00e9er une audience")})))));},_getShouldEnableCreateAudienceButton:function(){var r=true;if(this.state.selectedDataType===n.UPLOAD_TYPE_UID){var s=this.state.appIDEntries.some(function(t){return t.getAuxiliaryData().invalid;});r=this.state.appIDEntries.length>0&&!s;}return !!this.state.termsAccepted&&!!this.state.selectedFile&&r;},_onTermsCheckboxChanged:function(r){this.setState({termsAccepted:r.target.checked});},_onDataTypeChanged:function(r){this.setState({selectedDataType:r.value,appIDEntries:[]});},_onAppEntriesUpdated:function(r){this.setState({appIDEntries:r});},_onFileUpdated:function(r){var s=r?r.name.substr(0,r.name.lastIndexOf('.')):'';this.setState({selectedFile:r,audienceName:s});},_onCreateAudienceButtonClick:function(){this.props.onCreateAudienceClick(this.state.selectedDataType,this.state.appIDEntries,this.state.selectedFile,this.state.audienceName);}});e.exports=q;},null);
__d("AudienceManagerErrorDialogContent.react",["Image.react","React","XUIDialogBody.react","XUIButton.react","cx","ix","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=h,o=n.PropTypes,p=l('/images/ads/audience_manager/error.png'),q=h.createClass({displayName:"AudienceManagerErrorDialogContent",propTypes:{errorMessage:o.string.isRequired,onOkClick:o.func.isRequired},render:function(){return (h.createElement(i,null,h.createElement("div",{className:"_50_z _5wby"},this._renderErrorMessage(),this._renderButtons())));},_renderErrorMessage:function(){return (h.createElement("div",null,h.createElement(g,{src:p,className:"_2pii"}),h.createElement("span",{className:"_5wb_ _1ols"},this.props.errorMessage)));},_renderButtons:function(){return (h.createElement("div",{className:"_3-8x"},h.createElement(j,{onClick:this.props.onOkClick,label:m._("OK")})));}});e.exports=q;},null);
__d("AudienceManagerMailChimpInitDialogContent.react",["Image.react","ImageBlock.react","InlineBlock.react","React","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIGrayText.react","cx","ix","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=j,s=r.PropTypes,t=p('/images/ads/audience_manager/ca_import.png'),u=44,v=j.createClass({displayName:"AudienceManagerMailChimpInitDialogContent",propTypes:{onBack:s.func.isRequired,onLogInToMailChimpClick:s.func.isRequired},render:function(){return (j.createElement("div",null,j.createElement(k,null,j.createElement("div",{className:"_50_z"},j.createElement(h,{spacing:"large"},j.createElement(g,{src:t}),j.createElement(i,{alignv:"middle",height:u},j.createElement(n,{weight:"bold",shade:"medium",size:"medium"},q._("Importer depuis MailChimp")))),j.createElement("div",{className:"_3-8-"},j.createElement("p",null,q._("Les adresses \u00e9lectroniques de votre liste MailChimp seront compar\u00e9es aux utilisateurs de Facebook pour cr\u00e9er une audience.")),j.createElement("p",null,q._("Vos contacts ne seront pas avertis que vous les avez ajout\u00e9s \u00e0 une audience et nous ne les contacterons jamais sans votre autorisation.")),j.createElement("p",null,q._("Facebook ne stocke pas votre nom d\u2019utilisateur ou votre mot de passe."))))),j.createElement(m,null,j.createElement("div",null,j.createElement(l,{onClick:this.props.onBack,label:q._("Pr\u00e9c\u00e9dent")}),j.createElement(l,{use:"confirm",onClick:this.props.onLogInToMailChimpClick,label:q._("Se connecter \u00e0 MailChimp")})))));}});e.exports=v;},null);
__d("AudienceThirdPartyContactsList.react",["React","XUISortableDataTable.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m=18,n=g.createClass({displayName:"AudienceThirdPartyContactsList",propTypes:{contactsLists:l.array.isRequired,selectedLists:l.object.isRequired,onListSelectionChange:l.func.isRequired,onSelectAllLists:l.func.isRequired,onDeselectAllLists:l.func.isRequired},_onToggleSelectAll:function(o){if(o){this.props.onDeselectAllLists();}else this.props.onSelectAllLists();},render:function(){var o=[{id:'selected',width:m,headerRenderer:function(q){var r=true,s=this.props.selectedLists;for(var t=0;t<this.props.contactsLists.length;t++){var u=this.props.contactsLists[t].list_id;if(!s[u]){r=false;break;}}return (g.createElement("input",{type:"checkbox",checked:r,onChange:this._onToggleSelectAll.bind(this,r)}));}.bind(this),cellRenderer:function(q){var r=function(){this.props.onListSelectionChange(q.list_id);}.bind(this);return (g.createElement("input",{type:"checkbox",value:q.list_id,checked:!!this.props.selectedLists[q.list_id],onChange:r}));}.bind(this)},{id:'name',label:j._("Nom"),comparator:function(q,r){return (q.name.toLowerCase()>r.name.toLowerCase()?1:-1);},cellRenderer:function(q){return g.createElement("span",null,q);},sortable:true}],p=this.props.contactsLists.map(function(q){var r={selected:q,name:q.name};return r;},this);if(!p.length)return (g.createElement("div",{className:"_5n5n"},j._("Impossible d\u2019obtenir des contacts depuis ce compte.")));return (g.createElement(h,{rows:p,columns:o,outerBorder:true,columnToSortBy:"name"}));}});e.exports=n;},null);
__d("AudienceManagerMailChimpSelectListDialogContent.react",["AudienceManagerFBCustomAudienceTerm.react","AudienceThirdPartyContactsList.react","Image.react","LeftRight.react","React","XUIButton.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIPagerButtons.react","cx","ix","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();'use strict';var t=k,u=t.PropTypes,v=k.createClass({displayName:"AudienceManagerMailChimpSelectListDialogContent",propTypes:{accountID:u.string.isRequired,contactsLists:u.array.isRequired,totalPage:u.number.isRequired,currentPage:u.number.isRequired,onLoadContactsLists:u.func.isRequired,onCreateAudienceClick:u.func.isRequired},getInitialState:function(){return {termsAccepted:true,selectedListIDs:{}};},render:function(){return (k.createElement("div",null,k.createElement(m,null,k.createElement("div",{className:"_5rkr"},k.createElement("div",{className:"_5q_x"},s._("S\u00e9lectionnez une ou plusieurs listes. Une nouvelle audience sera cr\u00e9\u00e9e pour chaque liste d\u2019adresses \u00e9lectroniques.")),k.createElement(h,{selectedLists:this.state.selectedListIDs,contactsLists:this.props.contactsLists,onListSelectionChange:this._onListSelectionChange,onSelectAllLists:this._onSelectAllLists,onDeselectAllLists:this._onDeselectAllLists}),k.createElement(j,null,k.createElement("div",{className:((this.props.totalPage===0?"hidden_elem":'')+(' '+"mtm"))},this._getSelectedListsSentence()),k.createElement("div",{className:((this.props.totalPage<=1?"hidden_elem":'')+(' '+"mtm"))},k.createElement("span",{className:"prs"},this.props.currentPage+" / "+this.props.totalPage),k.createElement(p,null,k.createElement(l,{href:{url:'#'},image:k.createElement(i,{src:r('/images/ui/x/pager/left.png')}),size:"small",onClick:this._loadPreviousPage,disabled:this.props.currentPage===1}),k.createElement(l,{href:{url:'#'},image:k.createElement(i,{src:r('/images/ui/x/pager/right.png')}),size:"small",onClick:this._loadNextPage,disabled:this.props.currentPage===this.props.totalPage})))),k.createElement("div",{className:"mtm"},k.createElement(g,{accountID:this.props.accountID,termsAccepted:this.state.termsAccepted,onTermsCheckboxChanged:this._onTermsCheckboxChanged})))),k.createElement(o,null,k.createElement(n,{use:"confirm",onClick:this._onCreateAudienceButtonClick,disabled:this._getShouldDiableCreateButton(),label:s._("Cr\u00e9er une audience")}))));},_getShouldDiableCreateButton:function(){var w=this._getSelectedListIDs();return !this.state.termsAccepted||w.length===0;},_onTermsCheckboxChanged:function(w){this.setState({termsAccepted:w.target.checked});},_loadPreviousPage:function(){this.props.onLoadContactsLists(this.props.currentPage-1);},_loadNextPage:function(){this.props.onLoadContactsLists(this.props.currentPage+1);},_getSelectedListsSentence:function(){var w=this._getSelectedListIDs().length;if(w===0){return (s._("Aucune liste s\u00e9lectionn\u00e9e"));}else if(w===1){return (s._("Une liste s\u00e9lectionn\u00e9e"));}else return (s._({"*":"{numSelectedLists} listes s\u00e9lectionn\u00e9es"},[s.param("numSelectedLists",w,[0])]));},_getSelectedListIDs:function(){return Object.keys(this.state.selectedListIDs).filter(function(w){return this.state.selectedListIDs[w];}.bind(this));},_onListSelectionChange:function(w){var x=this.state.selectedListIDs;x[w]=!x[w];this.setState({selectedListIDs:x});},_onSelectAllLists:function(){var w=this.state.selectedListIDs;(this.props.contactsLists||[]).forEach(function(x){w[x.list_id]=true;});this.setState({selectedListIDs:w});},_onDeselectAllLists:function(){var w=this.state.selectedListIDs;(this.props.contactsLists||[]).forEach(function(x){w[x.list_id]=false;});this.setState({selectedListIDs:w});},_onCreateAudienceButtonClick:function(){this.props.onCreateAudienceClick(this.state.selectedListIDs);}});e.exports=v;},null);
__d("AudienceManagerDownloadReportLink.react",["AdInterfacesUiLogger","AudienceManagerLoggingEvents","DOM","Link.react","React","fbt","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=k,o=n.PropTypes,p=(a.Blob||a.BlobBuilder||a.WebKitBlobBuilder)&&(a.URL||a.webkitURL);function q(t){var u=t.join("\n"),v=a.Blob;if(v)return new v([u],{type:'text/plain'});var w=a.BlobBuilder||a.WebKitBlobBuilder;if(w){var x=new w();x.append(u);return x.getBlob('text/plain');}return null;}function r(t){var u=q(t);if(!u)return;var v=a.URL||a.webkitURL;m(v.createObjectURL);var w=v.createObjectURL(u),x=i.create('a',{href:w,download:'export.csv'});x.click();}var s=k.createClass({displayName:"AudienceManagerDownloadReportLink",propTypes:{errorTokenLists:o.array},render:function(){if(this.props.errorTokenLists&&this.props.errorTokenLists.length>0&&p){var t=function(){g.log(h.AM_CA_CREATE_VIEW_ERROR_REPORT);r(this.props.errorTokenLists);}.bind(this);return (k.createElement(j,{target:"#",onClick:t},l._("Afficher le rapport d\u2019erreurs")));}return null;}});e.exports=s;},null);
__d("AudienceManagerCompleteUploadMessage.react",["AudienceManagerDownloadReportLink.react","ImageBlock.react","Image.react","InlineBlock.react","React","XUIGrayText.react","cx","ix","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=k,q=p.PropTypes,r=n('/images/ads/audience_manager/ca_done.png'),s=44,t=k.createClass({displayName:"AudienceManagerCompleteUploadMessage",propTypes:{message:q.string.isRequired,numberOfValidRecords:q.number,numberOfTotalRecords:q.number,errorTokenLists:q.array},render:function(){return (k.createElement("div",{className:"_3-97"},k.createElement(h,{spacing:"large"},k.createElement(i,{src:r}),k.createElement(j,{alignv:"middle",height:s},k.createElement(l,{weight:"bold",size:"medium",display:"block"},this.props.message),k.createElement("div",null,this._renderRecordMessage(),' ',k.createElement(g,{errorTokenLists:this.props.errorTokenLists}))))));},_renderRecordMessage:function(){if(this.props.numberOfValidRecords&&this.props.numberOfTotalRecords)return (k.createElement(l,{size:"small"},o._({"*":"{number of successfully-uploaded records} enregistrements t\u00e9l\u00e9charg\u00e9s."},[o.param("number of successfully-uploaded records",this.props.numberOfValidRecords,[0])])));return null;}});e.exports=t;},null);
__d("AudienceManagerCompleteUploadNotice.react",["React","XUINotice.react","XUIGrayText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=g.createClass({displayName:"AudienceManagerCompleteUploadNotice",render:function(){return (g.createElement("div",{className:"_3-8z _3-97"},g.createElement(h,null,g.createElement(i,{size:"small",display:"block"},k._("30 minutes peuvent \u00eatre n\u00e9cessaires pour constituer votre audience. Nous vous avertirons quand elle sera pr\u00eate. Vous pouvez aussi consulter le statut dans le Gestionnaire d\u2019audience.")))));}});e.exports=l;},null);
__d("AudienceNameAndDescriptionInput.react",["AdsClearableTextInput.react","FBReplaceLink.react","React","XUIGrayText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=i,n=m.PropTypes,o=i.createClass({displayName:"AudienceNameAndDescriptionInput",propTypes:{audienceName:n.string.isRequired,description:n.string,onAudienceNameChange:n.func.isRequired,onDescriptionChange:n.func.isRequired},render:function(){return (i.createElement("div",null,i.createElement("div",{className:"_3-8z _3-97"},i.createElement(j,{weight:"bold",display:"block",shade:"medium",className:"_3-95"},l._("Nom de l\u2019audience")),i.createElement(g,{placeholder:l._("Nommer votre audience"),height:"tall",defaultValue:this.props.audienceName,onChange:this.props.onAudienceNameChange})),this._renderDescription()));},_renderDescription:function(){if(this.props.description){return this._renderClearableDescription();}else return (i.createElement(h,{label:l._("Ajouter une description")},this._renderClearableDescription()));},_renderClearableDescription:function(){return (i.createElement("div",{className:"_3-8z _3-97"},i.createElement(j,{weight:"bold",shade:"medium",display:"block",className:"_3-95"},l._("Description")),i.createElement(g,{placeholder:l._("Ajouter une description"),height:"tall",defaultValue:this.props.description||'',onChange:this.props.onDescriptionChange})));}});e.exports=o;},null);
__d("AudienceManagerUploadCompleteDialogContent.react",["AudienceManagerCompleteUploadMessage.react","AudienceManagerCompleteUploadNotice.react","AudienceNameAndDescriptionInput.react","React","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=j,q=p.PropTypes,r=j.createClass({displayName:"AudienceManagerUploadCompleteDialogContent",propTypes:{numberOfValidRecords:q.number,numberOfTotalRecords:q.number,audiences:q.object.isRequired,errorTokenLists:q.array,allowNextStep:q.bool.isRequired,onNextClick:q.func.isRequired,onCompleteClick:q.func.isRequired},getInitialState:function(){return {updatedAudiences:{}};},render:function(){var s=o._("Merci d\u2019avoir cr\u00e9\u00e9 une audience personnalis\u00e9e");return (j.createElement("div",null,j.createElement(k,null,j.createElement("div",{className:"_50_z"},j.createElement(g,{message:s,numberOfValidRecords:this.props.numberOfValidRecords,numberOfTotalRecords:this.props.numberOfTotalRecords,errorTokenLists:this.props.errorTokenLists}),j.createElement("hr",null),this._renderUploadCompleteInput(),j.createElement(h,null))),j.createElement(m,null,this._renderButton())));},_renderButton:function(){if(this.props.allowNextStep)return (j.createElement(l,{use:"confirm",onClick:this._onNextClick,label:o._("Suivant")}));return (j.createElement(l,{onClick:this._onCompleteClick,label:o._("Termin\u00e9")}));},_renderUploadCompleteInput:function(){var s=[];for(var t in this.props.audiences)s.push(this._renderUpdateAudienceInput(this.props.audiences[t].name,t));return s;},_renderUpdateAudienceInput:function(s,t){var u=function(w){this._onAudienceNameInputChange(w,t);}.bind(this),v=function(w){this._onDescriptionInputChange(w,t);}.bind(this);return (j.createElement(i,{key:t,audienceName:s,onAudienceNameChange:u,onDescriptionChange:v}));},_onAudienceNameInputChange:function(s,t){this._updateAudienceStateByField('name',s,t);},_onDescriptionInputChange:function(s,t){this._updateAudienceStateByField('description',s,t);},_updateAudienceStateByField:function(s,t,u){var v={};if(this.state.updatedAudiences[u]){v=this.state.updatedAudiences[u];}else Object.assign(v,this.props.audiences[u]);v[s]=t;var w=this.state.updatedAudiences;w[u]=v;this.setState({updatedAudiences:w});},_onCompleteClick:function(){this.props.onCompleteClick(this.state.updatedAudiences);},_onNextClick:function(){this.props.onNextClick(this.state.updatedAudiences);}});e.exports=r;},null);
__d("AudienceManagerUploadDialogContent.react",["AdsXUIProgressBar.react","React","XUIDialogBody.react","XUIGrayText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=h,n=m.PropTypes,o=h.createClass({displayName:"AudienceManagerUploadDialogContent",propTypes:{progress:n.number.isRequired},render:function(){return (h.createElement(i,null,h.createElement(g,{className:"_5go",animated:true,value:this.props.progress}),h.createElement("div",{className:"_5gp"},h.createElement(j,{weight:"bold",size:"small"},l._("T\u00c9L\u00c9CHARGEMENT")))));}});e.exports=o;},null);
__d("AudienceManagerUploadErrorDialogContent.react",["AudienceManagerDownloadReportLink.react","Image.react","React","XUIDialogBody.react","XUIButton.react","cx","ix","fbt","ads-cluster-constants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=m('/images/ads/audience_manager/error.png'),q=i,r=q.PropTypes,s=i.createClass({displayName:"AudienceManagerUploadErrorDialogContent",propTypes:{numLines:r.number,numErrors:r.number.isRequired,errorTokenLists:r.array,onUploadAnotherFileClick:r.func.isRequired,onContinueCreateAudience:r.func.isRequired},getDefaultProps:function(){return {numLines:1};},render:function(){return (i.createElement(j,null,i.createElement("div",{className:"_50_z _5wby"},this._renderErrorMessage(),this._renderErrorSampleMessage(),i.createElement(g,{errorTokenLists:this.props.errorTokenLists}),i.createElement("div",null,n._("Vous pouvez choisir un nouveau fichier ou continuer \u00e0 t\u00e9l\u00e9charger le fichier.")),this._renderButtons())));},_renderErrorMessage:function(){var t;if(this.props.numLines<o.CLUSTER_API_MAX_SIZE){t=n._("Nous avons trouv\u00e9 {numErrors} erreurs dans votre fichier",[n.param("numErrors",this.props.numErrors)]);}else t=n._("Nous avons trouv\u00e9 {numErrors} erreurs dans les 10 000 premiers enregistrements de votre fichier",[n.param("numErrors",this.props.numErrors)]);return (i.createElement("div",null,i.createElement(h,{src:p,className:"_2pii"}),i.createElement("span",{className:"_5wb_ _1ols"},t)));},_renderErrorSampleMessage:function(){var t=(this.props.errorTokenLists||[]).slice(0,2),u=t.join("; ");return (i.createElement("div",null,n._("Par ex. {errorTokens}",[n.param("errorTokens",u)])));},_renderButtons:function(){return (i.createElement("div",{className:"_3-8x"},i.createElement(k,{onClick:this.props.onUploadAnotherFileClick,label:n._("Choisir un nouveau fichier")}),i.createElement("span",{className:"_2pis _2pii"},n._("OU")),i.createElement(k,{onClick:this.props.onContinueCreateAudience,label:n._("Continuer le t\u00e9l\u00e9chargement du fichier")})));}});e.exports=s;},null);
__d("AudienceManagerUploadFileErrorDialogContent.react",["Image.react","React","XUIDialogBody.react","XUIButton.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=h,n=m.PropTypes,o='/images/ads/audience_manager/error.png',p=h.createClass({displayName:"AudienceManagerUploadFileErrorDialogContent",propTypes:{errorDetails:n.string.isRequired,onUploadAnotherFileClick:n.func.isRequired},render:function(){return (h.createElement(i,null,h.createElement("div",{className:"_50_z _5wby"},this._renderErrorMessage(),this._renderErrorDetailsMessage(),this._renderButtons())));},_renderErrorMessage:function(){var q=l._("Impossible de t\u00e9l\u00e9charger votre fichier.");return (h.createElement("div",null,h.createElement(g,{src:o,className:"_2pii"}),h.createElement("span",{className:"_5wb_ _1ols"},q)));},_renderErrorDetailsMessage:function(){return (h.createElement("div",null,l._("Erreur\u00a0: {error details}",[l.param("error details",this.props.errorDetails)])));},_renderButtons:function(){return (h.createElement("div",{className:"_3-8x"},h.createElement(j,{onClick:this.props.onUploadAnotherFileClick,href:{url:'#'},label:l._("Choisir un nouveau fichier")})));}});e.exports=p;},null);
__d("AudienceManagerWorkflowTypes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={DATA_FILE:'datafile',MAIL_CHIMP:'mailchimp',COPY_PASTE:'copypaste',MACA:'maca',WCA:'wca',PIXEL_DETAILS:'pixel',LOOKALIKE:'lal',CUSTOM_LIST:'customlist'};},null);
__d("AudienceManagerCreateAudienceDialog.react",["AdInterfacesUiLogger","AdsAMCreateAudienceServerActions","AdsAMCreateAudienceStore","AdsAMCreateAudienceViewActions","AdsAMViewActions","AdsCreateMobileRemarketingAudienceDialog.react","AudienceManagerNextStepDialogContent.react","AudienceManagerLookalikeDialog.react","AudienceManagerCopyPasteInitDialogContent.react","AudienceManagerCreateAudienceInitDialogContent.react","AudienceManagerCustomerListDialogContent.react","AudienceManagerCreateAudienceFileImportInitDialogContent.react","AudienceManagerErrorDialogContent.react","AudienceManagerLoggingEvents","AudienceManagerMailChimpInitDialogContent.react","AudienceManagerMailChimpSelectListDialogContent.react","AudienceManagerUIConstants","AudienceManagerUploadCompleteDialogContent.react","AudienceManagerUploadDialogContent.react","AudienceManagerUploadErrorDialogContent.react","AudienceManagerUploadFileErrorDialogContent.react","AudienceManagerWorkflowTypes","CreateCADialogTypes","CreateCAStages","LayerHideOnEscape","PopupWindow","React","StoreBasedStateMixin","URI","XUIDialog.react","XUIDialogTitle.react","XUISpinner.react","XUIText.react","cx","emptyFunction","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa){b.__markCompiled&&b.__markCompiled();'use strict';var qa=new ia('/ads/manage/mailchimp_auth_init/'),ra=ga,sa=ra.PropTypes,ta="",ua=ga.createClass({displayName:"AudienceManagerCreateAudienceDialog",mixins:[ha(i)],propTypes:{onAudienceAdded:sa.func.isRequired,accountID:sa.string.isRequired,tosAccepted:sa.object.isRequired,tosRequirementsForAccount:sa.object.isRequired,onCancel:sa.func.isRequired,defaultMobileApp:sa.object,autoLaunch:sa.object,allowNextStep:sa.bool},getDefaultProps:function(){return {allowNextStep:false};},calculateState:function(){return {viewDialogType:i.getViewDialogType(),viewStage:i.getViewStage(),numberOfRecords:i.getNumberOfRecords(),audiences:i.getAudiences(),currentPage:i.getCurrentPage(),totalPage:i.getTotalPage(),progress:i.getProgress(),contactsLists:i.getContactsLists(),selectableContactsLists:i.getSelectableContactsLists(),errorTokenLists:i.getErrorTokenLists(),errorDetailsForLimitReach:i.getErrorDetailsForLimitReach(),errorMessage:i.getErrorMessage()};},componentDidMount:function(){this.refs.dialog.layer.updatePosition=oa;g.log(t.AM_CA_CREATE_DIALOG_LOAD,{auto_launch:this.props.autoLaunch});if(this.props.autoLaunch)switch(this.props.autoLaunch.workflow_id){case ba.DATA_FILE:setTimeout(function(){return j.setViewStage(da.FILE_IMPORT_INIT);});break;case ba.MAIL_CHIMP:setTimeout(function(){return j.setViewStage(da.MAIL_CHIMP_INIT);});break;case ba.COPY_PASTE:setTimeout(function(){return j.setViewStage(da.COPY_PASTE_INIT);});break;case ba.MACA:setTimeout(function(){return j.setViewDialogType(ca.MACA);});break;case ba.CUSTOM_LIST:setTimeout(function(){return j.setViewStage(da.CUSTOMER_LIST);});break;}},render:function(){switch(this.state.viewDialogType){case ca.MACA:var va=this.props.autoLaunch?this.props.autoLaunch.workflow_config:null;return (ga.createElement(l,{dao:this.props.dao,onAudienceAdded:this.props.onAudienceAdded,onCancel:this._onCancel,accountID:this.props.accountID,tosAccepted:this.props.tosAccepted,tosRequirementsForAccount:this.props.tosRequirementsForAccount,defaultMobileApp:this.props.defaultMobileApp,config:va}));case ca.LOOKALIKE:var wa=this.state.audiences[Object.keys(this.state.audiences)[0]];return (ga.createElement(n,{dao:this.props.dao,accountID:this.props.accountID,audience:wa,onAudienceAdded:this.props.onAudienceAdded,onClose:this._onFinishCreation}));case ca.CUSTOMER_LIST:return (ga.createElement(ja,{layerHideOnBlur:false,shown:true,behaviors:{LayerHideOnEscape:ea},ref:"dialog",width:w.DEFAULT_DIALOG_WIDTH,onToggle:this._onToggle},ga.createElement(ka,null,ga.createElement(ma,{weight:"bold",size:"medium"},pa._("Cr\u00e9er une audience personnalis\u00e9e"))),this._renderDialogContentForStage()));}},_renderDialogContentForStage:function(){switch(this.state.viewStage){case da.CREATE_AUDIENCE_INIT:return (ga.createElement(p,{onCancel:this._onCancel,onCustomerListClick:this._onCustomerListClick,onWebsiteTrafficClick:this._onWebsiteTrafficClick,onMobileAppClick:this._onMobileAppClick}));case da.CUSTOMER_LIST:return (ga.createElement(q,{onBack:this._onCustomerListBack,onUploadFileClick:this._onUploadFileClick,onCopyPasteClick:this._onCopyPasteClick,onThirdPartyClick:this._onThirdPartyClick}));case da.FILE_IMPORT_INIT:return (ga.createElement(r,{accountID:this.props.accountID,onBack:this._onInitBackToCustomerList,onCreateAudienceClick:this._onFileImportCreateAudienceClick}));case da.COPY_PASTE_INIT:return (ga.createElement(o,{accountID:this.props.accountID,onBack:this._onInitBackToCustomerList,onCreateAudienceClick:this._onCopyPasteCreateAudienceClick}));case da.MAIL_CHIMP_INIT:return (ga.createElement(u,{onBack:this._onInitBackToCustomerList,onLogInToMailChimpClick:this._onLogInToMailChimpClick}));case da.MAIL_CHIMP_AUTHENTICATE:case da.FILE_IMPORT_CHECK_FILE:return (ga.createElement("div",{className:"_3773"},ga.createElement(la,{background:"light",size:"large"})));case da.MAIL_CHIMP_FETCH_COMPLETE:return (ga.createElement(v,{accountID:this.props.accountID,contactsLists:this.state.contactsLists,totalPage:this.state.totalPage,currentPage:this.state.currentPage,onLoadContactsLists:this._onLoadContactsLists,onCreateAudienceClick:this._onMailChimpCreateAudienceClick}));case da.MAIL_CHIMP_UPLOAD:case da.COPY_PASTE_UPLOAD:case da.FILE_IMPORT_UPLOAD:return (ga.createElement(y,{progress:this.state.progress}));case da.FILE_IMPORT_UPLOAD_CONVERT_ERROR:case da.FILE_IMPORT_NO_VALID_ENTRY:return (ga.createElement(aa,{errorDetails:this.state.errorMessage,onUploadAnotherFileClick:this._onFileImportAnotherFileClick}));case da.MAIL_CHIMP_UPLOAD_COMPLETE:case da.COPY_PASTE_UPLOAD_COMPLETE:case da.FILE_IMPORT_UPLOAD_COMPLETE:return (ga.createElement(x,{numberOfValidRecords:this.state.numberOfRecords.validRecord,numberOfTotalRecords:this.state.numberOfRecords.totalRecord,errorTokenLists:this.state.errorTokenLists,audiences:this.state.audiences,onCompleteClick:this._onUploadCompleteClick,onNextClick:this._onUploadCompleteNextClick,allowNextStep:this.props.allowNextStep}));case da.FILE_IMPORT_UPLOAD_ERROR:return (ga.createElement(z,{numLines:this.state.errorDetailsForLimitReach.numLines,numErrors:this.state.errorDetailsForLimitReach.numErrors,errorTokenLists:this.state.errorTokenLists,onUploadAnotherFileClick:this._onFileImportAnotherFileClick,onContinueCreateAudience:this._onFileImportContinueCreateAudienceClick}));case da.CREATION_COMPLETE_NEXT_STEP:return (ga.createElement(m,{onFinish:this._onFinishCreation,onCreateAdClick:this._onCreateAdClick,onCreateLookalikeClick:this._onCreateLookalikeClick}));case da.FATAL_ERROR:return (ga.createElement(s,{errorMessage:this.state.errorMessage,onOkClick:this._onFinishCreation}));}},_onCustomerListClick:function(){g.log(t.AM_CA_CREATE_CUSTOMER_LIST_CLICK);j.setViewStage(da.CUSTOMER_LIST);},_onWebsiteTrafficClick:function(){g.log(t.AM_CA_CREATE_WCA_CLICK);k.showWCADialog(null);this.props.onCancel();},_onMobileAppClick:function(){g.log(t.AM_CA_CREATE_MACA_CLICK);j.showMobileAppDialog();},_onCustomerListBack:function(){g.log(t.AM_CA_CREATE_CUSTOMER_LIST_BACK_CLICK);j.setViewStage(da.CREATE_AUDIENCE_INIT);},_onUploadFileClick:function(){g.log(t.AM_CA_CREATE_FILE_IMPORT_CLICK);j.setViewStage(da.FILE_IMPORT_INIT);},_onCopyPasteClick:function(){g.log(t.AM_CA_CREATE_COPY_PASTE_CLICK);j.setViewStage(da.COPY_PASTE_INIT);},_onThirdPartyClick:function(){g.log(t.AM_CA_CREATE_MAIL_CHIMP_CLICK);j.setViewStage(da.MAIL_CHIMP_INIT);},_onInitBackToCustomerList:function(){g.log(t.AM_CA_CREATE_BACK_TO_CUSTOMER_LIST_CLICK,{from_view:this.state.viewStage});j.setViewStage(da.CUSTOMER_LIST);},_onFileImportCreateAudienceClick:function(va,wa,xa,ya){g.log(t.AM_CA_CREATE_FILE_IMPORT_CREATE_AUDIENCE_CLICK);j.startFileImport(this.props.accountID,va,wa,xa,this.props.tosRequirementsForAccount.custom_audience,ya);},_onFileImportContinueCreateAudienceClick:function(){g.log(t.AM_CA_CREATE_FILE_IMPORT_CONTINUE_CREATE_AUDIENCE_CLICK);h.continueUploadSelectedFileToServer();},_onFileImportAnotherFileClick:function(){g.log(t.AM_CA_CREATE_FILE_IMPORT_CHOOSE_ANOTHER_FILE_CLICK);j.setViewStage(da.FILE_IMPORT_INIT);},_onCopyPasteCreateAudienceClick:function(va,wa,xa,ya){g.log(t.AM_CA_CREATE_COPY_PASTE_CREATE_AUDIENCE_CLICK);j.startCopyPasteUpload(this.props.accountID,va,wa,xa,this.props.tosRequirementsForAccount.custom_audience,ya);},_getAudiencesNeedUpdate:function(va){var wa=[];for(var xa in va){var ya=va[xa].name,za=va[xa].description;if(ya!==this.state.audiences[xa].name||!!za)wa.push(va[xa]);}return wa;},_onUploadCompleteClick:function(va){var wa=this._getAudiencesNeedUpdate(va);g.log(t.AM_CA_CREATE_UPLOAD_COMPLETE_CLICK,{audiences_need_update:wa,from_view:this.state.viewStage,audiences:this.state.audiences});j.updateAudiencesNameDescription(this.props.accountID,wa,this._onFinishCreation);},_onUploadCompleteNextClick:function(va){var wa=this._getAudiencesNeedUpdate(va);g.log(t.AM_CA_CREATE_UPLOAD_COMPLETE_CLICK,{audiences_need_update:wa,from_view:this.state.viewStage,audiences:this.state.audiences});var xa=function(){j.setViewStage(da.CREATION_COMPLETE_NEXT_STEP);};j.updateAudiencesNameDescription(this.props.accountID,wa,xa);},_onCreateAdClick:function(){g.log(t.AM_CA_CREATE_CREATE_AD_CLICK,{audiences:this.state.audiences});h.batchCreateAd(this.props.accountID,this.state.audiences);this._onFinishCreation();},_onCreateLookalikeClick:function(){g.log(t.AM_CA_CREATE_CREATE_LAL_CLICK,{audiences:this.state.audiences});j.setViewDialogType(ca.LOOKALIKE);},_onLogInToMailChimpClick:function(){g.log(t.AM_CA_CREATE_LOG_INTO_MAIL_CHIMP_CLICK);j.setViewStage(da.MAIL_CHIMP_AUTHENTICATE);window.handleMailChimpCredential=this._handleMailChimpCredential;fa.open(qa,w.MAILCHIMP_WINDOW_HEIGHT,w.MAILCHIMP_WINDOW_WIDTH);},_handleMailChimpCredential:function(va){ta=va;j.handleMailChimpLogin(this.props.accountID,va);},_onLoadContactsLists:function(va){j.loadContactsList(this.props.accountID,ta,va);},_onMailChimpCreateAudienceClick:function(va){var wa=this._getSelectedLists(va);g.log(t.AM_CA_CREATE_MAIL_CHIMP_CREATE_AUDIENCE_CLICK,{selected_lists_num:wa.length});j.startMailChimpUpload(this.props.accountID,wa,this.props.tosRequirementsForAccount.custom_audience,ta);},_getSelectedLists:function(va){var wa=[];Object.keys(va).forEach(function(xa){if(va[xa])wa.push(this.state.selectableContactsLists[xa]);}.bind(this));return wa;},_onFinishCreation:function(){Object.keys(this.state.audiences).forEach(function(va){this.props.onAudienceAdded(va);}.bind(this));g.log(t.AM_CA_CREATE_FINISH_CREATION_SUCCESS,{audiences:this.state.audiences});this._onCancel();},_onToggle:function(va){if(!va){g.log(t.AM_CA_CREATE_CLOSE_DIALOG);this._onCancel();}},_onCancel:function(){this.props.onCancel();j.reset();}});e.exports=ua;},null);
__d("AudienceManagerSavedTargetSpecDialog.react",["AdsCommonTargetingViewController.react","AudienceManagerSavedTargetSpecUtils","AudienceManagerTextInput","AudienceManagerUIConstants","Grid.react","InfoTable.react","InfoTableRow.react","InfoTableSection.react","LayerHideOnEscape","React","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogButton.react","XUIDialogTitle.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){b.__markCompiled&&b.__markCompiled();"use strict";var y=k.GridItem,z=p,aa=z.PropTypes,ba=p.createClass({displayName:"AudienceManagerSavedTargetSpecDialog",propTypes:{accountID:aa.string.isRequired,dao:aa.object.isRequired,onClose:aa.func,title:aa.string.isRequired,saveButtonLabel:aa.string.isRequired,savedTargetSpec:aa.object,onTargetSpecChanged:aa.func,onTargetSpecCreated:aa.func},getInitialState:function(){return {name:this.props.savedTargetSpec?this.props.savedTargetSpec.audience_name:''};},componentWillMount:function(){this._controller=new g();this._controller.setConfiguration(h.getDialogLeftSideConfiguration());this._controller.setExtraData(h.getExtraData(this.props.accountID,this.props.dao));this._rightSideController=new g();this._rightSideController.setConfiguration(h.getDialogRightSideConfiguration());this._rightSideController.setExtraData(h.getExtraData(this.props.accountID,this.props.dao));if(this.props.savedTargetSpec){this._controller.setApiSpec(this.props.savedTargetSpec.target_spec);this._rightSideController.setApiSpec(this.props.savedTargetSpec.target_spec);}this._controller.subscribeApiChange(this._handleSpecChanged);},render:function(){return (p.createElement(q,{width:j.STS_DIALOG_WIDTH,fixedTopPosition:j.DEFAULT_DIALOG_TOP_POS,onToggle:this._handleToggle,behaviors:{LayerHideOnEscape:o},shown:true},this._renderDialogTitle(),this._renderDialogBody(),this._renderDialogFooter()));},componentWillUnmount:function(){this._controller.destroy();this._controller.clearAllState();this._rightSideController.destroy();this._rightSideController.clearAllState();},_renderDialogTitle:function(){return (p.createElement(v,null,this.props.title));},_renderDialogBody:function(){var ca=p.createElement(k,{cols:2},p.createElement(y,{className:"_3gzt"},p.createElement(l,{className:"_5rkp"},p.createElement(n,null,p.createElement(m,{label:x._("Nom"),className:"_2pi3"},p.createElement(i,{value:this.state.name,onChange:this._handleNameChanged})))),p.createElement("div",null,this._controller.render())),p.createElement(y,{className:"_3gzu"},this._rightSideController.render()));return (p.createElement(r,null,ca));},_handleNameChanged:function(ca){this.setState({name:ca});},_renderDialogFooter:function(){return (p.createElement(t,{leftContent:this._renderLeftFooter()},p.createElement(s,{use:"default",onClick:this._handleClose}),p.createElement(u,{use:"confirm",action:"confirm",onClick:this._handleSaveClicked,disabled:this._shouldDisableSave(),label:this.props.saveButtonLabel})));},_renderLeftFooter:function(){return p.createElement("div",null,j.STS_FORM_INSTRUCTION);},_handleSpecChanged:function(ca){this.forceUpdate();},_shouldDisableSave:function(){return !this.state.name||!this.state.name.trim()||!h.validateSpec(this._controller.getApiSpec());},_handleSaveClicked:function(){if(!this.props.savedTargetSpec){this.props.onTargetSpecCreated(this.state.name,this._controller.getApiSpec());}else{var ca={name:this.state.name,targetSpec:this._controller.getApiSpec()};this.props.onTargetSpecChanged(this.props.savedTargetSpec,ca);}this._handleClose();},_handleToggle:function(){this._handleClose();},_handleClose:function(){this.props.onClose&&this.props.onClose();}});e.exports=ba;},null);
__d("AudienceManagerBlankState.react",["AdInterfacesUiLogger","AdsManagerEmptyStateInfo.react","AsyncRequest","AudienceManagerCreateAudienceDialog.react","AudienceManagerSavedTargetSpecDialog.react","AudienceManagerLoggingEvents","AudienceManagerLookalikeDialog.react","Link.react","React","URI","XUIButton.react","XUIText.react","adsGKCheck","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){b.__markCompiled&&b.__markCompiled();var v=o,w=v.PropTypes,x="1409504736019761",y="676632195760106",z=o.createClass({displayName:"AudienceManagerBlankState",propTypes:{dao:w.object.isRequired,onAudienceAdded:w.func.isRequired,onSavedTargetSpecCreated:w.func,onSavedTargetSpecChanged:w.func,accountId:w.string.isRequired,tosAccepted:w.object.isRequired,tosRequirementsForAccount:w.object.isRequired,autoLaunch:w.object,canWrite:w.bool},getInitialState:function(){return {showCreateAudienceDialog:false,showCreateLookalikeAudienceDialog:false,showCreateSavedTargetGroupDialog:false,ignoreLinkClicks:false};},render:function(){var aa=u._("Atteignez les personnes qui vous int\u00e9ressent");return (o.createElement("div",{className:"_3yh5"},o.createElement(h,{message:aa},this._renderBodyAndHelpLink(),this._renderCreateCustomAudiences(),this._renderCreateLookalikeAudiences(),this._renderCreateSavedTargetGroup(),this._renderCustomAudienceDialog(),this._renderLookalikeDialog(),this._renderSavedTargetGroupDialog())));},_renderBodyAndHelpLink:function(){return (o.createElement("div",{className:"_2b16"},u._("Cr\u00e9ez et enregistrez des audiences pour atteindre les personnes importantes pour votre entreprise."),o.createElement(n,{href:p('/help/459892990722543'),target:"_blank",className:"mls"},u._("En savoir plus"))));},_renderScheduleCall:function(){if(!s('smb_custom_audiences_support_unit'))return;return (o.createElement(r,{size:"small",className:"_3-9b"},o.createElement(n,{onClick:this._onHelpClicked},u._("Obtenir une assistance gratuite"))));},_renderCreateCustomAudiences:function(){return (o.createElement("div",{className:"_2b17"},o.createElement(r,{display:"block",className:"fcb"},o.createElement(r,{display:"block",weight:"bold"},u._("Audiences personnalis\u00e9es")),o.createElement(r,{size:"small"},u._("Connectez-vous avec les personnes qui ont d\u00e9j\u00e0 manifest\u00e9 un int\u00e9r\u00eat pour votre entreprise ou votre produit avec les audiences personnalis\u00e9es. Vous pouvez cr\u00e9er une audience \u00e0 partir de vos contacts clients, du trafic de votre site web ou de votre application mobile."))),o.createElement(q,{use:"confirm",size:"medium",label:u._("Cr\u00e9er une audience personnalis\u00e9e"),onClick:this._onCreateAudienceButtonClick,className:"_2b18"}),this._renderScheduleCall()));},_renderCreateLookalikeAudiences:function(){return (o.createElement("div",{className:"_2b17"},o.createElement(r,{display:"block",className:"fcb"},o.createElement(r,{display:"block",weight:"bold"},u._("Audiences similaires")),o.createElement(r,{size:"small"},u._("Atteignez de nouvelles personnes similaires aux audiences qui vous int\u00e9ressent d\u00e9j\u00e0. Vous pouvez cr\u00e9er une audience similaire en fonction des personnes qui aiment votre Page, des pixels de conversion ou d\u2019une de vos audiences personnalis\u00e9es existantes."))),o.createElement(q,{use:"confirm",size:"medium",label:u._("Cr\u00e9er une audience similaire"),onClick:this._onCreateLookalikeButtonClick,className:"_2b18"}),this._renderScheduleCall()));},_renderCreateSavedTargetGroup:function(){if(this.props.onSavedTargetSpecChanged&&this.props.onSavedTargetSpecCreated)return (o.createElement("div",{className:"_2b17"},o.createElement(r,{display:"block",className:"fcb"},o.createElement(r,{display:"block",weight:"bold"},u._("Groupe cible enregistr\u00e9")),o.createElement(r,{size:"small"},u._("Enregistrez les options de ciblage que vous utilisez couramment pour les retrouver plus facilement. Choisissez vos audiences, informations d\u00e9mographiques, int\u00e9r\u00eats et comportements, puis enregistrez-les pour les r\u00e9utiliser dans de futures publicit\u00e9s."))),o.createElement(q,{use:"confirm",size:"medium",label:u._("Cr\u00e9er un groupe cible enregistr\u00e9"),onClick:this._onCreateSaveTargetGroupButtonClick,className:"_2b18"}),this._renderScheduleCall()));},_renderCustomAudienceDialog:function(){if(this.state.showCreateAudienceDialog)return (o.createElement(j,{dao:this.props.dao,onAudienceAdded:this.props.onAudienceAdded,accountID:this.props.accountId,tosAccepted:this.props.tosAccepted,tosRequirementsForAccount:this.props.tosRequirementsForAccount,onCancel:this._onCreateAudienceDialogCancel,allowNextStep:true}));return null;},_renderLookalikeDialog:function(){if(this.state.showCreateLookalikeAudienceDialog)return (o.createElement(m,{accountID:this.props.accountId,audience:null,dao:this.props.dao,onAudienceAdded:this.props.onAudienceAdded,onClose:this._onCreateLookalikAudienceClose}));},_renderSavedTargetGroupDialog:function(){if(this.state.showCreateSavedTargetGroupDialog&&this.props.onSavedTargetSpecCreated&&this.props.onSavedTargetSpecChanged){var aa=u._("Cr\u00e9er un groupe cible enregistr\u00e9"),ba=u._("Cr\u00e9er une audience");return (o.createElement(k,{accountID:this.props.accountId,dao:this.props.dao,title:aa,saveButtonLabel:ba,savedTargetSpec:null,onTargetSpecChanged:this.props.onSavedTargetSpecChanged,onTargetSpecCreated:this.props.onSavedTargetSpecCreated,onClose:this._onCreateSavedTargetGroupClose}));}},_onCreateAudienceDialogCancel:function(){this.setState({showCreateAudienceDialog:false});},_onCreateLookalikAudienceClose:function(){this.setState({showCreateLookalikeAudienceDialog:false});},_onCreateSavedTargetGroupClose:function(){this.setState({showCreateSavedTargetGroupDialog:false});},_onCreateLookalikeButtonClick:function(){g.log(l.AM_LAL_NUX_CREATE_AUDIENCE);this.setState({showCreateLookalikeAudienceDialog:true});},_onCreateAudienceButtonClick:function(){g.log(l.AM_CA_NUX_CREATE_AUDIENCE);this.setState({showCreateAudienceDialog:true});},_onCreateSaveTargetGroupButtonClick:function(){this.setState({showCreateSavedTargetGroupDialog:true});},_onHelpClicked:function(){if(this.state.ignoreLinkClicks)return;this.setState({ignoreLinkClicks:true});g.log(l.AM_HELP_BLANK_STATE_CLICKED);var aa=s('latam_br_am_nonresponse_q12015')?x:y;new i().setURI('/ajax/help/contact/'+aa).setHandler(function(){return this.setState({ignoreLinkClicks:false});}.bind(this)).send();}});e.exports=z;},null);
__d("AudienceManagerBulkDeleteDialog.react",["AudienceManagerUIConstants","React","XUISortableDataTable.react","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogButton.react","XUIDialogTitle.react","XUISpinner.react","XUIText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();var t=h,u=t.PropTypes,v=h.createClass({displayName:"AudienceManagerBulkDeleteDialog",propTypes:{selectedAudiences:u.array.isRequired,controller:u.object.isRequired,onBulkDelete:u.func.isRequired,onClose:u.func.isRequired},getInitialState:function(){return {adgroupData:null,isDeleting:false};},componentWillMount:function(){this.props.controller.loadAudienceAdgroups(this.props.selectedAudiences,function(w){this.setState({adgroupData:w,hasError:false});}.bind(this),function(w){this.setState({adgroupData:w,hasError:true});}.bind(this));},render:function(){return (h.createElement(j,{shown:true,width:g.DEFAULT_DIALOG_WIDTH,onToggle:this._onToggle},h.createElement(o,null,h.createElement("span",null,s._({"*":"Supprimer ces {total_audiences} audiences\u00a0?"},[s.param("total_audiences",this.props.selectedAudiences.length,[0])]))),this._renderDialogContent()));},_onToggle:function(w){if(!w)this.props.onClose();},_onDeleteClick:function(){this.setState({isDeleting:true});this.props.onBulkDelete(this.props.selectedAudiences);},_renderDialogContent:function(){if(this.state.isDeleting){return (h.createElement(k,null,h.createElement("div",{className:"_5rkr"},h.createElement("div",{className:"_5saq"},h.createElement("p",null,s._("Veuillez patienter pendant que nous supprimons ces audiences...")),h.createElement(p,{size:"large"})))));}else{var w=this.state.adgroupData?this._renderAudienceAdgroups():this._renderLoadingAdgroup();return (h.createElement("div",null,h.createElement(k,null,h.createElement("div",{className:"_5rkr"},w)),h.createElement(m,null,h.createElement(l,{use:"default",action:"close",onClick:this.props.onClose}),h.createElement(n,{use:"confirm",action:"confirm",onClick:this._onDeleteClick,enabled:this.state.adgroupData,label:s._("Tout supprimer")}))));}},_renderLoadingAdgroup:function(){return (h.createElement("div",{className:"_5saq"},h.createElement("p",null,s._("Veuillez patienter pendant que nous trouvons les publicit\u00e9s qui utilisent ces audiences...")),h.createElement(p,{size:"large"})));},_renderAudienceAdgroups:function(){var w=true;if(this.state.hasError){w=false;}else this.state.adgroupData.forEach(function(y){if(y.data.length>0)w=false;});if(w)return (s._("Aucune publicit\u00e9 active n\u2019utilise ces audiences pour l\u2019instant. Vous pouvez supprimer ces audiences en toute s\u00e9curit\u00e9."));var x=this.state.hasError?s._("Impossible de charger des publicit\u00e9s pour certaines audiences."):null;return (h.createElement("div",null,x,s._("Voici vos publicit\u00e9s actives qui utilisent ces audiences."),h.createElement("div",{className:"_38yq"},this._renderAudienceAdgroupsBody()),s._("Si vous supprimez ces audiences, toutes ces publicit\u00e9s cesseront d\u2019\u00eatre diffus\u00e9es. Voulez-vous vraiment supprimer ces audiences\u00a0?")));},_renderAudienceAdgroupsBody:function(){var w=this.state.adgroupData.map(function(x,y){var z=this.props.selectedAudiences[y];if(!x.data)return (h.createElement("div",null,s._("Impossible de charger les publicit\u00e9s qui utilisent {audience_name}",[s.param("audience_name",h.createElement(q,{weight:"bold"},z.name))])));if(x.data.length>0){var aa=[{id:'name',label:s._("Nom")}],ba=x.data.map(function(ca){return {name:ca.name};});return (h.createElement("div",null,s._("Publicit\u00e9s utilisant {audience_name}",[s.param("audience_name",h.createElement(q,{weight:"bold"},z.name))]),h.createElement("div",{className:"_38yr"},h.createElement(i,{rows:ba,columns:aa,outerBorder:true}))));}return null;}.bind(this));return w;}});e.exports=v;},null);
__d("AudienceManagerBulkDeleteSTSDialog.react",["AudienceManagerUIConstants","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","cx","fbt","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=h,s=r.PropTypes,t=h.createClass({displayName:"AudienceManagerBulkDeleteSTSDialog",propTypes:{selectedAudiences:s.array.isRequired,onBulkDelete:s.func.isRequired,onClose:s.func.isRequired},render:function(){return (h.createElement(i,{shown:true,width:g.DEFAULT_DIALOG_WIDTH,onToggle:this._onToggle},h.createElement(n,null,this._renderDialogTitle()),h.createElement(j,null,this._renderDialogBody()),h.createElement(m,null,h.createElement(l,{use:"default",action:"close",onClick:this.props.onClose}),h.createElement(k,{use:"confirm",action:"confirm",onClick:this._onDeleteClick,label:this._renderDeleteButtonLabel()}))));},_renderDialogTitle:function(){var u;q(this.props.selectedAudiences.length>0);if(this.props.selectedAudiences.length===1){u=p._("Supprimer l\u2019audience\u00a0?");}else u=p._({"*":"Supprimer ces {total_audiences} audiences\u00a0?"},[p.param("total_audiences",this.props.selectedAudiences.length,[0])]);return h.createElement("span",null,u);},_renderDialogBody:function(){var u;if(this.props.selectedAudiences.length===1){u=p._("Voulez-vous vraiment supprimer cette audience sauvegard\u00e9e\u00a0?");}else u=p._("Voulez-vous vraiment supprimer ces audiences sauvegard\u00e9es\u00a0?");return (h.createElement("div",{className:"_5rkr"},u));},_renderDeleteButtonLabel:function(){if(this.props.selectedAudiences.length===1)return (p._("Supprimer"));return (p._("Tout supprimer"));},_onToggle:function(u){if(!u)this.props.onClose();},_onDeleteClick:function(){this.props.onBulkDelete(this.props.selectedAudiences);}});e.exports=t;},null);
__d("AudienceManagerBulkActionUtils",["AdsAudienceDeliveryStatusUtils"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={canDelete:function(i,j){return this._ownAllAudiences(i,j);},canCreateAd:function(i,j){if(i.length===0)return false;return this._areAllAudiencesActive(i);},_ownAllAudiences:function(i,j){for(var k=0;k<i.length;k++)if(i[k].account_id!=j)return false;return true;},_areAllAudiencesActive:function(i){for(var j=0;j<i.length;j++){var k=g.isActive(i[j].delivery_status.code);if(!k)return false;}return true;},_allAudienceIDsSelected:function(i,j){for(var k=0;k<j.length;k++)if(!this._isAudienceIDSelected(i,j[k]))return false;return true;},_isAudienceIDSelected:function(i,j){for(var k=0;k<i.length;k++)if(i[k].id===j)return true;return false;}};e.exports=h;},null);
__d("AudienceManagerCreateAdButton.react",["AdInterfacesUiLogger","AdsAMAudienceUtils","AudienceManagerBulkActionUtils","AudienceManagerLoggingEvents","AudienceManagerUIConstants","React","XUIButton.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=l,o=n.PropTypes,p=l.createClass({displayName:"AudienceManagerCreateAdButton",propTypes:{accountID:o.string.isRequired,audiences:o.array.isRequired,label:o.string.isRequired,controller:o.object.isRequired,onAdCreate:o.func},render:function(){return (l.createElement(m,{label:this.props.label,onClick:this._handleCreateAdClicked,disabled:!this._canCreateAd()}));},_canCreateAd:function(){var q=this.props.audiences.some(function(s){return h.isSavedTargetSpec(s);});if(q){if(this.props.audiences.length===1){this._createAdUsingSavedTargetSpec=true;return true;}return false;}var r=i.canCreateAd(this.props.audiences,this.props.accountID);if(r){this._createAdUsingSavedTargetSpec=false;return true;}return false;},_handleCreateAdClicked:function(){var q=this._createAdUsingSavedTargetSpec?k.AUDIENCE_TYPE.SAVED_TARGET_SPEC:k.AUDIENCE_TYPE.CUSTOM_AUDIENCE;g.log(j.AM_TABLE_ACTION_CREATE_AD_CLICKED,{num_audiences:this.props.audiences.length,audience_type:q});if(this._createAdUsingSavedTargetSpec){this._createAdFromSavedTargetSpec();return;}this._createAdFromSelectedCAs();},_createAdFromSelectedCAs:function(){if(this.props.onAdCreate){var q=this.props.audiences.map(function(s){return {id:s.id,name:s.name};}),r={custom_audiences:q};this.props.onAdCreate(r);return;}this.props.controller.bulkCreateAd&&this.props.controller.bulkCreateAd(this.props.audiences);},_createAdFromSavedTargetSpec:function(){if(this.props.onAdCreate){this.props.onAdCreate(this.props.audiences[0].target_spec);return;}this.props.controller.createAdFromSavedTargetSpec(this.props.audiences[0]);}});e.exports=p;},null);
__d("AdsCommonTargetingViewWrapper.react",["AdsCommonTargetingViewController.react","React","areEqual"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=h,k=j.PropTypes,l=600,m=h.createClass({displayName:"AdsCommonTargetingViewWrapper",propTypes:{accountID:k.string.isRequired,targetingAPISpec:k.object.isRequired,onTargetingChange:k.func.isRequired,width:k.number},shouldComponentUpdate:function(n){return !i(this.props.targetingAPISpec,n.targetingAPISpec);},componentWillMount:function(){var n=new g();n.subscribeApiChange(this.props.onTargetingChange);n.setConfiguration([{component:'SectionDivider'},{component:'AudienceEditor'},{component:'ConnectionsEditor'},{component:'SectionDivider'},{component:'LocationEditor'},{component:'DemographicsEditor'},{component:'AdvancedDemographicsDropdownEditor'},{component:'LanguagesEditor'},{component:'SectionDivider'},{component:'InterestsEditor'},{component:'BehaviorsEditor'},{component:'CategoriesEditor'}]);n.setExtraData({accountID:this.props.accountID,defaultWidth:this.props.width||l,destinationData:{},objectiveData:{}});n.setApiSpec(this.props.targetingAPISpec);this.setState({targetingController:n});},componentWillUnmount:function(){this.state.targetingController.destroy();},render:function(){return this.state.targetingController.render();}});e.exports=m;},null);
__d("isValidTargetingSpec",["fbt"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(i){if(!i||Object.keys(i).length===0)return false;var j=i.geo_locations&&typeof i.geo_locations==='object'&&Object.keys(i.geo_locations).length>0,k=i.custom_audiences&&Array.isArray(i.custom_audiences)&&i.custom_audiences.length>0;if(!j&&!k)return false;return true;}h.errorMessage=g._("Le ciblage de votre audience est incomplet. Vous devez choisir un ciblage par lieu ou utiliser une audience personnalis\u00e9e.");e.exports=h;},null);
__d("AdsTargetingEstimatedReach.react",["GraphAPI","LoadingIndicator.react","React","XUINotice.react","areEqual","cachedGraphAPI","fbt","ads-lib-formatters","isValidTargetingSpec"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=i,q=p.PropTypes,r=n.createIntlLongNumberFormatter(0),s=i.createClass({displayName:"AdsTargetingEstimatedReach",propTypes:{width:q.number,targetingApiSpec:q.object.isRequired,accountID:q.string.isRequired},getInitialState:function(){return {loading:false,estimates:null,error:null};},componentWillMount:function(){this.setState({loading:true,estimates:null,error:null});this._updateEstimatedReach(this.props);},componentWillReceiveProps:function(t){if(k(this.props,t))return;this.setState({loading:true,estimates:null,error:null},function(){return this._updateEstimatedReach(t);}.bind(this));},_updateEstimatedReach:function(t){if(!o(t.targetingApiSpec)){this.setState({loading:false,estimates:null,error:o.errorMessage});return;}l(g('2.2').adaccount(t.accountID).edge('reachestimate')).get({targeting_spec:t.targetingApiSpec}).done(function(u){if(!this.isMounted())return;this.setState({loading:false,estimates:u,error:null});}.bind(this),function(u){if(!this.isMounted())return;this.setState({loading:false,estimates:null,error:u.error_user_msg||u.message});}.bind(this));},render:function(){return (i.createElement("div",{style:{width:this.props.width}},this._renderLoadingIndicator(),this._renderEstimatedReach(),this._renderError()));},_renderLoadingIndicator:function(){if(this.state.loading)return i.createElement(h,{size:"small",color:"blue"});return null;},_renderEstimatedReach:function(){if(!this.state.estimates)return null;return (i.createElement("div",null,m._("Port\u00e9e potentielle\u00a0:")," ",m._({"*":"{num_of_people} personnes"},[m.param("num_of_people",r(this.state.estimates.users),[0,this.state.estimates.users])])));},_renderError:function(){if(!this.state.error)return null;return (i.createElement(j,null,m._("Aucune information pr\u00e9cise sur la taille de votre audience n\u2019est disponible\u00a0: {error message}",[m.param("error message",this.state.error)])));}});e.exports=s;},null);
__d("TargetingSentences.react",["GraphAPI","React","cachedGraphAPI","cx","fbt","isValidTargetingSpec"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=h,n=m.PropTypes,o=h.createClass({displayName:"TargetingSentences",propTypes:{targetingApiSpec:n.object.isRequired,accountID:n.string.isRequired},getInitialState:function(){return {sentences:[]};},componentWillMount:function(){this._updateTargetingSentencesIfValid(this.props);},componentWillReceiveProps:function(p){this._updateTargetingSentencesIfValid(p);},_updateTargetingSentencesIfValid:function(p){if(!l(p.targetingApiSpec))return;i(g('2.2').adaccount(p.accountID).edge('targetingsentencelines')).get({discard_placements:true,targeting_spec:p.targetingApiSpec}).done(function(q){return this.setState({sentences:q.targetingsentencelines});}.bind(this));},render:function(){var p=[];if(!this.state.sentences.length){p.push(h.createElement("li",{key:"all"},k._("Tout le monde")));}else p=this.state.sentences.map(function(q,r){if(!q.content)return h.createElement("li",{key:q},q);return (h.createElement("li",{key:q.content},h.createElement("div",null,q.content),h.createElement("ul",{className:"_xg0 pll"},(q.children||[]).map(function(s,t){return (h.createElement("li",{key:s},s));}))));});return (h.createElement("div",{className:"_xg1","data-testid":"targeting-estimate-feedback"},h.createElement("span",{className:"fwb"},k._("R\u00e9capitulatif\u00a0:")),h.createElement("ul",{className:"_xg2 pll pts"},p)));}});e.exports=o;},null);
__d("AdsSavedAudienceTargetingDialogBody.react",["AdsCommonTargetingViewWrapper.react","AdsInfoTable.react","AdsInfoTableRow.react","AdsInfoTableSection.react","AdsTargetingEstimatedReach.react","AdsTextInput.react","LeftRight.react","React","TargetingSentences.react","fbt","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=n,s=r.PropTypes,t=600,u=n.createClass({displayName:"AdsSavedAudienceTargetingDialogBody",propTypes:{accountID:s.string.isRequired,audienceName:s.string.isRequired,onAudienceNameChange:s.func.isRequired,onTargetingChange:s.func.isRequired,targetingAPISpec:s.object.isRequired},render:function(){return (n.createElement("div",null,this._renderTopRow(),n.createElement(m,null,n.createElement("div",{className:"_ks2"},n.createElement(g,{accountID:this.props.accountID,onTargetingChange:this.props.onTargetingChange,targetingAPISpec:this.props.targetingAPISpec})),n.createElement("div",{className:"_ks3"},this._renderReach(),this._renderTargetingSentences()))));},_renderTopRow:function(){return (n.createElement("div",{style:{width:t}},n.createElement(h,null,n.createElement(j,null,n.createElement(i,{label:p._("Nom de l\u2019audience")},n.createElement(l,{placeholder:p._("Nommer votre audience"),onChange:this.props.onAudienceNameChange,value:this.props.audienceName}))))));},_renderReach:function(){return (n.createElement(k,{accountID:this.props.accountID,targetingApiSpec:this.props.targetingAPISpec}));},_renderTargetingSentences:function(){return (n.createElement(o,{accountID:this.props.accountID,targetingApiSpec:this.props.targetingAPISpec}));}});e.exports=u;},null);
__d("AdsCreateSavedAudienceTargetingDialog.react",["AdsSavedAudienceTargetingDialogBody.react","LayerFadeOnHide","LayerHideOnEscape","React","ReactLayeredComponentMixin","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=j,s=r.PropTypes,t=910,u=j.createClass({displayName:"AdsCreateSavedAudienceTargetingDialog",mixins:[k],propTypes:{accountID:s.string.isRequired,isShown:s.bool.isRequired,onCancel:s.func.isRequired,onCreate:s.func.isRequired},getInitialState:function(){return {audienceName:'',targetingAPISpec:{}};},render:function(){return null;},renderLayers:function(){return {dialog:j.createElement(l,{width:t,onToggle:this._onToggle,behaviors:{LayerFadeOnHide:h,LayerHideOnEscape:i},shown:this.props.isShown},j.createElement(p,null,q._("Cr\u00e9er une audience cible")),j.createElement(m,null,j.createElement(g,{accountID:this.props.accountID,audienceName:this.state.audienceName,onAudienceNameChange:this._onAudienceNameChange,onTargetingChange:this._onTargetingChange,targetingAPISpec:this.state.targetingAPISpec})),j.createElement(o,null,j.createElement(n,{use:"default",label:q._("Annuler"),onClick:this.props.onCancel}),j.createElement(n,{use:"confirm",label:q._("Cr\u00e9er"),onClick:this._onCreate})))};},_onToggle:function(v){if(!v)this.props.onCancel();},_onCreate:function(){this.props.onCreate(this.state.audienceName,this.state.targetingAPISpec);},_onAudienceNameChange:function(v){this.setState({audienceName:v});},_onTargetingChange:function(v){this.setState({targetingAPISpec:v});}});e.exports=u;},null);
__d("AdsSavedAudienceLoggingEvents",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g={CANCEL_IN_CAMPAIGN_LIST_DIALOG:'cancel_in_campaign_list_dialog',SAVE_AS_IN_CAMPAIGN_LIST_DIALOG:'save_as_in_campaign_list_dialog',UPDATE_IN_CAMPAIGN_LIST_DIALOG:'update_in_campaign_list_dialog',SAVE_AS_IN_EDIT_DIALOG:'save_as_in_edit_dialog',UPDATE_IN_EDIT_DIALOG_NO_ADS:'update_in_edit_dialog_no_ads',UPDATE_IN_EDIT_DIALOG_WITH_ADS:'update_in_edit_dialog_with_ads',SAVE_TARGETING_CLICKED:'save_targeting_clicked',SAVE_TARGETING_COMPLETE:'save_targeting_complete',SAVED_AUDIENCE_TAB_OPENED:'saved_audience_tab_opened'};e.exports=g;},null);
__d("AdsCreateSavedAudienceDialog.react",["AdsCommonTargetingSentencesRenderer.react","AdInterfacesUiLogger","AdsInfoTable.react","AdsInfoTableRow.react","AdsInfoTableSection.react","AdsLoadState","AdsSavedAudienceLoggingEvents","AdsTextInput.react","LayerFadeOnHide","LayerHideOnEscape","React","ReactLayeredComponentMixin","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUINotice.react","XUISpinner.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){b.__markCompiled&&b.__markCompiled();'use strict';var ca=q,da=ca.PropTypes,ea=600,fa=q.createClass({displayName:"AdsCreateSavedAudienceDialog",mixins:[r],propTypes:{audienceName:da.string.isRequired,isShown:da.bool.isRequired,onAudienceNameChange:da.func.isRequired,onCancel:da.func.isRequired,onSave:da.func.isRequired,sentences:da.object.isRequired},render:function(){return null;},renderLayers:function(){return {dialog:q.createElement(s,{behaviors:{LayerFadeOnHide:o,LayerHideOnEscape:p},className:"_4x9b",onToggle:this._onToggle,shown:this.props.isShown,width:ea},q.createElement(x,{showCloseButton:true},ba._("Enregistrer l\u2019audience cible")),q.createElement(t,null,this._renderDialogContent()),q.createElement(w,null,q.createElement(v,{onClick:this.props.onCancel}),q.createElement(u,{use:"confirm",action:"confirm",label:ba._("Enregistrer"),onClick:this._onSave,disabled:!this._canSave()})))};},_onSave:function(){h.log(m.SAVE_TARGETING_COMPLETE);this.props.onSave();},_canSave:function(){return this.props.audienceName.length>0;},_onToggle:function(ga){if(!ga)this.props.onCancel();},_isError:function(){return this.props.sentences.loadingStatus===l.ERROR||!this.props.sentences.sentenceLines;},_renderDialogContent:function(){if(this.props.sentences.loadingStatus===l.LOADING){return q.createElement(z,{size:"large"});}else if(this._isError())return (q.createElement(y,{use:"warn"},ba._("Impossible de r\u00e9cup\u00e9rer les informations de ciblage.")));return (q.createElement(i,null,q.createElement(k,null,q.createElement(j,{label:ba._("Nom de l\u2019audience")},q.createElement(n,{placeholder:"Name your audience",onChange:this._onChangeAudienceName,value:this.props.audienceName})),q.createElement(j,null,q.createElement(g,{sentences:this.props.sentences.sentenceLines})))));},_onChangeAudienceName:function(ga){this.props.onAudienceNameChange(ga);}});e.exports=fa;},null);
__d("AdsParamsToResultCache",["invariant"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j){"use strict";g(i>0&&j>=i);this.$AdsParamsToResultCache0=[];this.$AdsParamsToResultCache1={};this.$AdsParamsToResultCache2=j;this.$AdsParamsToResultCache3=i;}h.prototype.get=function(i){"use strict";var j=JSON.stringify(i);return (j in this.$AdsParamsToResultCache1)?this.$AdsParamsToResultCache1[j]:(void 0);};h.prototype.set=function(i,j){"use strict";var k=JSON.stringify(i);if(!(k in this.$AdsParamsToResultCache1))this.$AdsParamsToResultCache0.unshift(k);this.$AdsParamsToResultCache1[k]=j;if(this.$AdsParamsToResultCache0.length>this.$AdsParamsToResultCache2)while(this.$AdsParamsToResultCache0.length>this.$AdsParamsToResultCache3)delete this.$AdsParamsToResultCache1[this.$AdsParamsToResultCache0.pop()];};e.exports=h;},null);
__d("AdsSentenceLinesDataLoader",["GraphAPI"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(j,k){return g('2.2').adaccount(j).edge('targetingsentencelines').batched().get({discard_placements:true,targeting_spec:k});}var i={loadTargeting:h};e.exports=i;},null);
__d("AdsSentenceLinesDataDispatcher",["AdsSentenceLinesDataLoader","AdsSentenceLinesServerActions"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';function i(k,l){var m=Array.prototype.slice.call(arguments);g.loadTargeting(k,l).done(function(n){h.updateTargeting(m,n.targetingsentencelines);},function(n){h.failTargeting(m,n);});}var j={loadTargeting:i};e.exports=j;},null);
__d("AdsSentenceLinesStore",["AdsBaseStore","AdsLoadState","AdsParamsToResultCache","AdsSentenceLinesActionTypes","AdsSentenceLinesDataDispatcher","deepFreezeValue"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m={loadingStatus:h.LOADING};for(var n in g)if(g.hasOwnProperty(n))p[n]=g[n];var o=g===null?null:g.prototype;p.prototype=Object.create(o);p.prototype.constructor=p;p.__superConstructor__=g;function p(){g.call(this);this.$AdsSentenceLinesStoreClass0=new i(20,5000);}p.prototype.getStoreName=function(){return 'AdsSentenceLinesStore';};p.prototype.getTargeting=function(r,s){var t=Array.prototype.slice.call(arguments),u=this.$AdsSentenceLinesStoreClass0.get(t);if(!u){u=m;this.$AdsSentenceLinesStoreClass0.set(t,u);k.loadTargeting(r,s);}return u;};p.prototype.onDispatchToken=function(r){var s=r.action;switch(s.actionType){case j.TARGETING_LOAD_SUCCESS:this.$AdsSentenceLinesStoreClass0.set(s.params,{loadingStatus:h.LOADED,sentenceLines:s.sentenceLines});this.inform('change');break;case j.TARGETING_LOAD_ERROR:this.$AdsSentenceLinesStoreClass0.set(s.params,{loadingStatus:h.ERROR,error:s.error});this.inform('change');break;}};var q=new p();a.debug_AdsSentenceLinesStore=q;e.exports=q;},null);
__d("ads-lib-newIds",["uki-env"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(){return Date.now()+(g.guid++);}function i(){return -h();}function j(k){return +k<0;}f.isNew=j;f.newNegativeId=i;f.newUniqueId=h;},null);
__d("AdsCreateSavedAudienceDialogContainer.react",["AdsCreateSavedAudienceDialog.react","AdsSavedAudienceActions","AdsSentenceLinesStore","ads-lib-newIds","React","StoreAndPropBasedStateMixin"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=k,n=m.PropTypes,o=k.createClass({displayName:"AdsCreateSavedAudienceDialogContainer",mixins:[l(i)],getInitialState:function(){return {audienceName:''};},statics:{calculateState:function(p){var q=i.getTargeting(p.accountID,p.targetingAPISpec);return {sentences:q};}},propTypes:{accountID:n.string.isRequired,isShown:n.bool.isRequired,onClose:n.func.isRequired,onSavedAudienceChange:n.func.isRequired,targetingAPISpec:n.object.isRequired},render:function(){return (k.createElement(g,{audienceName:this.state.audienceName,sentences:this.state.sentences,onAudienceNameChange:this._onAudienceNameChange,onCancel:this.props.onClose,onSave:this._onSave,isShown:this.props.isShown}));},_onAudienceNameChange:function(p){this.setState({audienceName:p});},_onSave:function(){var p=j.newNegativeId().toString();h.createSavedAudiences([{accountID:this.props.accountID,name:this.state.audienceName,targeting:this.props.targetingAPISpec,tempID:p}]);this.props.onSavedAudienceChange({id:p,name:this.state.audienceName});this.props.onClose();}});e.exports=o;},null);
__d("AdsEditSavedAudienceDialog.react",["AdsSavedAudienceTargetingDialogBody.react","LayerFadeOnHide","LayerHideOnEscape","React","ReactLayeredComponentMixin","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=j,s=r.PropTypes,t=910,u=j.createClass({displayName:"AdsEditSavedAudienceDialog",mixins:[k],propTypes:{accountID:s.string.isRequired,audienceName:s.string.isRequired,isShown:s.bool.isRequired,onAudienceNameChange:s.func.isRequired,onCancel:s.func.isRequired,onUpdate:s.func.isRequired,onSaveAs:s.func.isRequired,onTargetingChange:s.func.isRequired,targetingAPISpec:s.object.isRequired},render:function(){return null;},renderLayers:function(){return {dialog:j.createElement(l,{fixedTopPosition:100,width:t,onToggle:this._onToggle,behaviors:{LayerFadeOnHide:h,LayerHideOnEscape:i},shown:this.props.isShown},j.createElement(p,null,q._("Modifier l\u2019audience cible")),j.createElement(m,null,j.createElement(g,{accountID:this.props.accountID,audienceName:this.props.audienceName,onAudienceNameChange:this.props.onAudienceNameChange,onTargetingChange:this.props.onTargetingChange,targetingAPISpec:this.props.targetingAPISpec})),j.createElement(o,null,j.createElement(n,{use:"default",label:q._("Enregistrer une nouvelle"),onClick:this.props.onSaveAs}),j.createElement(n,{use:"confirm",label:q._("Mettre \u00e0 jour"),onClick:this.props.onUpdate})))};},_onToggle:function(v){if(!v)this.props.onCancel();}});e.exports=u;},null);
__d("AdsSavedAudienceCampaignListDialog.react",["AdInterfacesUiLogger","AdsSavedAudienceLoggingEvents","AdsScheduleUtils","FixedDataTable.react","FixedDataTableColumn.react","LayerFadeOnHide","LayerHideOnEscape","React","ReactLayeredComponentMixin","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUINotice.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){b.__markCompiled&&b.__markCompiled();'use strict';var z=n,aa=z.PropTypes,ba=n.createClass({displayName:"AdsSavedAudienceCampaignListDialog",mixins:[o],propTypes:{campaigns:aa.array.isRequired,isShown:aa.bool.isRequired,onCancel:aa.func.isRequired,onUpdate:aa.func.isRequired,onSaveAs:aa.func.isRequired},render:function(){return null;},renderLayers:function(){return {dialog:n.createElement(p,{onToggle:this._onToggle,behaviors:{LayerFadeOnHide:l,LayerHideOnEscape:m},shown:this.props.isShown,width:750},n.createElement(u,null,y._("Cette audience est utilis\u00e9e dans {number of ad sets} ensembles de publicit\u00e9s actifs",[y.param("number of ad sets",this.props.campaigns.length)])),n.createElement(q,null,this._renderDialogContent()),n.createElement(t,{leftContent:n.createElement(s,{action:"cancel",onClick:this._onCancel})},n.createElement(r,{use:"default",label:y._("Enregistrer une nouvelle"),onClick:this._onSaveAs}),n.createElement(r,{use:"confirm",label:y._("Mettre \u00e0 jour"),onClick:this._onUpdate})))};},_onToggle:function(ca){if(!ca)this._onCancel();},_onCancel:function(){g.log(h.CANCEL_IN_CAMPAIGN_LIST_DIALOG);this.props.onCancel();},_onSaveAs:function(){g.log(h.SAVE_AS_IN_CAMPAIGN_LIST_DIALOG);this.props.onSaveAs();},_onUpdate:function(){g.log(h.UPDATE_IN_CAMPAIGN_LIST_DIALOG);this.props.onUpdate();},_renderDialogContent:function(){var ca=[];this.props.campaigns.forEach(function(ea){ca.push({name:ea.name,schedule:i.getTimerangeUIData(ea.start_time,ea.end_time).range});});var da=function(ea){return ca[ea];};return (n.createElement("div",{className:"_1drc"},n.createElement(v,{shade:"medium",size:"medium",weight:"bold"},y._("En mettant cette audience \u00e0 jour, vous mettrez aussi \u00e0 jour les ensembles de publicit\u00e9s actifs suivants\u00a0:")),n.createElement("div",{className:"_3-8z _3-97"},n.createElement(j,{rowHeight:50,headerHeight:40,rowGetter:da,rowsCount:ca.length,width:650,maxHeight:250},n.createElement(k,{label:"Ad Set Name",width:400,dataKey:'name'}),n.createElement(k,{cellRender:true,label:"Schedule",width:250,dataKey:'schedule'}))),n.createElement(w,null,y._("Si vous ne voulez pas mettre \u00e0 jour l\u2019audience de ces ensembles de publicit\u00e9s, vous pouvez enregistrer les changements dans une nouvelle audience."))));}});e.exports=ba;},null);
__d("AdsSavedAudienceErrorStore",["AdsBaseStore","AdsSavedAudienceActionTypes","Map","SavedTargetSpecSyncStatus"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';for(var k in g)if(g.hasOwnProperty(k))m[k]=g[k];var l=g===null?null:g.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=g;function m(){g.call(this);this.$AdsSavedAudienceErrorStoreClass0=new i();}m.prototype.getStoreName=function(){return 'AdsSavedAudienceErrorStore';};m.prototype.onDispatchToken=function(o){var p=o.action;switch(p.actionType){case h.SAVED_AUDIENCE.BATCH_UPDATED:p.savedAudiences.forEach(function(q){this.$AdsSavedAudienceErrorStoreClass1(q.id,q.sync_status);}.bind(this));this.inform('change');break;case h.VIEW.CLEAR_SYNC_ERROR:this.$AdsSavedAudienceErrorStoreClass0["delete"](p.audienceID);this.inform('change');break;}};m.prototype.$AdsSavedAudienceErrorStoreClass1=function(o,p){var q=new i();p.forEach(function(r){if(r.status===j.FAILURE)q.set(r.campaign_id,r.details);});this.$AdsSavedAudienceErrorStoreClass0.set(o,q);};m.prototype.getSyncErrorByAudienceID=function(o){return this.$AdsSavedAudienceErrorStoreClass0.get(o);};var n=new m();e.exports=n;},null);
__d("AdsSavedAudienceSyncStatusErrorDialog.react",["FixedDataTable.react","FixedDataTableColumn.react","Map","React","ReactLayeredComponentMixin","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUINotice.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();'use strict';var u=j,v=u.PropTypes,w=50,x=j.createClass({displayName:"AdsSavedAudienceSyncStatusErrorDialog",mixins:[k],propTypes:{campaigns:v.array.isRequired,error:v.object.isRequired,onClose:v.func.isRequired},render:function(){return null;},renderLayers:function(){return {dialog:j.createElement(l,{onToggle:this._onToggle,shown:true,width:750},j.createElement(p,null,t._("Impossible de mettre \u00e0 jour {number of faliures} des {number of ad sets} ensembles de publicit\u00e9s",[t.param("number of faliures",this.props.error.size),t.param("number of ad sets",this.props.campaigns.length)])),j.createElement(m,null,this._renderDialogContent()),j.createElement(o,null,j.createElement(n,{use:"confirm",label:t._("OK"),onClick:this.props.onClose})))};},_onToggle:function(y){if(!y)this.props.onClose();},_getRows:function(){var y=[],z=new i();this.props.campaigns.forEach(function(aa){z.set(aa.id,aa.name);});this.props.error.forEach(function(aa,ba){y.push({name:z.get(ba),details:aa});});return y;},_renderDialogContent:function(){var y=this._getRows(),z=function(ba){return y[ba];},aa=function(ba){return w*Math.ceil(y[ba].details.length/100);};return (j.createElement("div",{className:"_y7m"},j.createElement(q,{shade:"medium",weight:"bold"},t._("Impossible de mettre \u00e0 jour les ensembles de publicit\u00e9s suivants\u00a0:")),j.createElement("div",{className:"_3-8p"},j.createElement(g,{rowHeight:w,headerHeight:40,rowGetter:z,rowHeightGetter:aa,rowsCount:y.length,width:650,maxHeight:250},j.createElement(h,{label:"Ad Set Name",width:250,dataKey:'name'}),j.createElement(h,{cellRender:true,label:"Reason",width:400,dataKey:'details'}))),j.createElement(r,null,t._("La diffusion de ces ensembles de publicit\u00e9s continuera avec les param\u00e8tres de ciblage d\u2019origine. Ils ne seront plus associ\u00e9s \u00e0 l\u2019audience cible mise \u00e0 jour."))));}});e.exports=x;},null);
__d("AdsSavedAudienceViewActions",["AdsDispatcher","AdsSavedAudienceActionTypes"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i={clearSyncError:function(j){g.handleUpdateFromViewAction({audienceID:j,type:h.VIEW.CLEAR_SYNC_ERROR});}};e.exports=i;},null);
__d("SpinnerDialog.react",["React","ReactLayeredComponentMixin","XUIDialog.react","XUIDialogBody.react","XUISpinner.react"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=g,m=l.PropTypes,n=g.createClass({displayName:"SpinnerDialog",mixins:[h],propTypes:{isShown:m.bool.isRequired},render:function(){return null;},renderLayers:function(){return {dialog:g.createElement(i,{layerHideOnBlur:false,shown:this.props.isShown,width:500},g.createElement(j,null,g.createElement(k,{size:"large"})))};}});e.exports=n;},null);
__d("AdsEditSavedAudienceDialogContainer.react",["AdInterfacesUiLogger","AdsCreateSavedAudienceDialogContainer.react","AdsEditSavedAudienceDialog.react","AdsLoadState","AdsSavedAudienceActions","AdsSavedAudienceCampaignListDialog.react","AdsSavedAudienceErrorStore","AdsSavedAudienceLoggingEvents","AdsSavedAudienceStore","AdsSavedAudienceSyncStatusErrorDialog.react","AdsSavedAudienceViewActions","React","StoreAndPropBasedStateMixin","SpinnerDialog.react","areEqual","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){b.__markCompiled&&b.__markCompiled();'use strict';var w=r,x=w.PropTypes,y=v({CAMPAIGN_LIST:null,EDIT_TARGETING:null,SAVE_AS:null}),z=r.createClass({displayName:"AdsEditSavedAudienceDialogContainer",mixins:[s(m,o)],propTypes:{accountID:x.string.isRequired,audienceID:x.string.isRequired,isShown:x.bool.isRequired,onClose:x.func.isRequired,onSavedAudienceChange:x.func.isRequired,onSavedAudienceUpdated:x.func},componentWillReceiveProps:function(aa){var ba=this.state.viewState,ca=this.state.currentTargeting;if(aa.isShown)ba=y.EDIT_TARGETING;if(aa.audienceID!==this.props.audienceID)ca=null;this.setState({currentTargeting:ca,viewState:ba});},getInitialState:function(){return {viewState:y.EDIT_TARGETING};},statics:{calculateState:function(aa){var ba=o.get(aa.audienceID),ca=m.getSyncErrorByAudienceID(aa.audienceID);return {error:ca,originalAudience:ba,loading:ba.loadState===j.LOADING||ba.loadState===j.PENDING_WRITE};}},render:function(){if(this.state.error&&this.state.error.size>0&&!this.state.loading)return (r.createElement(p,{campaigns:this.state.originalAudience.adcampaigns.data,error:this.state.error,onClose:this._onClearError}));if(this.state.loading)return (r.createElement(t,{isShown:true}));if(!this.props.isShown)return null;var aa=this._getNewOrOldTargeting(),ba=this._getNewOrOldName();switch(this.state.viewState){case y.EDIT_TARGETING:return (r.createElement(i,{accountID:this.props.accountID,audienceName:ba,onAudienceNameChange:this._onAudienceNameChange,onCancel:this.props.onClose,onSaveAs:this._onSaveAs,onTargetingChange:this._onTargetingChange,onUpdate:this._onUpdate,isShown:true,targetingAPISpec:aa}));case y.CAMPAIGN_LIST:return (r.createElement(l,{campaigns:this.state.originalAudience.adcampaigns.data,isShown:true,onCancel:this.props.onClose,onSaveAs:this._onSaveAs,onUpdate:this._onUpdateConfirmed}));case y.SAVE_AS:return (r.createElement(h,{accountID:this.props.accountID,targetingAPISpec:aa,onClose:this.props.onClose,onSavedAudienceChange:this.props.onSavedAudienceChange,isShown:true}));default:return null;}},_onClearError:function(){q.clearSyncError(this.props.audienceID);this.props.onClose();},_onAudienceNameChange:function(aa){this.setState({currentName:aa});},_onTargetingChange:function(aa){this.setState({currentTargeting:aa});},_onSaveAs:function(){g.log(n.SAVE_AS_IN_EDIT_DIALOG);this.setState({viewState:y.SAVE_AS});},_onUpdate:function(){if(this.state.originalAudience.name===this._getNewOrOldName()&&!this._isTargetingChanged()){this.props.onClose();return;}if(this.state.originalAudience.adcampaigns&&this._isTargetingChanged()){g.log(n.UPDATE_IN_EDIT_DIALOG_WITH_ADS);this.setState({viewState:y.CAMPAIGN_LIST});return;}g.log(n.UPDATE_IN_EDIT_DIALOG_NO_ADS);this._updateSavedAudience();},_onUpdateConfirmed:function(){this._updateSavedAudience();},_updateSavedAudience:function(){var aa={id:this.props.audienceID,name:this._getNewOrOldName(),targeting:this._getNewOrOldTargeting()};k.updateSavedAudiences([aa]);if(this.props.onSavedAudienceUpdated)this.props.onSavedAudienceUpdated(aa);this.props.onClose();},_getNewOrOldName:function(){return this.state.currentName||this.state.originalAudience.name;},_getNewOrOldTargeting:function(){return this.state.currentTargeting||this.state.originalAudience.targeting;},_isTargetingChanged:function(){return !u(this.state.originalAudience.targeting,this._getNewOrOldTargeting());}});e.exports=z;},null);
__d("AudienceManagerActionSelector.react",["AdsAudienceDataSourceUtils","AudienceManagerBulkActionUtils","AdsAMAudienceUtils","FBActionSelector.react","React","AdsHelpLink.react","emptyFunction","fbt","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=j.Option,q=j.Separator,r=k,s=r.PropTypes,t=n._("Vous n\u2019avez pas l\u2019autorisation de modifier cette audience"),u=n._("Vous n\u2019avez pas l\u2019autorisation de supprimer cette audience"),v=n._("Vous n\u2019avez pas l\u2019autorisation de supprimer ces audiences"),w=n._("Vous n\u2019avez pas l\u2019autorisation de partager cette audience"),x=n._("Vous ne pouvez pas cr\u00e9er d\u2019audience similaire \u00e0 partir d\u2019un groupe cible sauvegard\u00e9"),y=n._("Vous ne pouvez pas partager un groupe cible sauvegard\u00e9"),z=n._("Vous ne pouvez pas cr\u00e9er d\u2019audience similaire \u00e0 partir de ce type d\u2019audience"),aa=n._("Vous ne pouvez pas partager plusieurs audiences"),ba=n._("Vous ne pouvez pas modifier plusieurs audiences"),ca=n._("Vous ne pouvez pas cr\u00e9er d\u2019audience similaire \u00e0 partir de plusieurs audiences"),da=n._("Vous ne pouvez pas afficher le pixel si l\u2019audience n\u2019est pas une audience personnalis\u00e9e de site web"),ea=n._("Vous pouvez uniquement supprimer plusieurs audiences du m\u00eame type"),fa=[g.SUBTYPES.WEB_PIXEL_HITS,g.SUBTYPES.WEB_PIXEL_COMBINATION_EVENTS,g.SUBTYPES.USER_PROPERTIES],ga=o({SINGLE_SAVED_TARGET_GROUP:null,SINGLE_CUSTOM_AUDIENCE:null,MULTIPLE_SAVED_TARGET_GROUP:null,MULTIPLE_CUSTOM_AUDIENCE:null,MULTIPLE_MIXED:null,NONE:null}),ha=300,ia=k.createClass({displayName:"AudienceManagerActionSelector",propTypes:{accountID:s.string.isRequired,selectedAudiences:s.array.isRequired,canUseOptOut:s.bool,canUseShare:s.bool,onBulkAction:s.func.isRequired,onCAAction:s.func.isRequired,onSTGAction:s.func.isRequired},getDefaultProps:function(){return {canOptOut:false,canUseShare:false};},render:function(){var ja=n._("Actions"),ka=this._getAudiencesType(),la=[this._getLookalikeOption(ka),this._getViewPixelOption(ka)];if(this.props.canUseShare)la.push(this._getShareOption(ka));if(this.props.canUseOptOut)la.push(this._getOptOutOption(ka));var ma=[this._getEditOption(ka),this._getDeleteOption(ka)];return (k.createElement(j,{onAction:this._getOnAction(ka),label:ja,disabled:this._getShouldDisable(ka)},la,k.createElement(q,null),ma));},_getAudiencesType:function(){if(this.props.selectedAudiences.length===0){return ga.NONE;}else if(this.props.selectedAudiences.length===1){var ja=this.props.selectedAudiences[0];if(i.isSavedTargetSpec(ja)){return ga.SINGLE_SAVED_TARGET_GROUP;}else return ga.SINGLE_CUSTOM_AUDIENCE;}else return this._getMultiSelectionAudiencesType();},_getMultiSelectionAudiencesType:function(){var ja=false,ka=false;for(var la=0;la<this.props.selectedAudiences.length;la++){var ma=this.props.selectedAudiences[la];if(i.isSavedTargetSpec(ma)){ka=true;}else ja=true;if(ja&&ka)break;}if(ja&&ka){return ga.MULTIPLE_MIXED;}else if(ja){return ga.MULTIPLE_CUSTOM_AUDIENCE;}else return ga.MULTIPLE_SAVED_TARGET_GROUP;},_getOnAction:function(ja){switch(ja){case ga.SINGLE_SAVED_TARGET_GROUP:return this.props.onSTGAction;case ga.SINGLE_CUSTOM_AUDIENCE:return this.props.onCAAction;case ga.MULTIPLE_SAVED_TARGET_GROUP:case ga.MULTIPLE_CUSTOM_AUDIENCE:return this.props.onBulkAction;case ga.NONE:case ga.MULTIPLE_MIXED:return m;}},_getShouldDisable:function(ja){return ja===ga.NONE;},_getLookalikeOption:function(ja){var ka=null,la=false;switch(ja){case ga.SINGLE_SAVED_TARGET_GROUP:ka=x;break;case ga.SINGLE_CUSTOM_AUDIENCE:var ma=this.props.selectedAudiences[0];la=ma.permission_for_actions.subtype_supports_lookalike;ka=la?null:z;break;case ga.MULTIPLE_MIXED:case ga.MULTIPLE_CUSTOM_AUDIENCE:case ga.MULTIPLE_SAVED_TARGET_GROUP:ka=ca;break;}var na=la?null:k.createElement(l,{width:ha},ka);return (k.createElement(p,{value:"lookalike",key:"lookalike",disabled:!la},n._("Cr\u00e9er une audience similaire"),na));},_getShareOption:function(ja){if(this.props.canUseShare){var ka=null,la=false;switch(ja){case ga.SINGLE_SAVED_TARGET_GROUP:ka=y;break;case ga.SINGLE_CUSTOM_AUDIENCE:var ma=this.props.selectedAudiences[0];la=ma.permission_for_actions.can_share;ka=la?null:w;break;case ga.MULTIPLE_SAVED_TARGET_GROUP:case ga.MULTIPLE_CUSTOM_AUDIENCE:case ga.MULTIPLE_MIXED:ka=aa;break;}var na=la?null:k.createElement(l,{width:ha},ka);return (k.createElement(p,{value:"share",key:"share",disabled:!la},n._("Partager"),na));}return null;},_getViewPixelOption:function(ja){var ka=null,la=false;switch(ja){case ga.SINGLE_SAVED_TARGET_GROUP:case ga.MULTIPLE_MIXED:case ga.MULTIPLE_SAVED_TARGET_GROUP:case ga.MULTIPLE_CUSTOM_AUDIENCE:ka=da;break;case ga.SINGLE_CUSTOM_AUDIENCE:var ma=this.props.selectedAudiences[0];la=fa.indexOf(ma.data_source.sub_type)!==-1&&this.props.accountID==ma.account_id;ka=la?null:da;break;}var na=la?null:k.createElement(l,{width:ha},ka);return (k.createElement(p,{value:"pixel",key:"pixel",disabled:!la},n._("Afficher le pixel"),na));},_getOptOutOption:function(ja){if(this.props.canUseOptOut){var ka=false;if(ja===ga.SINGLE_CUSTOM_AUDIENCE){var la=this.props.selectedAudiences[0];ka=la.data_source.type===g.TYPES.FILE_IMPORTED||la.data_source.type===g.TYPES.THIRD_PARTY_IMPORTED;}return (k.createElement(p,{value:"optout",key:"optout",disabled:!ka},n._("Mettre \u00e0 jour le lien de d\u00e9sabonnement")));}return null;},_getEditOption:function(ja){var ka=null,la=false;switch(ja){case ga.SINGLE_SAVED_TARGET_GROUP:la=true;break;case ga.SINGLE_CUSTOM_AUDIENCE:var ma=this.props.selectedAudiences[0];la=ma.permission_for_actions.can_edit;ka=la?null:t;break;case ga.MULTIPLE_CUSTOM_AUDIENCE:case ga.MULTIPLE_SAVED_TARGET_GROUP:case ga.MULTIPLE_MIXED:la=false;ka=ba;break;}var na=la?null:k.createElement(l,{width:ha},ka);return (k.createElement(p,{value:"edit",key:"edit",disabled:!la},n._("Modifier"),na));},_getDeleteOption:function(ja){var ka=null,la=false;switch(ja){case ga.SINGLE_SAVED_TARGET_GROUP:la=true;break;case ga.SINGLE_CUSTOM_AUDIENCE:var ma=this.props.selectedAudiences[0];la=ma.permission_for_actions.can_edit;ka=la?null:u;break;case ga.MULTIPLE_MIXED:ka=ea;break;case ga.MULTIPLE_CUSTOM_AUDIENCE:la=h.canDelete(this.props.selectedAudiences,this.props.accountID);ka=la?null:v;break;case ga.MULTIPLE_SAVED_TARGET_GROUP:la=true;break;}var na=la?null:k.createElement(l,{width:ha},ka);return (k.createElement(p,{value:"delete",key:"delete",disabled:!la},n._("Supprimer"),na));}});e.exports=ia;},null);
__d("AudienceManagerColumnSelector.react",["AudienceManagerPopoverButton.react","AudienceManagerUIConstants","CurrentUser","InputLabel.react","React","XUICheckboxInput.react","XUIGrayText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=k,q=p.PropTypes,r=h.COLUMNS,s='\u25BE',t=k.createClass({displayName:"AudienceManagerColumnSelector",propTypes:{columnsShown:q.object.isRequired,onSelectorChange:q.func.isRequired},render:function(){var u=o._("Personnaliser les colonnes {downTriangle}",[o.param("downTriangle",' '+s)]),v=this._getColumnsSettings().map(function(w){return this._renderColumnCheckbox(w.value,w.label,w.shown,w.description);}.bind(this));return (k.createElement(g,{label:u},k.createElement("div",{className:"_r-r"},v)));},_renderColumnCheckbox:function(u,v,w,x){return (k.createElement("div",{className:"_r-s",key:u},k.createElement(j,null,k.createElement(l,{name:"columns",value:u,defaultChecked:w,onChange:this.props.onSelectorChange}),k.createElement("label",{className:"_r-t"},v)),k.createElement(m,{display:"block",shade:"light",className:"_r-u"},x)));},_getColumnsSettings:function(){var u=this.props.columnsShown,v=[{value:'type',label:r.TYPE.label,shown:u.type,description:r.TYPE.description},{value:'source',label:r.SOURCE.label,shown:u.source,description:r.SOURCE.description},{value:'size',label:r.SIZE.label,shown:u.size,description:r.SIZE.description},{value:'status',label:r.STATUS.label,shown:u.status,description:r.STATUS.description},{value:'dateCreated',label:r.DATE_CREATED.label,shown:u.dateCreated,description:r.DATE_CREATED.description},{value:'audienceID',label:r.AUDIENCE_ID.label,shown:u.audienceID,description:r.AUDIENCE_ID.description},{value:'sharing',label:r.SHARING.label,shown:u.sharing,description:r.SHARING.description}];if(i.isEmployee())v.push({value:'debug',label:r.DEBUG.label,shown:u.debug,description:r.DEBUG.description});return v;}});e.exports=t;},null);
__d("AudienceManagerDeleteDialog.react",["AdsAMViewActions","AdsAMAudienceUtils","AudienceManagerUIConstants","React","XUISortableDataTable.react","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogButton.react","XUIDialogTitle.react","XUISpinner.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();var u=j,v=u.PropTypes,w=j.createClass({displayName:"AudienceManagerDeleteDialog",propTypes:{audience:v.object.isRequired,dao:v.object.isRequired,onAudienceDeleted:v.func.isRequired},getInitialState:function(){return {adGroups:null,lookalikes:null};},_loadLookalikes:function(x){this.props.dao.fetch.anyIDs.one(function(y){this.setState({lookalikes:y});this._loadAdGroups(Object.keys(y).concat(this.props.audience.id));}.bind(this),{ids:x});},_loadAdGroups:function(x){var y={},z=x.map(function(aa){return {parameters:{audienceId:aa},callback:function(ba){ba.forEach(function(ca){var da=ca.id;if(y[da]){y[da].audiences.push(aa);}else{ca.audiences=[aa];y[da]=ca;}});}};});this.props.dao.fetch.adGroupsForCustomaudiences.multi(function(){return this.setState({adGroups:y});}.bind(this),{requests:z});},componentWillMount:function(){if(h.isSavedTargetSpec(this.props.audience)){this.setState({lookalikes:{},adGroups:{}});}else{var x=this.props.audience.id,y=this.props.audience.lookalike_audience_ids;if(y&&y.length>0){this._loadLookalikes(y);}else{this.setState({lookalikes:{}});this._loadAdGroups([x]);}}},render:function(){var x=this.state.lookalikes&&Object.keys(this.state.lookalikes).length>0;return (j.createElement(l,{shown:true,width:i.DEFAULT_DIALOG_WIDTH,onToggle:this._onToggle},j.createElement(q,null,j.createElement("span",null,t._("Supprimer l\u2019audience {audience name}\u00a0?",[t.param("audience name",this.props.audience.name)]))),j.createElement(m,null,j.createElement("div",{className:"_5rkr"},this._renderDialogBody())),j.createElement(o,null,j.createElement(n,{use:"default",action:"close",onClick:this._onCancelClick}),j.createElement(p,{use:"confirm",action:"confirm",onClick:this._onDeleteClick,enabled:this._dataLoaded(),label:x?(t._("Supprimer les audiences")):(t._("Supprimer l\u2019audience"))}))));},_dataLoaded:function(){var x=this.state;return x.adGroups!==null&&x.lookalikes!==null;},_renderDialogBody:function(){if(!this._dataLoaded()){return (j.createElement("div",{className:"_5saq"},j.createElement("p",null,t._("Veuillez patienter pendant que nous recherchons les publicit\u00e9s qui utilisent cette audience...")),j.createElement(r,{size:"large"})));}else return this._renderConfirmMessage();},_renderConfirmMessage:function(){if(h.isSavedTargetSpec(this.props.audience))return this._getMessageForSavedTargetGroup();var x=this.state.adGroups,y=this.state.lookalikes,z=this.props.audience.name;if(Object.keys(x).length===0)if(Object.keys(y).length===0){return this._getMessageForAudienceWithNoLookalikeNoAd();}else return this._getMessageForAudienceWithLookalikesButNoAd();var aa=[{id:'adGroup',label:t._("Publicit\u00e9")},{id:'audiences',label:t._("Audiences")}],ba=Object.keys(x).map(function(da){var ea=x[da];return {adGroup:ea.name,audiences:ea.audiences.map(function(fa){if(fa===this.props.audience.id){return z;}else return y[fa].name;}.bind(this)).map(function(fa){return j.createElement("span",null,fa,j.createElement("br",null));})};}.bind(this)),ca=(j.createElement("div",{className:"_256f"},j.createElement(k,{rows:ba,columns:aa,columnToSortBy:"adGroup",outerBorder:true})));if(Object.keys(y).length>0){return (j.createElement("div",null,this._getMessageForAudienceWithBothAdsAndLookalikes(),ca));}else return (j.createElement("div",null,this._getMessageForAudienceWithAdsButNoLookalike(),ca));},_getMessageForSavedTargetGroup:function(){var x=this.props.audience.name;return (j.createElement("div",null,t._("La suppression de {name} de votre compte sera d\u00e9finitive. Voulez-vous vraiment supprimer ce groupe cible sauvegard\u00e9\u00a0?",[t.param("name",x)])));},_getMessageForAudienceWithNoLookalikeNoAd:function(){var x=this.props.audience.name;return (j.createElement("div",null,t._("En supprimant {name}, vous la retirez d\u00e9finitivement de votre compte. Vous ne pourrez red\u00e9marrer aucune publicit\u00e9 ayant utilis\u00e9 cette audience par le pass\u00e9.",[t.param("name",x)])));},_getMessageForAudienceWithLookalikesButNoAd:function(){var x=this.props.audience.name;return (j.createElement("div",null,j.createElement("p",null,t._("{name} a \u00e9t\u00e9 utilis\u00e9e pour cr\u00e9er une ou plusieurs audiences similaires.",[t.param("name",x)])),j.createElement("p",null,t._("En supprimant cette audience, vous la retirez d\u00e9finitivement de votre compte, avec les audiences similaires associ\u00e9es. Vous ne pourrez red\u00e9marrer aucune publicit\u00e9 ayant utilis\u00e9 ces audiences par le pass\u00e9."))));},_getMessageForAudienceWithAdsButNoLookalike:function(){var x=this.props.audience.name;return (j.createElement("div",null,j.createElement("p",null,t._("{name} est en cours d\u2019utilisation dans des publicit\u00e9s actives.",[t.param("name",x)])),j.createElement("p",null,t._("En supprimant cette audience, vous la retirez d\u00e9finitivement de votre compte et arr\u00eatez automatiquement les publicit\u00e9s suivantes. Vous ne pourrez red\u00e9marrer aucune publicit\u00e9 ayant utilis\u00e9 cette audience par le pass\u00e9."))));},_getMessageForAudienceWithBothAdsAndLookalikes:function(){var x=this.props.audience.name;return (j.createElement("div",null,j.createElement("p",null,t._("{name} a \u00e9t\u00e9 utilis\u00e9e pour cr\u00e9er une ou plusieurs audiences similaires. Ces audiences sont aussi utilis\u00e9es actuellement dans des publicit\u00e9s actives.",[t.param("name",x)])),j.createElement("p",null,t._("En supprimant ces audiences, vous les retirez d\u00e9finitivement de votre compte et arr\u00eatez automatiquement les publicit\u00e9s suivantes. Vous ne pourrez red\u00e9marrer aucune publicit\u00e9 ayant utilis\u00e9 ces audiences par le pass\u00e9."))));},_onCancelClick:function(){g.closeDeleteAudienceDialog();},_onDeleteClick:function(){this.props.onAudienceDeleted(this.props.audience);g.closeDeleteAudienceDialog();},_onToggle:function(){g.closeDeleteAudienceDialog();}});e.exports=w;},null);
__d("AudienceManagerEditAudienceCompleteDialogContent.react",["AudienceManagerCompleteUploadMessage.react","AudienceManagerCompleteUploadNotice.react","React","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=i,p=o.PropTypes,q=i.createClass({displayName:"AudienceManagerEditAudienceCompleteDialogContent",propTypes:{numberOfValidRecords:p.number,numberOfTotalRecords:p.number,errorTokenLists:p.array,onCompleteClick:p.func.isRequired},render:function(){var r=n._("Merci d\u2019avoir modifi\u00e9 une audience personnalis\u00e9e");return (i.createElement("div",null,i.createElement(j,null,i.createElement("div",{className:"_5rkr"},i.createElement(g,{message:r,numberOfValidRecords:this.props.numberOfValidRecords,numberOfTotalRecords:this.props.numberOfTotalRecords,errorTokenLists:this.props.errorTokenLists}),i.createElement("hr",null),i.createElement(h,null))),i.createElement(l,null,i.createElement(k,{onClick:this.props.onCompleteClick,label:n._("Termin\u00e9")}))));}});e.exports=q;},null);
__d("AudienceManagerEditAudienceInitDialogContent.react",["AbstractTextArea.react","AudienceManagerAppIDInput.react","AudienceManagerDataTypeSelector.react","AudienceManagerErrorContextualDialog.react","AudienceManagerFBCustomAudienceTerm.react","AudienceManagerViewFormatingExampleLink.react","AudienceNameAndDescriptionInput.react","CustomAudienceUploadErrorBox.react","FBDragDropBox.react","RadioList.react","React","ReactLayeredComponentMixin","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIGrayText.react","isEmail","isInternationalPhoneNumber","cx","fbt","ads-cluster-constants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){b.__markCompiled&&b.__markCompiled();'use strict';var ba=p.LabeledItem,ca={ADD:'add',REMOVE:'remove'},da={COPY_PASTE:'copy_paste',FILE_IMPORT:'file'},ea=/^\d+$/,fa=q,ga=fa.PropTypes,ha=20,ia=17,ja=['csv','txt'],ka=/\r\n|\n|\r|;|,/,la=q.createClass({displayName:"AudienceManagerEditAudienceInitDialogContent",mixins:[r],propTypes:{accountID:ga.string.isRequired,audienceName:ga.string.isRequired,description:ga.string,onEditMetaData:ga.func.isRequired,onUploadFileAdd:ga.func.isRequired,onUploadFileRemove:ga.func.isRequired,onCopyPasteAdd:ga.func.isRequired,onCopyPasteRemove:ga.func.isRequired,onNoUpload:ga.func.isRequired},getInitialState:function(){return {audienceName:this.props.audienceName,description:this.props.description,fileError:null,selectedFile:null,pasteBin:'',selectedDataType:aa.UPLOAD_TYPE_EMAIL,addRemoveMode:ca.ADD,uploadMethod:da.FILE_IMPORT,termsAccepted:true,appIDEntries:[]};},renderLayers:function(){if(this.state.uploadMethod===da.FILE_IMPORT)return {contextualDialog:q.createElement(j,{contextRef:"dragdropbox",shown:this._getShouldShowErrorDialog(),offsetY:ia},this.state.fileError)};return null;},render:function(){return (q.createElement("div",null,q.createElement(s,null,q.createElement("div",{className:"_50_z"},q.createElement(m,{audienceName:this.props.audienceName,description:this.props.description,onAudienceNameChange:this._onAudienceNameChange,onDescriptionChange:this._onDescriptionChange}),q.createElement("div",{className:"_3-97 _3-8z"},q.createElement(i,{defaultValue:this.state.selectedDataType,canUploadAppUserID:this.props.canUploadAppUserID,onTypeChange:this._onDataTypeChange})),this._renderAppIDInput(),this._renderAddRemoveModeSection(),this._renderEditSection(),q.createElement("div",null,q.createElement(k,{accountID:this.props.accountID,termsAccepted:this.state.termsAccepted,onTermsCheckboxChanged:this._onTermsCheckboxChanged})))),q.createElement(u,null,q.createElement(t,{use:"confirm",disabled:!this._getShouldEnableSaveButton(),onClick:this._onSaveAudienceButtonClick,label:z._("Enregistrer")}))));},_renderAddRemoveModeSection:function(){return (q.createElement("div",{className:"_3-8z _3-97"},q.createElement(v,{weight:"bold",display:"block",shade:"medium",className:"_3-95"},z._("Mettre \u00e0 jour l\u2019audience")),q.createElement("div",null,q.createElement(p,{selectedValue:this.state.addRemoveMode,onValueChange:this._onAddRemoveModeChange},q.createElement(ba,{value:ca.ADD,className:"_iv3 _3-8w _3-94"},z._("Ajouter des personnes")),q.createElement(ba,{value:ca.REMOVE,className:"_iv3 _3-8w _3-94"},z._("Supprimer des personnes"))))));},_renderEditSection:function(){var ma=null;if(this.state.uploadMethod===da.COPY_PASTE){ma=this._renderCopyPasteSection();}else if(this.state.uploadMethod===da.FILE_IMPORT)ma=this._renderFileUploadSection();return (q.createElement("div",{className:"_3-8z _3-97"},q.createElement(v,{weight:"bold",display:"block",shade:"medium",className:"_3-95"},z._("Comment voulez-vous ajouter des clients\u00a0?")),q.createElement("div",null,q.createElement(p,{selectedValue:this.state.uploadMethod,onValueChange:this._onUploadMethodChange},q.createElement(ba,{value:da.FILE_IMPORT,className:"_iv3 _3-8w _3-94"},z._("T\u00e9l\u00e9charger un fichier")),q.createElement(ba,{value:da.COPY_PASTE,className:"_iv3 _3-8w _3-94"},z._("Copier et coller")))),ma));},_renderCopyPasteSection:function(){var ma=null;if(!!this.state.error)ma=q.createElement(n,{message:this.state.error});return (q.createElement("div",null,q.createElement("div",{className:"_3-8- _3-98"},q.createElement(g,{className:"_5ukc",value:this.state.pasteBin,onChange:this._onPasteBinChange,placeholder:z._("Collez la liste de vos clients ici.")}),ma),q.createElement("div",null,z._("Vous pouvez copier les colonnes d\u2019un tableur avec un enregistrement par ligne ou une liste d\u2019enregistrements s\u00e9par\u00e9s par une virgule."),' ',q.createElement(l,null))));},_renderFileUploadSection:function(){return (q.createElement("div",null,q.createElement("div",{className:"_3-8- _3-98"},q.createElement(o,{ref:"dragdropbox",onFilesSelection:this._onFilesSelection,onFileRemove:this._onFileRemove,onFileChange:this._onFileChange,selectedFile:this.state.selectedFile,hasError:this._getShouldShowErrorDialog()})),q.createElement("div",null,z._("Vous pouvez t\u00e9l\u00e9charger des fichiers au format .csv ou .txt."),' ',q.createElement(l,null))));},_renderAppIDInput:function(){if(this.state.selectedDataType===aa.UPLOAD_TYPE_UID)return (q.createElement(h,{accountID:this.props.accountID,onAppEntriesUpdated:this._onAppEntriesUpdated}));return null;},_getShouldShowErrorDialog:function(){return !!this.state.fileError;},_getShouldEnableSaveButton:function(){if((this.state.audienceName!==this.props.audienceName||this.state.description!==this.props.description)&&this.state.termsAccepted&&!this.state.fileError&&!this.state.error)return true;if(this.state.selectedDataType===aa.UPLOAD_TYPE_UID){var ma=this.state.appIDEntries.some(function(na){return na.getAuxiliaryData().invalid;});if(this.state.appIDEntries.length<=0||!!ma)return false;}if(this.state.uploadMethod===da.FILE_IMPORT){return !!this.state.audienceName&&!!this.state.selectedFile&&!!this.state.termsAccepted&&!this.state.fileError;}else if(this.state.uploadMethod===da.COPY_PASTE)return !!this.state.audienceName&&!!this.state.pasteBin&&!!this.state.termsAccepted;},_onAudienceNameChange:function(ma){this.setState({audienceName:ma});},_onDescriptionChange:function(ma){this.setState({description:ma});},_onAddRemoveModeChange:function(ma){this.setState({addRemoveMode:ma});},_onUploadMethodChange:function(ma){this.setState({uploadMethod:ma,selectedFile:null,pasteBin:'',error:null,fileError:null});},_onTermsCheckboxChanged:function(ma){this.setState({termsAccepted:ma.target.checked});},_onDataTypeChange:function(ma){this.setState({selectedDataType:ma.value});},_onAppEntriesUpdated:function(ma){this.setState({appIDEntries:ma});},_onFileRemove:function(){this.setState({fileError:null,selectedFile:null});},_onFilesSelection:function(ma){this._onFileChange(ma.target.files);},_onFileChange:function(ma){var na=ma[0];if(na){if(!na.size){this.setState({selectedFile:na,fileError:z._("Le fichier semble vide.")});return;}var oa='',pa='';if(na.name.indexOf('.')>=0){oa=na.name.split('.').pop();pa=na.name.substr(0,na.name.lastIndexOf('.'));}var qa=ja.indexOf(oa.toLowerCase())!=-1;if(!qa){this.setState({selectedFile:na,fileError:z._("Le fichier doit \u00eatre au format .csv ou .txt.")});return;}this.setState({selectedFile:na,fileError:null});}},_onPasteBinChange:function(ma){this.setState({pasteBin:ma.target.value});},_onSaveAudienceButtonClick:function(){if(this.state.audienceName!==this.props.audienceName||this.state.description!==this.props.description)this.props.onEditMetaData(this.state.audienceName,this.state.description);if(this.state.uploadMethod===da.FILE_IMPORT&&!!this.state.selectedFile){if(this.state.addRemoveMode===ca.ADD){this.props.onUploadFileAdd(this.state.selectedDataType,this.state.appIDEntries,this.state.selectedFile);}else this.props.onUploadFileRemove(this.state.selectedDataType,this.state.appIDEntries,this.state.selectedFile);}else if(this.state.uploadMethod===da.COPY_PASTE&&!!this.state.pasteBin){var ma=this.state.pasteBin.trim().split(ka).map(function(oa){return oa.trim();});ma=ma.filter(function(oa){return !!oa;});if(ma.length>aa.CLUSTER_API_MAX_SIZE){this.setState({error:z._("Vous pouvez t\u00e9l\u00e9charger {max number of entries} entr\u00e9es maximum \u00e0 l\u2019aide de la fonction copier\/coller. Essayez plut\u00f4t de t\u00e9l\u00e9charger un fichier.",[z.param("max number of entries",aa.CLUSTER_API_MAX_SIZE)])});return;}var na=this._onCheckError(ma);if(!na){if(this.state.addRemoveMode===ca.ADD){this.props.onCopyPasteAdd(this.state.selectedDataType,this.state.appIDEntries,ma);}else this.props.onCopyPasteRemove(this.state.selectedDataType,this.state.appIDEntries,ma);}else this.setState({error:z._("Vous devez ajouter au moins {mininum number of entries} entr\u00e9es valides pour continuer.",[z.param("mininum number of entries",ha)])});}else this.props.onNoUpload();},_onCheckError:function(ma){var na=ma;if(this.state.selectedDataType===aa.UPLOAD_TYPE_EMAIL){na=ma.filter(function(oa){oa=oa.toLowerCase();return w(oa);});}else if(this.state.selectedDataType===aa.UPLOAD_TYPE_PHONE){na=ma.filter(function(oa){return x(oa);});}else if(this.state.selectedDataType===aa.UID)na=ma.filter(function(oa){return ea(oa);});if(na.length<ha)return true;return false;}});e.exports=la;},null);
__d("AudienceManagerEditAudienceNameDescriptionInitDialogContent.react",["AudienceManagerFBCustomAudienceTerm.react","AudienceNameAndDescriptionInput.react","React","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=i,p=o.PropTypes,q=i.createClass({displayName:"AudienceManagerEditAudienceNameDescriptionInitDialogContent",propTypes:{accountID:p.string.isRequired,audienceName:p.string.isRequired,description:p.string,onEditMetaData:p.func.isRequired},getInitialState:function(){return {audienceName:this.props.audienceName,description:this.props.description,termsAccepted:true};},render:function(){return (i.createElement("div",null,i.createElement(j,null,i.createElement("div",{className:"_50_z"},i.createElement(h,{audienceName:this.props.audienceName,description:this.props.description,onAudienceNameChange:this._onAudienceNameChange,onDescriptionChange:this._onDescriptionChange}),i.createElement("div",{className:"_3-8z"},i.createElement(g,{accountID:this.props.accountID,termsAccepted:this.state.termsAccepted,onTermsCheckboxChanged:this._onTermsCheckboxChanged})))),i.createElement(l,null,i.createElement(k,{use:"confirm",disabled:!this._getShouldEnableSaveButton(),onClick:this._onSaveAudienceButtonClick,label:n._("Enregistrer")}))));},_getShouldEnableSaveButton:function(){return (this.state.audienceName!==this.props.audienceName||this.state.description!==this.props.description)&&this.state.termsAccepted;},_onAudienceNameChange:function(r){this.setState({audienceName:r});},_onDescriptionChange:function(r){this.setState({description:r});},_onTermsCheckboxChanged:function(r){this.setState({termsAccepted:r.target.checked});},_onSaveAudienceButtonClick:function(){this.props.onEditMetaData(this.state.audienceName,this.state.description);}});e.exports=q;},null);
__d("AudienceManagerEditAudienceDialog.react",["AdInterfacesUiLogger","AdsAMCreateAudienceServerActions","AdsAudienceDataSourceUtils","AdsAMCreateAudienceStore","AdsAMCreateAudienceViewActions","AdsCustomAudienceType","AudienceManagerEditAudienceCompleteDialogContent.react","AudienceManagerEditAudienceInitDialogContent.react","AudienceManagerEditAudienceNameDescriptionInitDialogContent.react","AudienceManagerLoggingEvents","AudienceManagerUIConstants","AudienceManagerUploadDialogContent.react","AudienceManagerUploadErrorDialogContent.react","AudienceManagerUploadFileErrorDialogContent.react","CreateCAStages","React","StoreBasedStateMixin","XUIDialog.react","XUIDialogTitle.react","XUISpinner.react","XUIText.react","cx","emptyFunction","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){b.__markCompiled&&b.__markCompiled();var ea=v,fa=ea.PropTypes,ga=l.SUBTYPES,ha=v.createClass({displayName:"AudienceManagerEditAudienceDialog",mixins:[w(j)],propTypes:{accountID:fa.string.isRequired,audience:fa.object.isRequired,onAudienceChanged:fa.func.isRequired,onClose:fa.func.isRequired},calculateState:function(){return {viewStage:j.getViewStage(),progress:j.getProgress(),numberOfRecords:j.getNumberOfRecords(),errorTokenLists:j.getErrorTokenLists(),errorDetailsForLimitReach:j.getErrorDetailsForLimitReach(),errorMessage:j.getErrorMessage()};},componentDidMount:function(){this.refs.dialog.layer.updatePosition=ca;k.setViewStage(u.EDIT_AUDIENCE_INIT);},render:function(){return (v.createElement(x,{layerHideOnBlur:false,shown:true,ref:"dialog",width:q.DEFAULT_DIALOG_WIDTH,fixedTopPosition:q.DEFAULT_DIALOG_TOP_POS,onToggle:this._onToggle},v.createElement(y,null,v.createElement(aa,{weight:"bold",size:"medium"},da._("Modifier une audience personnalis\u00e9e"))),this._renderDialogContentForStage()));},_renderDialogContentForStage:function(){switch(this.state.viewStage){case u.EDIT_AUDIENCE_INIT:if(this._isCreatedFromFile())return (v.createElement(n,{accountID:this.props.accountID,audienceName:this.props.audience.name,description:this.props.audience.description,onEditMetaData:this._onEditMetaData,onUploadFileAdd:this._onUploadFileAddUsers,onUploadFileRemove:this._onUploadFileRemoveUsers,onCopyPasteAdd:this._onCopyPasteAddUsers,onCopyPasteRemove:this._onCopyPasteRemoveUsers,onNoUpload:this._onClose}));return (v.createElement(o,{accountID:this.props.accountID,audienceName:this.props.audience.name,description:this.props.audience.description,onEditMetaData:this._onEditMetaDataOnly}));case u.FILE_IMPORT_CHECK_FILE:return (v.createElement("div",{className:"_3773"},v.createElement(z,{background:"light",size:"large"})));case u.COPY_PASTE_UPLOAD:case u.FILE_IMPORT_UPLOAD:return (v.createElement(r,{progress:this.state.progress}));case u.FILE_IMPORT_UPLOAD_CONVERT_ERROR:return (v.createElement(t,{errorDetails:this.state.errorMessage,onUploadAnotherFileClick:this._onFileImportAnotherFileClick}));case u.COPY_PASTE_UPLOAD_COMPLETE:case u.FILE_IMPORT_UPLOAD_COMPLETE:return (v.createElement(m,{numberOfValidRecords:this.state.numberOfRecords.validRecord,numberOfTotalRecords:this.state.numberOfRecords.totalRecord,errorTokenLists:this.state.errorTokenLists,onCompleteClick:this._onEditCompleteClick}));case u.FILE_IMPORT_UPLOAD_ERROR:return (v.createElement(s,{numLines:this.state.errorDetailsForLimitReach.numLines,numErrors:this.state.errorDetailsForLimitReach.numErrors,errorTokenLists:this.state.errorTokenLists,onUploadAnotherFileClick:this._onFileImportAnotherFileClick,onContinueCreateAudience:this._onFileImportContinueCreateAudienceClick}));}},_isCreatedFromFile:function(){if(!this.props.audience.data_source||this.props.audience.subtype!==ga.REGULAR)return false;var ia=this.props.audience.data_source.type;if(ia===i.TYPES.FILE_IMPORTED||ia===i.TYPES.UNKNOWN)return true;return false;},_onEditMetaData:function(ia,ja){g.log(p.AM_CA_EDIT_UPDATE_META_DATA,{audience_id:this.props.audience.id});this.props.onAudienceChanged(this.props.audience,{name:ia,description:ja});},_onEditMetaDataOnly:function(ia,ja){g.log(p.AM_CA_EDIT_UPDATE_META_DATA_ONLY,{audience_id:this.props.audience.id});this.props.onAudienceChanged(this.props.audience,{name:ia,description:ja});this._onClose();},_onUploadFileAddUsers:function(ia,ja,ka){g.log(p.AM_CA_EDIT_FILE_IMPORT_ADD_USERS,{audience_id:this.props.audience.id});k.setViewStage(u.FILE_IMPORT_CHECK_FILE);h.uploadFileAddUsers(this.props.accountID,this.props.audience.id,ia,ja,ka);},_onUploadFileRemoveUsers:function(ia,ja,ka){g.log(p.AM_CA_EDIT_FILE_IMPORT_REMOVE_USERS,{audience_id:this.props.audience.id});k.setViewStage(u.FILE_IMPORT_CHECK_FILE);h.uploadFileRemoveUsers(this.props.accountID,this.props.audience.id,ia,ja,ka);},_onCopyPasteAddUsers:function(ia,ja,ka){g.log(p.AM_CA_EDIT_COPY_PASTE_ADD_USERS,{audience_id:this.props.audience.id});h.copyPasteAddUsers(this.props.accountID,this.props.audience.id,ia,ja,ka);},_onCopyPasteRemoveUsers:function(ia,ja,ka){g.log(p.AM_CA_EDIT_COPY_PASTE_REMOVE_USERS,{audience_id:this.props.audience.id});h.copyPasteRemoveUsers(this.props.accountID,this.props.audience.id,ia,ja,ka);},_onFileImportAnotherFileClick:function(){g.log(p.AM_CA_EDIT_FILE_IMPORT_CHOOSE_ANOTHER_FILE_CLICK,{audience_id:this.props.audience.id});k.setViewStage(u.EDIT_AUDIENCE_INIT);},_onFileImportContinueCreateAudienceClick:function(){g.log(p.AM_CA_EDIT_FILE_IMPORT_CONTINUE_EDIT_AUDIENCE_CLICK,{audience_id:this.props.audience.id});h.continueUploadSelectedFileToServer();},_onEditCompleteClick:function(){g.log(p.AM_CA_EDIT_FINISH_SUCCESS,{audience_id:this.props.audience.id});this._onClose();},_onToggle:function(ia){if(!ia){g.log(p.AM_CA_EDIT_CLOSE_DIALOG,{audience_id:this.props.audience_id});this._onClose();}},_onClose:function(){this.props.onClose();k.reset();}});e.exports=ha;},null);
__d("AudienceManagerOptOutDialog.react",["AdsTextInput.react","AudienceManagerUIConstants","React","URI","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialog.react","XUIDialogTitle.react","XUIError.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s=i,t=s.PropTypes,u=i.createClass({displayName:"AudienceManagerOptOutDialog",propTypes:{audience:t.object.isRequired,onClose:t.func.isRequired,onConfirmClick:t.func.isRequired},getInitialState:function(){return {optOutLink:this.props.audience.opt_out_link?this.props.audience.opt_out_link:"",error:null};},render:function(){return (i.createElement(n,{shown:true,width:h.DEFAULT_DIALOG_WIDTH,onToggle:this._onToggle},i.createElement(o,null,r._("Modifier le lien de d\u00e9sabonnement de {audience name}",[r.param("audience name",this.props.audience.name)])),i.createElement(k,null,i.createElement("div",{className:"_50_z"},i.createElement("div",{className:"_3-98 _3-8y"},r._("Ajoutez un lien qui dirigera les utilisateurs vers vos politiques de confidentialit\u00e9 ou une page de d\u00e9sabonnement."),i.createElement("br",null),r._("Lorsque vous saisissez le lien vers la page de confidentialit\u00e9 ou d\u00e9sabonnement sur votre site web, les visiteurs peuvent y acc\u00e9der lorsqu\u2019ils cliquent sur \u00ab\u00a0x\u00a0\u00bb sur votre publicit\u00e9 sur Facebook. Vous \u00eates tenu(e) de vous assurer que vos audiences personnalis\u00e9es n\u2019incluent pas des gens qui ont indiqu\u00e9 ne plus vouloir voir vos publicit\u00e9s.")),i.createElement(p,{xuiError:this.state.error},i.createElement(g,{label:r._("Confidentialit\u00e9\/Lien de d\u00e9sinscription"),placeholder:r._("URL"),onChange:this._onTextChange,value:this.state.optOutLink})))),i.createElement(m,null,i.createElement(l,{onClick:this.props.onClose,label:r._("Annuler")}),i.createElement(l,{use:"confirm",onClick:this._onConfirmClick,label:r._("Confirmer")}))));},_onTextChange:function(v){this.setState({optOutLink:v});},_validateLink:function(){var v=new j(this.state.optOutLink);return !!(v.getProtocol()&&v.getDomain());},_onToggle:function(v){if(!v)this.props.onClose();},_onConfirmClick:function(){if(!this._validateLink()){this.setState({error:r._("URL saisie non valide.")});}else{this.setState({error:null});this.props.onConfirmClick(this.props.audience,{opt_out_link:this.state.optOutLink});}}});e.exports=u;},null);
__d("AudienceManagerOptOutUserFileImportInitDialogContent.react",["AudienceManagerFileImportInit.react","React","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","cx","fbt","ads-cluster-constants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=h,p=o.PropTypes,q=h.createClass({displayName:"AudienceManagerOptOutUserFileImportInitDialogContent",propTypes:{accountID:p.string.isRequired,onRemoveClick:p.func.isRequired},getInitialState:function(){return {selectedFile:null,selectedDataType:n.UPLOAD_TYPE_EMAIL,termsAccepted:true};},render:function(){return (h.createElement("div",null,h.createElement(i,null,h.createElement("div",{className:"_50_z"},h.createElement(g,{accountID:this.props.accountID,selectedDataType:this.state.selectedDataType,termsAccepted:this.state.termsAccepted,onFileUpdated:this._onFileUpdated,onDataTypeChanged:this._onDataTypeChanged,onTermsCheckboxChanged:this._onTermsCheckboxChanged}))),h.createElement(k,null,h.createElement(j,{use:"confirm",disabled:!this._getShouldEnableRemoveButton(),onClick:this._onRemoveButtonClick,label:m._("Supprimer")}))));},_getShouldEnableRemoveButton:function(){return !!this.state.termsAccepted&&!!this.state.selectedFile;},_onTermsCheckboxChanged:function(r){this.setState({termsAccepted:r.target.checked});},_onDataTypeChanged:function(r){this.setState({selectedDataType:r.value});},_onFileUpdated:function(r){this.setState({selectedFile:r});},_onRemoveButtonClick:function(){this.props.onRemoveClick(this.state.selectedDataType,this.state.selectedFile);}});e.exports=q;},null);
__d("AudienceManagerOptOutUserDialog.react",["AdInterfacesUiLogger","AdsAMCreateAudienceServerActions","AdsAMCreateAudienceStore","AdsAMCreateAudienceViewActions","AudienceManagerEditAudienceCompleteDialogContent.react","AudienceManagerLoggingEvents","AudienceManagerOptOutUserFileImportInitDialogContent.react","AudienceManagerUIConstants","AudienceManagerUploadErrorDialogContent.react","AudienceManagerUploadFileErrorDialogContent.react","CreateCAStages","React","PureStoreBasedStateMixin","XUIDialog.react","XUIDialogTitle.react","XUISpinner.react","XUIText.react","cx","emptyFunction","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){b.__markCompiled&&b.__markCompiled();'use strict';var aa=r,ba=aa.PropTypes,ca=r.createClass({displayName:"AudienceManagerOptOutUserDialog",mixins:[s(i)],propTypes:{accountID:ba.string.isRequired,onClose:ba.func.isRequired},statics:{calculateState:function(){return {viewStage:i.getViewStage(),progress:i.getProgress(),numberOfRecords:i.getNumberOfRecords(),errorTokenLists:i.getErrorTokenLists(),errorDetailsForLimitReach:i.getErrorDetailsForLimitReach(),errorMessage:i.getErrorMessage()};}},componentDidMount:function(){this.refs.dialog.layer.updatePosition=y;j.setViewStage(q.OPT_OUT_USER_FILE_IMPORT_INIT);},render:function(){return (r.createElement(t,{layerHideOnBlur:false,shown:true,ref:"dialog",fixedTopPosition:n.DEFAULT_DIALOG_TOP_POS,width:n.DEFAULT_DIALOG_WIDTH,onToggle:this._onToggle},r.createElement(u,null,r.createElement(w,{weight:"bold",size:"medium"},z._("Supprimer les utilisateurs de toutes vos audiences personnalis\u00e9es"))),this._renderDialogContentForStage()));},_renderDialogContentForStage:function(){switch(this.state.viewStage){case q.OPT_OUT_USER_FILE_IMPORT_INIT:return (r.createElement(m,{accountID:this.props.accountID,onRemoveClick:this._onRemoveUsersFromAllCustomAudiences}));case q.FILE_IMPORT_CHECK_FILE:case q.FILE_IMPORT_UPLOAD:return (r.createElement("div",{className:"_3773"},r.createElement(v,{background:"light",size:"large"})));case q.FILE_IMPORT_UPLOAD_CONVERT_ERROR:case q.FILE_IMPORT_NO_VALID_ENTRY:return (r.createElement(p,{errorDetails:this.state.errorMessage,onUploadAnotherFileClick:this._onFileImportAnotherFileClick}));case q.FILE_IMPORT_UPLOAD_COMPLETE:return (r.createElement(k,{numberOfValidRecords:this.state.numberOfRecords.validRecord,numberOfTotalRecords:this.state.numberOfRecords.totalRecord,errorTokenLists:this.state.errorTokenLists,onCompleteClick:this._onEditCompleteClick}));case q.FILE_IMPORT_UPLOAD_ERROR:return (r.createElement(o,{numLines:this.state.errorDetailsForLimitReach.numLines,numErrors:this.state.errorDetailsForLimitReach.numErrors,errorTokenLists:this.state.errorTokenLists,onUploadAnotherFileClick:this._onFileImportAnotherFileClick,onContinueCreateAudience:this._onFileImportContinueRemoveAudienceClick}));}},_onRemoveUsersFromAllCustomAudiences:function(da,ea){j.setViewStage(q.FILE_IMPORT_CHECK_FILE);h.removeUsersFromAllCustomAudiences(this.props.accountID,da,ea);},_onFileImportAnotherFileClick:function(){g.log(l.AM_CA_OPT_OUT_USER_CHOOSE_ANOTHER_FILE_CLICK);j.setViewStage(q.OPT_OUT_USER_FILE_IMPORT_INIT);},_onFileImportContinueRemoveAudienceClick:function(){g.log(l.AM_CA_OPT_OUT_USER_CONTINUE_EDIT_AUDIENCE_CLICK);h.continueUploadSelectedFileToServer();},_onEditCompleteClick:function(){g.log(l.AM_CA_OPT_OUT_USER_FINISH_SUCCESS);this._onClose();},_onToggle:function(da){if(!da){g.log(l.AM_CA_OPT_OUT_USER_CLOSE_DIALOG);this._onClose();}},_onClose:function(){this.props.onClose();j.reset();}});e.exports=ca;},null);
__d("AdAccountIDSearchSource",["AbstractSearchSource","SearchableEntry"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=null;for(var j in g)if(g.hasOwnProperty(j))l[j]=g[j];var k=g===null?null:g.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=g;function l(m){"use strict";i;this.$AdAccountIDSearchSource0=m;}l.prototype.searchImpl=function(m,n,o){"use strict";var p=[];if(!m)return;if(!isNaN(m)){this.$AdAccountIDSearchSource0.fetch.validateAccountIDs.one(function(q){if(q[m].valid)p.push(new h({uniqueID:m,title:m}));n(p,m);},{adaccounts:[m]});return;}n(p,m);};l.getInstance=function(m){if(!i)i=new l(m);return i;};e.exports=l;},null);
__d("FreeTextTypeaheadPresenter",["List.react","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=h,l=k.PropTypes,m=h.createClass({displayName:"ViewRenderer",propTypes:{entries:l.array.isRequired,highlightedEntry:l.object,onSelect:l.func.isRequired,onHighlight:l.func},render:function(){var p=this.props.excludedEntries||{},q=this.props.entries.filter(function(t){return !p[t.getUniqueID()];});if(!q.length)return h.createElement("span",null);var r=q.map(this._renderRow,this),s=j("_5tbq",this.props.className);return (h.createElement("div",{className:s},h.createElement(g,{border:"none",spacing:"none"},r)));},_renderRow:function(p){return (h.createElement(n,{key:p.getUniqueID(),entry:p,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,highlighted:p===this.props.highlightedEntry}));}}),n=h.createClass({displayName:"EntryRowView",propTypes:{entry:l.object.isRequired,onSelect:l.func.isRequired,onHighlight:l.func,highlighted:l.bool},render:function(){return (h.createElement("li",{className:(("_5tbr")+(this.props.highlighted?' '+"_5tbs":'')),onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter},this.props.entry.getTitle()));},_onMouseDown:function(p){this.props.onSelect(this.props.entry,p);},_onMouseEnter:function(){this.props.onHighlight&&this.props.onHighlight(this.props.entry);}}),o={ViewRenderer:m,useLayer:true};e.exports=o;},null);
__d("SharedAdAccountCapabilitySelector.react",["CustomAudienceSharingCapabilities","React","XUISelector.react","areEqual","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=g.USE_FOR_ADS,n=g.USE_FOR_INSIGHTS,o=i.Option,p={TARGETING:1,TARGETING_AND_INSIGHTS:2,UNSHARE:3},q=h,r=q.PropTypes,s=h.createClass({displayName:"SharedAdAccountCapabilitySelector",propTypes:{adAccountID:r.string.isRequired,capability:r.array.isRequired,description:r.string.isRequired,onUpdateCapability:r.func.isRequired,onRemoveAdAccount:r.func.isRequired},render:function(){var t=p.TARGETING_AND_INSIGHTS;if(j(this.props.capability,[m]))t=p.TARGETING;return (h.createElement("li",{className:"_5tbm"},this.props.description,h.createElement(i,{className:"_z9u",suppressed:true,size:"large",onChange:this._onChange,defaultValue:t},h.createElement(o,{value:p.TARGETING_AND_INSIGHTS},l._("Ciblage et statistiques")),h.createElement(o,{value:p.TARGETING},l._("Ciblage uniquement")),h.createElement(o,{value:p.UNSHARE},l._("Arr\u00eater le partage")))));},_onChange:function(t){switch(t.value){case p.TARGETING:this.props.onUpdateCapability(this.props.adAccountID,[m]);break;case p.TARGETING_AND_INSIGHTS:this.props.onUpdateCapability(this.props.adAccountID,[m,n]);break;case p.UNSHARE:this.props.onRemoveAdAccount(this.props.adAccountID);break;}}});e.exports=s;},null);
__d("AudienceManagerCapabilityTokenizer.react",["AbstractTypeahead.react","AdAccountIDSearchSource","FreeTextTypeaheadPresenter","List.react","React","SharedAdAccountCapabilitySelector.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=k,p=o.PropTypes,q=k.createClass({displayName:"AudienceManagerCapabilityTokenizer",propTypes:{capabilities:p.object.isRequired,onUpdateAttempt:p.func.isRequired,onSelectAttempt:p.func.isRequired,onRemoveAttempt:p.func.isRequired,dao:p.object.isRequired},getInitialState:function(){return {queryString:''};},render:function(){var r=i,s={};for(var t in this.props.capabilities)s[t]=true;r.extraRendererProps={excludedEntries:s};return (k.createElement("div",null,this._renderSharedAdAccountsList(),k.createElement(g,{className:"_5tbo",selectedEntry:null,placeholder:n._("Entrez un identifiant de compte"),presenter:r,searchSource:h.getInstance(this.props.dao),queryString:this.state.queryString,onChange:this._onInputChange,onSelectAttempt:this._onSelectAttempt,autoHighlight:true,selectOnBlur:true,ref:"typeahead"})));},_renderSharedAdAccountsList:function(){if(this.props.capabilities.length===0)return null;return (k.createElement(j,{border:"none",spacing:"none",className:"_5tbp"},this._renderSharedAdAccounts()));},_renderSharedAdAccounts:function(){return Object.keys(this.props.capabilities).map(function(r){var s=r;return (k.createElement(l,{key:r,adAccountID:r,capability:this.props.capabilities[r],description:s,onUpdateCapability:this.props.onUpdateAttempt,onRemoveAdAccount:this.props.onRemoveAttempt}));}.bind(this));},_onInputChange:function(event){this.setState({queryString:event.target.value});},_onSelectAttempt:function(r){if(r&&this.props.onSelectAttempt)this.props.onSelectAttempt(r.getUniqueID());this.setState({queryString:''});this.refs.typeahead.clearActiveEntries();}});e.exports=q;},null);
__d("AudienceManagerShareAudienceTokenizer.react",["AbstractTypeahead.react","AdAccountIDSearchSource","FreeTextTypeaheadPresenter","List.react","React","XUICloseButton.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=k,p=o.PropTypes,q=k.createClass({displayName:"SharedAdAccountItem",propTypes:{adAccountID:p.string.isRequired,onRemoveAdAccount:p.func.isRequired},render:function(){return (k.createElement("li",{className:"_5tbm"},k.createElement("div",{className:"_5tbn"},k.createElement(l,{size:"small",onClick:this._onRemoveAdAccount})),this.props.adAccountID));},_onRemoveAdAccount:function(){this.props.onRemoveAdAccount(this.props.adAccountID);}}),r=k.createClass({displayName:"AudienceManagerShareAudienceTokenizer",propTypes:{selectedAdAccounts:p.array.isRequired,onSelectAttempt:p.func.isRequired,onRemoveAttempt:p.func.isRequired,dao:p.object.isRequired},getInitialState:function(){return {queryString:''};},render:function(){var s=i,t={};this.props.selectedAdAccounts.forEach(function(u){t[u]=true;});s.extraRendererProps={excludedEntries:t};return (k.createElement("div",null,this._renderSharedAdAccountsList(),k.createElement(g,{className:"_5tbo",selectedEntry:null,placeholder:n._("Entrez un identifiant de compte"),presenter:s,searchSource:h.getInstance(this.props.dao),queryString:this.state.queryString,onChange:this._onInputChange,onSelectAttempt:this._onSelectAttempt,autoHighlight:true,selectOnBlur:true,ref:"typeahead"})));},_renderSharedAdAccountsList:function(){if(!this.props.selectedAdAccounts.length)return k.createElement("span",null);return (k.createElement(j,{border:"none",spacing:"none",className:"_5tbp"},this._renderSharedAdAccounts()));},_renderSharedAdAccounts:function(){return this.props.selectedAdAccounts.map(function(s){var t=s+"";return (k.createElement(q,{key:t,adAccountID:t,onRemoveAdAccount:this.props.onRemoveAttempt}));},this);},_onInputChange:function(event){this.setState({queryString:event.target.value});},_onSelectAttempt:function(s){if(s&&this.props.onSelectAttempt)this.props.onSelectAttempt(s.getUniqueID());this.setState({queryString:''});this.refs.typeahead.clearActiveEntries();}});e.exports=r;},null);
__d("AudienceManagerShareDialog.react",["AdsAMViewActions","AudienceManagerCapabilityTokenizer.react","AudienceManagerShareAudienceTokenizer.react","AudienceManagerUIConstants","CustomAudienceSharingCapabilities","React","InfoTable.react","InfoTableRow.react","InfoTableSection.react","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogButton.react","XUIDialogTitle.react","XUISpinner.react","adsGKCheck","areEqual","copyProperties","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){b.__markCompiled&&b.__markCompiled();var ba=l,ca=ba.PropTypes,da=k.USE_FOR_ADS,ea=k.USE_FOR_INSIGHTS,fa=l.createClass({displayName:"AudienceManagerShareDialog",propTypes:{audience:ca.object.isRequired,dao:ca.object.isRequired,onUpdateAudienceCapabilities:ca.func.isRequired},getInitialState:function(){return {newCapabilities:{},loading:true};},componentWillMount:function(){this.props.dao.fetch.capabilitiesForAudience.clearCache();this.props.dao.fetch.capabilitiesForAudience.one(function(ga){var ha=(ga[0]&&ga[0].capabilities)||[];if(ha.length===0)ha={};this.setState({originalCapabilities:ha,newCapabilities:y({},ha),loading:false});}.bind(this),{audienceId:this.props.audience.id});},render:function(){return (l.createElement(p,{shown:true,width:j.DEFAULT_DIALOG_WIDTH,onToggle:this._onToggle},l.createElement(u,null,l.createElement("span",null,aa._("Partager {audience name}",[aa.param("audience name",this.props.audience.name)]))),l.createElement(q,null,l.createElement("div",{className:"_5rkr"},this._renderDialogBody())),l.createElement(s,null,l.createElement(r,{use:"default",action:"close",onClick:this._onCancelClick}),l.createElement(t,{disabled:this.state.loading,use:"confirm",action:"confirm",label:aa._("Mettre \u00e0 jour"),onClick:this._onUpdateButtonClick}))));},_renderDialogBody:function(){if(this.state.loading){return (l.createElement("div",{className:"_5saq"},l.createElement("p",null,aa._("Veuillez patienter pendant que nous cherchons les comptes partag\u00e9s...")),l.createElement(v,{size:"large"})));}else return (l.createElement("div",null,this._renderDescriptionByGK(),l.createElement(m,{className:"_4x0p"},l.createElement(o,null,l.createElement(n,{label:aa._("Identifiants de comptes"),type:"data"},this._renderTokenizer())))));},_renderDescriptionByGK:function(){if(!w('audience_insights_v1'))return (l.createElement("div",null,l.createElement("p",null,aa._("Entrez un identifiant de compte publicitaire pour lui donner l\u2019autorisation de cibler les publicit\u00e9s pour cette audience. Il ne pourra ni modifier ni partager votre audience."))));return (l.createElement("p",null,aa._("Entrez un identifiant de compte publicitaire pour lui donner l\u2019autorisation de cibler les publicit\u00e9s et de voir les statistiques de cette audience. Il ne pourra ni modifier ni partager votre audience.")));},_renderTokenizer:function(){if(!w('audience_insights_v1')){var ga=Object.keys(this.state.newCapabilities);return (l.createElement("div",null,l.createElement(i,{selectedAdAccounts:ga,onSelectAttempt:this._onAddAdAccountAttempt,onRemoveAttempt:this._onRemoveAdAccountAttempt,dao:this.props.dao})));}return (l.createElement("div",null,l.createElement(h,{capabilities:this.state.newCapabilities,dao:this.props.dao,onRemoveAttempt:this._onRemoveAdAccountAttempt,onSelectAttempt:this._onAddAdAccountAttempt,onUpdateAttempt:this._onUpdateCapabilityAttempt})));},_onUpdateButtonClick:function(){var ga=this.state.originalCapabilities,ha=this.state.newCapabilities,ia={},ja=[];for(var ka in ga)if(!ha[ka]){ja.push(ka);}else if(!x(ga[ka],ha))ia[ka]=ha[ka];for(var la in ha)if(!ga[la])ia[la]=ha[la];this.props.onUpdateAudienceCapabilities(this.props.audience.id,ia,ja);g.closeShareAudienceDialog();},_onAddAdAccountAttempt:function(ga){var ha=this.state.newCapabilities;if(!w('audience_insights_v1')){ha[ga]=[da];}else ha[ga]=[da,ea];this.setState({newCapabilities:ha});},_onRemoveAdAccountAttempt:function(ga){var ha=this.state.newCapabilities;delete ha[ga];this.setState({newCapabilities:ha});},_onUpdateCapabilityAttempt:function(ga,ha){var ia=this.state.newCapabilities;ia[ga]=ha;this.setState({newCapabilities:ia});},_onToggle:function(){g.closeShareAudienceDialog();},_onCancelClick:function(){g.closeShareAudienceDialog();}});e.exports=fa;},null);
__d("AdsPixelDetails.react",["AdsPixelCode.react","AdsPixelInsights.react","React","XUINotice.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=i,n=m.PropTypes,o=i.createClass({displayName:"AdsPixelDetails",propTypes:{pixel:n.object.isRequired,dao:n.object.isRequired,width:n.number.isRequired,height:n.number.isRequired,onSendEmailLinkClick:n.func.isRequired,message:n.string},render:function(){return (i.createElement("div",null,this._renderPixelInsights(),this._renderPixelCode()));},_renderPixelCode:function(){return (i.createElement("div",null,i.createElement("div",{className:"_5kka"},l._("Code du pixel")),i.createElement("div",{className:"_5kkb"},this._renderMessage(),i.createElement(g,{pixel:this.props.pixel,onSendEmailLinkClick:this.props.onSendEmailLinkClick,ref:"AdsPixelCode"}))));},_renderPixelInsights:function(){return (i.createElement("div",{className:"_5kkh"},i.createElement("div",{className:"_5kka"},l._("\u00c9v\u00e8nements de pixels")),i.createElement("div",null,i.createElement(h,{pixelId:this.props.pixel.id,dao:this.props.dao,height:this.props.height,width:this.props.width}))));},_renderMessage:function(){if(!this.props.message)return;return (i.createElement(j,{use:"notify",className:"_13e0"},this.props.message));}});e.exports=o;},null);
__d("AudienceManagerViewPixelDialogViewStateEnum",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={VIEW_PIXEL:'view_pixel',SEND_EMAIL:'send_email'};e.exports=g;},null);
__d("AudienceManagerViewPixelDialog.react",["AdsAMViewActions","AdsAccountStoreWrapper","AdsPixelAudienceCreateStore","AdsPixelAudienceViewActions","AdsPixelDetails.react","AdsPixelPickerStore","AdsPixelStore","AdsPixelStoreWrapper","AudienceManagerUIConstants","React","ReactComponentWithPureRenderMixin","StoreAndPropBasedStateMixin","AudienceManagerViewPixelDialogViewStateEnum","WebsiteCustomAudienceLoadingDialog.react","WebsiteCustomAudienceSendPixelByMailDialog.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){b.__markCompiled&&b.__markCompiled();'use strict';var ca=p,da=ca.PropTypes,ea=p.createClass({displayName:"AudienceManagerViewPixelDialog",mixins:[q,r(i,l,m)],propTypes:{accountID:da.string.isRequired,dao:da.object.isRequired,audience:da.object},getInitialState:function(){return {viewState:s.VIEW_PIXEL,enableSendEmailButton:false,message:null};},statics:{calculateState:function(fa){h.setAccountID(fa.accountID);if(fa.audience&&fa.audience.id){var ga=i.getAudiencePixelID(fa.audience.id);ga&&j.setPixelID(ga);j.disablePixelPicker();}var ha=n.getCurrentPixelID(),ia=ha?m.getPixelInfo(ha):null;return {pixel:ia};}},render:function(){return (p.createElement(v,{onToggle:this._onToggle,shown:true,fixedTopPosition:o.DEFAULT_DIALOG_TOP_POS,width:o.DEFAULT_DIALOG_WIDTH},this._renderBody()));},_renderBody:function(){if(!this.state.pixel)return p.createElement(t,null);switch(this.state.viewState){case s.VIEW_PIXEL:return this._getPixelDetails();case s.SEND_EMAIL:return this._getSendEmailBody();}return null;},_getPixelDetails:function(){return (p.createElement("div",null,p.createElement(z,null,ba._("D\u00e9tails du pixel")),p.createElement(w,null,p.createElement("div",{className:"_5rkr"},p.createElement(k,{pixel:this.state.pixel,dao:this.props.dao,onSendEmailLinkClick:function(){this.setState({viewState:s.SEND_EMAIL});}.bind(this),height:200,width:500,message:this.state.message}))),p.createElement(x,null,p.createElement(y,{use:"confirm",action:"cancel"}))));},_getSendEmailBody:function(){return (p.createElement(u,{pixel:this.state.pixel,onCancel:function(){return this.setState({viewState:s.VIEW_PIXEL});}.bind(this),onSendComplete:function(fa,ga){this.setState({message:fa,viewState:s.VIEW_PIXEL});}.bind(this)}));},_onToggle:function(){g.closePixelDialog();}});e.exports=ea;},null);
__d("AudienceManagerWebsiteUsers.react",["React","WebsiteCustomAudience.react"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.PropTypes,k=g.createClass({displayName:"AudienceManagerWebsiteUsers",propTypes:{dao:j.object.isRequired,accountID:j.string.isRequired,audience:j.object,embedded:j.bool,createMode:j.bool,onAudienceChanged:j.func,onAudienceUpdated:j.func,onAudienceAdded:j.func,tosAccepted:j.object.isRequired,tosRequirementsForAccount:j.object.isRequired},render:function(){var l=this.props.onAudienceUpdated?this.props.onAudienceUpdated:this.props.onAudienceChanged;return (g.createElement(h,{dao:this.props.dao,accountID:this.props.accountID,audience:this.props.audience,embedded:this.props.embedded,onAudienceUpdated:l,onAudienceAdded:this.props.onAudienceAdded,tosAccepted:this.props.tosAccepted,tosRequirementsForAccount:this.props.tosRequirementsForAccount}));}});e.exports=k;},null);
__d("AudienceManagerChrome.react",["AdInterfacesUiLogger","AdsAccountCapabilities","AdsAccountUtils","AdsAMAudienceActions","AdsAMAudienceStore","AdsAMAudienceUtils","AdsAMFilterFieldConfig","AdsAMFilterValueConfig","AdsAMPresetFilters.react","AdsAMViewActions","AdsAMViewStore","AdsAudienceDataSourceUtils","AdsCreateAudienceActionSelector.react","AdsCreateSavedAudienceTargetingDialog.react","AdsEditSavedAudienceDialogContainer.react","AdsGenericFilterSet","AdsSavedAudienceActions","AudienceManagerActionSelector.react","AudienceManagerBlankState.react","AudienceManagerBulkDeleteDialog.react","AudienceManagerBulkDeleteSTSDialog.react","AudienceManagerColumnSelector.react","AudienceManagerCreateAdButton.react","AudienceManagerCreateAudienceDialog.react","AudienceManagerDeleteDialog.react","AudienceManagerEditAudienceDialog.react","AudienceManagerErrorView.react","AudienceManagerErrorTypes","AudienceManagerLoggingEvents","AudienceManagerLookalikeDialog.react","AudienceManagerOptOutDialog.react","AudienceManagerOptOutUserDialog.react","AudienceManagerPETopNavigation.react","AudienceManagerPlacement","AudienceManagerSavedTargetSpecDialog.react","AudienceManagerSearchBar.react","AudienceManagerSelectableTable.react","AudienceManagerSeparator.react","AudienceManagerShareDialog.react","AudienceManagerStages","AudienceManagerTableHeader.react","AudienceManagerTopNavigation.react","AudienceManagerTransactionDialog.react","AudienceManagerUIConstants","AudienceManagerViewPixelDialog.react","AudienceManagerWebsiteUsers.react","AudienceManagerWorkflowTypes","BUIFilterTokenizer.react","CustomAudienceTosUtils","Grid.react","Image.react","LeftRight.react","ads-lib-newIds","PureStoreBasedStateMixin","React","ReactComponentWithPureRenderMixin","ScrollableArea.react","XUIButton.react","XUINotice.react","XUISpinner.react","cssVar","cx","fbt","invariant","ix","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb){b.__markCompiled&&b.__markCompiled();'use strict';var ub=ib,vb=ub.PropTypes,wb=ha.Errors,xb=ha.ErrorTypes,yb=db.GridItem,zb=xa.BULK_ACTION_TYPE,ac=xa.CREATE_AUDIENCE_ACTION_TYPE,bc=47,cc=42,dc=8,ec=10,fc=220,gc=xa.TABLE_TOP_PADDING,hc=36,ic=80,jc=30,kc=parseInt("40px",10),lc=ib.createClass({displayName:"AudienceManagerChrome",mixins:[hb(q,k),jb],propTypes:{accountID:vb.string.isRequired,className:vb.string,showTableHeader:vb.bool.isRequired,primedDao:vb.object,top:vb.number.isRequired,width:vb.number.isRequired,height:vb.number.isRequired,controller:vb.object.isRequired,canWrite:vb.bool.isRequired,autoLaunch:vb.object,onAdCreate:vb.func,placement:vb.string.isRequired},getDefaultProps:function(){return {showTableHeader:true,placement:na.STAND_ALONE};},getInitialState:function(){return {showOptOutUserDialog:false,useAutoLaunch:true};},statics:{calculateState:function(){var mc=q.getAudienceIdClicked(),nc=mc?k.getState(mc):null;return {audienceClicked:nc,dialogStates:q.getViewState(),selectedAudienceIDs:q.getSelectedAudienceIDs(),sortState:k.getSortState()};}},componentDidMount:function(){if(this.state.useAutoLaunch&&this.props.autoLaunch)switch(this.props.autoLaunch.workflow_id){case ab.WCA:setTimeout(function(){return p.showWCADialog(null);});break;case ab.PIXEL_DETAILS:setTimeout(function(){return p.showPixelDialog(null);});break;case ab.LOOKALIKE:setTimeout(function(){return p.showLookalikeDialog(null);});break;case ab.DATA_FILE:case ab.MAIL_CHIMP:case ab.COPY_PASTE:case ab.MACA:case ab.CUSTOM_LIST:setTimeout(function(){return p.showCreateCustomAudienceDialog();});break;}},render:function(){var mc={top:this.props.top},nc=tb(this.props.className,"_2aag");return (ib.createElement("div",{className:nc,style:mc},this._renderContent()));},_renderContent:function(){var mc,nc=k.getErrorsByType(xb.INIT_ERRORS);if(k.hasAllContent()){mc=this._renderMain();}else if(nc.length>0){mc=(ib.createElement("div",{className:"_htg"},ib.createElement(ga,{shown:true,message:nc[0].message})));}else mc=(ib.createElement("div",{className:"_2aah"},ib.createElement(nb,{size:"large"})));return (ib.createElement("div",{className:"_9a3"},mc));},_renderMain:function(){var mc=this._hasContent();return (ib.createElement("div",null,k.hasError(wb.STS_GET)?this._renderSTSErrorHeader():null,this._renderHeader(mc),mc?this._renderNonBlankState():this._renderBlankState(),this._renderTransactionDialog(),this._renderCreateAudienceDialog(),this._renderLookalikeDialog(),this._renderWCADialog(),this.state.dialogStates.showSavedTargetSpecDialog?this._renderSavedTargetSpecDialog():null,this._renderSavedAudienceEditDialog(),this._renderSavedAudienceCreateDialog()));},_renderSTSErrorHeader:function(){return (ib.createElement(mb,{use:"warn"},qb._("Le groupe cible enregistr\u00e9 n\u2019est pas disponible actuellement. Nous travaillons activement sur le probl\u00e8me.")));},_renderHeader:function(mc){var nc=k.getAccount();if(this.props.placement===na.POWER_EDITOR){return (ib.createElement("div",null,ib.createElement("div",{className:"_3-ft"}),ib.createElement(ma,{accountID:this.props.accountID,onAction:this._onCreateAudienceClicked,canWrite:this.props.canWrite,isBlankState:!mc}),ib.createElement(ra,{marginTop:0})));}else if(this.props.placement===na.STAND_ALONE){return (ib.createElement("div",null,ib.createElement(va,{accountID:this.props.accountID,onAction:this._onCreateAudienceClicked,canWrite:this.props.canWrite,isBlankState:!mc}),ib.createElement(ra,{marginTop:0,marginBottom:0}),ib.createElement(ua,{account:nc}),ib.createElement(ra,{marginTop:0})));}else if(this.props.placement===na.NEW_ADS_MANAGER)return (ib.createElement("div",null,ib.createElement(ua,{account:nc}),ib.createElement(ra,{marginTop:0})));},_hasContent:function(){var mc=k.getAllAudiences().length||q.hasFilterContent();return !!mc;},_renderBlankState:function(){var mc=k.getAccount();return (ib.createElement("div",{className:"_2ayw"},ib.createElement(y,{accountId:this.props.accountID,dao:this.props.primedDao,onAudienceAdded:function(nc){this.props.controller.addAudience(nc);}.bind(this),onSavedTargetSpecCreated:function(nc,oc){this.props.controller.createSavedTargetSpec(nc,oc,this.props.accountID);}.bind(this),onSavedTargetSpecChanged:this.props.controller.changeSavedTargetSpec,tosAccepted:mc.tos_accepted||{},tosRequirementsForAccount:this._getTosRequirements(),autoLaunch:this.state.useAutoLaunch?this.props.autoLaunch:null,canWrite:this.props.canWrite})));},_renderNonBlankState:function(){return (ib.createElement("div",null,this._renderToolsBar(),this._renderBulkDeleteDialog(),this._renderViewPixelDialog(),this._renderRegularEditDialog(),this._renderDeleteAudienceDialog(),this._renderShareAudienceDialog(),this._renderOptOutDialog(),this._renderOptOutUserDialog(),this._renderFilterPaneAndTable()));},_renderInlineCreateButton:function(){return (ib.createElement(s,{disabled:!this.props.canWrite,onAction:this._onCreateAudienceClicked,supportSavedTargetSpec:true,use:"confirm"}));},_renderTransactionDialog:function(){var mc=k.getErrorsByType(xb.NON_INIT_ERRORS);if(mc.length>0)return (ib.createElement(wa,{stage:ta.ERROR,error:mc[0],onCancelError:j.clearErrors}));return null;},_renderToolsBar:function(){var mc=[ib.createElement(yb,{key:"filter"},this._renderFilterButton()),ib.createElement(yb,{key:"column_selector"},this._renderColumnSelector()),ib.createElement(yb,{key:"ad_button"},this._renderCreateAdButton()),ib.createElement(yb,{key:"action_selector"},this._renderActionSelector())],nc=i.hasCapability(k.getAccount(),h.CUSTOM_AUDIENCES_OPT_OUT_LINK);if(nc)mc.push(ib.createElement(yb,{key:"opt_out"},this._renderOptOutUserButton()));if(this.props.placement===na.NEW_ADS_MANAGER&&this._hasContent())mc.unshift(ib.createElement(yb,{key:"inline_creation"},this._renderInlineCreateButton()));return (ib.createElement("div",{className:"_5dgz"},ib.createElement(fb,null,ib.createElement("div",null,ib.createElement(db,{cols:mc.length,spacing:"_2e7c"},mc)),ib.createElement("div",null,ib.createElement(pa,{onKeywordsChanged:this._handleKeywordsChanged,onKeywordsComplete:this._handleKeywordsComplete})))));},_renderOptOutUserButton:function(){var mc=qb._("D\u00e9sabonner les utilisateurs");return (ib.createElement(lb,{label:mc,onClick:this._handleOptOutUserButtonClicked}));},_handleOptOutUserButtonClicked:function(){this.setState({showOptOutUserDialog:true});},_renderFilterButton:function(){var mc=qb._("Filtres"),nc=this._isAnyFilterSelected()?sb('/images/ads/campaign_manager/filter/filter-blue.png'):sb('/images/ads/campaign_manager/filter/filter-gray.png');return (ib.createElement(lb,{label:mc,onClick:this._handleFilterButtonClicked,image:ib.createElement(eb,{src:nc})}));},_isAnyFilterSelected:function(){return !!q.getFilterSet();},_handleFilterButtonClicked:function(){if(q.getViewState().showFilterPane){p.hideFilterPane();}else p.showFilterPane();g.log(ia.AM_FILTER_BUTTON_CLICKED);},_handleKeywordsChanged:function(event){var mc=event.target.value;if(mc)mc=mc.trim();q.setNameFilter(mc);},_handleKeywordsComplete:function(event){this.props.controller.filterCAAndSTS(this._constructFilter());g.log(ia.AM_FILTER_NAME_SEARCH);},_constructFilter:function(){return {name:q.getNameFilter(),filterSet:q.getFilterSet()};},_renderSavedTargetSpecDialog:function(){var mc=this.state.audienceClicked?qb._("Modifier le groupe cible enregistr\u00e9"):qb._("Cr\u00e9er un groupe cible enregistr\u00e9"),nc=this.state.audienceClicked?qb._("Modifier l\u2019audience"):qb._("Cr\u00e9er une audience");return (ib.createElement(oa,{accountID:this.props.accountID,dao:this.props.primedDao,title:mc,saveButtonLabel:nc,savedTargetSpec:this.state.audienceClicked,onTargetSpecChanged:function(oc,pc){this.props.controller.changeSavedTargetSpec(oc,pc);}.bind(this),onTargetSpecCreated:function(oc,pc){this.props.controller.createSavedTargetSpec(oc,pc,this.props.accountID);}.bind(this),onClose:p.closeSavedTargetSpecDialog}));},_renderSavedAudienceEditDialog:function(){if(this.state.audienceClicked&&l.isSavedAudience(this.state.audienceClicked))return (ib.createElement(u,{accountID:this.props.accountID,audienceID:this.state.audienceClicked.id,isShown:this.state.dialogStates.showSavedAudienceEditDialog,onClose:p.closeSavedAudienceEditDialog,onSavedAudienceChange:function(){}}));return null;},_renderSavedAudienceCreateDialog:function(){if(this.state.dialogStates.showSavedAudienceCreateDialog)return (ib.createElement(t,{accountID:this.props.accountID,isShown:true,onCancel:p.closeSavedAudienceCreateDialog,onCreate:this._onCreateSavedAudience}));return null;},_onCreateSavedAudience:function(mc,nc){var oc=gb.newNegativeId().toString();w.createSavedAudiences([{accountID:this.props.accountID,name:mc,targeting:nc,tempID:oc}]);p.closeSavedAudienceCreateDialog();},_renderCreateAudienceDialog:function(){var mc=k.getAccount();if(this.state.dialogStates.showCreateCustomAudienceDialog){var nc=this.props.placement!==na.POWER_EDITOR;return (ib.createElement(da,{dao:this.props.primedDao,onAudienceAdded:function(oc){this.props.controller.addAudience(oc);}.bind(this),accountID:this.props.accountID,tosAccepted:mc.tos_accepted||{},tosRequirementsForAccount:this._getTosRequirements(),onCancel:p.closeCreateCustomAudienceDialog,allowNextStep:nc,autoLaunch:this.state.useAutoLaunch?this.props.autoLaunch:null}));}return null;},_renderBulkDeleteDialog:function(){if(this.state.dialogStates.showBulkDeleteDialog){rb(this.state.selectedAudienceIDs&&this.state.selectedAudienceIDs.length>0);var mc=this.state.selectedAudienceIDs.map(function(oc){return k.getState(oc);}),nc=l.isSavedTargetSpec(mc[0]);if(nc){return (ib.createElement(aa,{selectedAudiences:mc,onBulkDelete:function(oc){this.props.controller.bulkDeleteSavedTargetSpecs(oc);}.bind(this),onClose:p.closeBulkDeleteDialog}));}else return (ib.createElement(z,{selectedAudiences:mc,onBulkDelete:function(oc){this.props.controller.bulkDeleteAudiences(oc);}.bind(this),controller:this.props.controller,onClose:p.closeBulkDeleteDialog}));}return null;},_renderOptOutDialog:function(){if(this.state.dialogStates.showOptOutDialog)return (ib.createElement(ka,{audience:this.state.audienceClicked,onClose:p.closeOptOutDialog,onConfirmClick:function(mc,nc){this.props.controller.changeAudienceWithCallback(mc,nc,p.closeOptOutDialog);}.bind(this)}));return null;},_renderActionSelector:function(){var mc=this.state.selectedAudienceIDs.map(function(pc){return k.getState(pc);}),nc=i.hasCapability(k.getAccount(),h.CUSTOM_AUDIENCES_OPT_OUT_LINK),oc=i.hasCapability(k.getAccount(),h.CUSTOM_CLUSTER_SHARING);return (ib.createElement(x,{accountID:this.props.accountID,selectedAudiences:mc,canUseOptOut:nc,canUseShare:oc,onBulkAction:this._onBulkAction,onCAAction:this._onCAAction,onSTGAction:this._onSTGAction}));},_renderCreateAdButton:function(){var mc=this.state.selectedAudienceIDs.map(function(nc){return k.getState(nc);});return (ib.createElement(ca,{accountID:this.props.accountID,audiences:mc,label:this._renderCreateAdButtonLabel(),controller:this.props.controller,onAdCreate:this.props.onAdCreate}));},_renderCreateAdButtonLabel:function(){if(this.props.placement===na.POWER_EDITOR&&i.hasCapability(k.getAccount(),h.HAS_AD_SET_TARGETING))return (qb._("Cr\u00e9er un ensemble de publicit\u00e9s"));return (qb._("Cr\u00e9er une publicit\u00e9"));},_renderColumnSelector:function(){return (ib.createElement(ba,{columnsShown:q.getColumnsShown(),onSelectorChange:this._handleColumnSelectorChange}));},_handleColumnSelectorChange:function(mc){this.props.controller.updateColumnShown(mc.target.value,mc.target.checked);var nc=q.getColumnsShown();this.props.controller.saveColumnsShownSettings(nc);g.log(ia.AM_TABLE_COLUMN_CUSTOMIZE,{column_settings:nc});},_onBulkAction:function(mc){switch(mc){case zb.DELETE:p.showBulkDeleteDialog();g.log(ia.AM_TABLE_ACTION_BULK_DELETE_CLICKED,{num_audiences:this.state.selectedAudienceIDs.length});break;case zb.CREATE_AD:var nc=this.state.selectedAudienceIDs.map(function(oc){return k.getState(oc);});this.props.controller.bulkCreateAd(nc);break;default:rb(false);}},_onCAAction:function(mc){var nc=k.getState(this.state.selectedAudienceIDs[0]);switch(mc){case 'edit':if(nc.data_source.sub_type===r.SUBTYPES.WEB_PIXEL_HITS||nc.data_source.sub_type===r.SUBTYPES.WEB_PIXEL_COMBINATION_EVENTS){p.showWCADialog(nc.id);}else p.showRegularEditDialog(nc.id);g.log(ia.AM_TABLE_ACTION_EDIT_CLICKED,{audience_type:xa.AUDIENCE_TYPE.CUSTOM_AUDIENCE,audience_id:nc.id});break;case 'delete':p.showDeleteAudienceDialog(nc.id);g.log(ia.AM_TABLE_ACTION_DELETE_CLICKED,{audience_type:xa.AUDIENCE_TYPE.CUSTOM_AUDIENCE,audience_id:nc.id});break;case 'pixel':p.showPixelDialog(nc.id);g.log(ia.AM_TABLE_ACTION_VIEW_PIXEL_CLICKED,{audience_id:nc.id});break;case 'share':p.showShareAudienceDialog(nc.id);g.log(ia.AM_TABLE_ACTION_SHARE_CLICKED,{audience_id:nc.id});break;case 'lookalike':p.showLookalikeDialog(nc.id);g.log(ia.AM_TABLE_ACTION_CREATE_LAL_CLICKED,{audience_id:nc.id});break;case 'optout':p.showOptOutDialog(nc.id);break;default:rb(false);}},_onSTGAction:function(mc){var nc=k.getState(this.state.selectedAudienceIDs[0]);switch(mc){case 'edit':if(l.isSavedAudience(nc)){p.showSavedAudienceEditDialog(nc.id);}else p.showSavedTargetSpecDialog(nc.id);g.log(ia.AM_TABLE_ACTION_EDIT_CLICKED,{audience_type:xa.AUDIENCE_TYPE.SAVED_TARGET_SPEC,audience_id:nc.id});break;case 'delete':p.showBulkDeleteDialog();g.log(ia.AM_TABLE_ACTION_DELETE_CLICKED,{audience_type:xa.AUDIENCE_TYPE.SAVED_TARGET_SPEC,audience_id:nc.id});break;default:rb(false);}},_renderViewPixelDialog:function(){if(this.state.dialogStates.showPixelDialog)return (ib.createElement(ya,{audience:this.state.audienceClicked,accountID:this.props.accountID,dao:this.props.primedDao}));return null;},_renderShareAudienceDialog:function(){if(this.state.dialogStates.showShareDialog&&this.state.audienceClicked){var mc=this.props.controller;return (ib.createElement(sa,{audience:this.state.audienceClicked,onUpdateAudienceCapabilities:function(nc,oc,pc){return mc.updateAudienceCapabilities(nc,oc,pc);},dao:this.props.primedDao}));}return null;},_renderRegularEditDialog:function(){if(this.state.dialogStates.showRegularEditDialog&&this.state.audienceClicked){var mc=this.props.controller;return (ib.createElement(fa,{accountID:this.props.accountID,audience:this.state.audienceClicked,onAudienceChanged:function(nc,oc){return mc.changeAudience(nc,oc);},onClose:p.closeRegularEditDialog}));}return null;},_renderWCADialog:function(){var mc=this.state.audienceClicked?false:true;if(this.state.dialogStates.showWCADialog){var nc=k.getAccount(),oc=this.props.controller;return (ib.createElement(za,{accountID:this.props.accountID,audience:this.state.audienceClicked,dao:this.props.primedDao,createMode:mc,onAudienceAdded:function(pc){this.props.controller.addAudience(pc);}.bind(this),onAudienceChanged:oc.changeAudience.bind(oc),tosAccepted:nc.tos_accepted||{},tosRequirementsForAccount:this._getTosRequirements()}));}return null;},_renderDeleteAudienceDialog:function(){if(this.state.dialogStates.showDeleteDialog&&this.state.audienceClicked)return (ib.createElement(ea,{audience:this.state.audienceClicked,dao:this.props.primedDao,onAudienceDeleted:this.props.controller.deleteAudience.bind(this.props.controller)}));return null;},_renderLookalikeDialog:function(){if(this.state.dialogStates.showLookalikeDialog)return (ib.createElement(ja,{accountID:this.props.accountID,audience:this.state.audienceClicked,dao:this.props.primedDao,onAudienceAdded:function(mc){this.props.controller.addAudience(mc);}.bind(this),onClose:p.closeLookalikeDialog}));return null;},_renderOptOutUserDialog:function(){if(this.state.showOptOutUserDialog)return (ib.createElement(la,{accountID:this.props.accountID,onClose:this._onOptOutUserDialogClose}));return null;},_onOptOutUserDialogClose:function(){this.setState({showOptOutUserDialog:false});},_renderFilterPaneAndTable:function(){return (ib.createElement("div",{style:{width:this.props.width}},this._renderPresetFilterPane(),this._renderAudienceTable()));},_renderPresetFilterPane:function(){if(q.getViewState().showFilterPane){var mc=this._getTableHeight(),nc={width:fc,paddingLeft:ec,paddingRight:ec,height:mc};return (ib.createElement("div",{style:nc,className:"_130j"},ib.createElement(kb,null,ib.createElement(o,{onChange:this._handlePresetFilterChanged,filterSet:q.getFilterSet()}))));}return null;},_handlePresetFilterChanged:function(mc){this._handleFilterSetChanged(mc);g.log(ia.AM_FILTER_LEFT_PRESET_CHANGED,{filter:this._getFilterParamsForLogging(mc)});},_getTableHeight:function(){var mc=this.props.height-cc-gc;if(this.props.placement===na.NEW_ADS_MANAGER)mc-=ic;if(this.props.placement===na.STAND_ALONE)mc=mc-ic-kc;if(this.props.placement===na.POWER_EDITOR)mc=mc-dc-jc;if(k.hasError(wb.STS_GET))mc-=hc;return mc;},_renderAudienceTable:function(){var mc=this._getTableHeight(),nc=this.props.width,oc={};if(q.getViewState().showFilterPane){var pc=fc+(2*ec);nc-=pc;oc={width:nc,marginLeft:pc};mc-=bc;}var qc={account_id:this.props.accountID};return (ib.createElement("div",{style:oc,className:"_5dg_"},this._renderFilterTokenSection(),ib.createElement(qa,{account:qc,height:mc,width:nc,dao:this.props.primedDao,onCreateAudienceClicked:this._onCreateAudienceClicked,onLastRowReached:this._fetchMoreAudiences,placement:this.props.placement})));},_renderFilterTokenSection:function(){if(!q.getViewState().showFilterPane)return null;var mc={height:bc};return (ib.createElement("div",{style:mc,className:"_2vde"},this._renderFilterTokenizer()));},_renderFilterTokenizer:function(){var mc=[];Object.keys(m).forEach(function(nc){mc.push(m[nc]);});return (ib.createElement(bb,{filterSet:q.getFilterSet(),onChange:this._handleFilterTokenizerChanged,validFieldConfigs:mc,fieldsConfig:m,valuesConfig:n}));},_handleFilterTokenizerChanged:function(mc){this._handleFilterSetChanged(mc);g.log(ia.AM_FILTER_TOKENIZER_CHANGED,{filter:this._getFilterParamsForLogging(mc)});},_getFilterParamsForLogging:function(mc){if(!mc)return [];return mc.toAPI();},_handleFilterSetChanged:function(mc){p.updateFilterSet(mc);this.props.controller.filterCAAndSTS(this._constructFilter());},_onCreateAudienceClicked:function(mc){switch(mc){case ac.CUSTOM_AUDIENCE:this.setState({useAutoLaunch:false});p.showCreateCustomAudienceDialog();g.log(ia.AM_CA_CREATE_AUDIENCE_CLICK);break;case ac.LOOKALIKE:p.showLookalikeDialog(null);g.log(ia.AM_LAL_CREATE_AUDIENCE_CLICK);break;case ac.SAVED_TARGET_SPEC:p.showSavedTargetSpecDialog(null);g.log(ia.AM_CREATE_SAVED_AUDIENCE_CLICKED);break;case ac.SAVED_AUDIENCE:p.showSavedAudienceCreateDialog();break;default:rb(false);}},_fetchMoreAudiences:function(){if(q.getCustomAudienceAfterCursor()||q.getSavedTargetSpecAfterCursor()||this.props.controller.shouldFetchMore())this.props.controller.fetchMoreCAAndSTS(this._constructFilter(),q.getCustomAudienceAfterCursor(),q.getSavedTargetSpecAfterCursor());},_getTosRequirements:function(){var mc=k.getAccount(),nc=i.getIsCorporateFromCapabilities(mc.capabilities);return cb.getTosRequirements(nc);}});e.exports=lc;},null);
__d("AudienceManagerAdgroupsForAudienceRequest",["AudienceManagerAPIRequest"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;function j(k){"use strict";g.call(this,'GET',{adgroup_status:['ACTIVE'],fields:'id,name'});this.$AudienceManagerAdgroupsForAudienceRequest0=k;}j.prototype.getEndpoint=function(){"use strict";return '/'+this.$AudienceManagerAdgroupsForAudienceRequest0+'/adgroups';};j.prototype.isParamsValid=function(){"use strict";return this.$AudienceManagerAdgroupsForAudienceRequest0;};e.exports=j;},null);
__d("AudienceManagerCreateSavedTargetGroupRequest",["AudienceManagerAPIRequest"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;function j(k){g.call(this,'POST',k);this.$AudienceManagerCreateSavedTargetGroupRequest0=k.accountId;this.$AudienceManagerCreateSavedTargetGroupRequest1=k.name;this.$AudienceManagerCreateSavedTargetGroupRequest2=k.targeting_spec;}j.prototype.getEndpoint=function(){return '/act_'+this.$AudienceManagerCreateSavedTargetGroupRequest0+'/audiences';};j.prototype.isParamsValid=function(){return this.$AudienceManagerCreateSavedTargetGroupRequest0&&this.$AudienceManagerCreateSavedTargetGroupRequest1&&this.$AudienceManagerCreateSavedTargetGroupRequest2;};e.exports=j;},null);
__d("AudienceManagerGetSavedTargetGroupRequest",["AudienceManagerAPIRequest","SavedTargetSpecAPIFields"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';for(var i in g)if(g.hasOwnProperty(i))k[i]=g[i];var j=g===null?null:g.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=g;function k(l){g.call(this,'GET',{fields:h.DEFAULT_FIELDS_FOR_AUDIENCE_MANAGER});this.$AudienceManagerGetSavedTargetGroupRequest0=l;}k.prototype.getEndpoint=function(){return '/'+this.$AudienceManagerGetSavedTargetGroupRequest0;};k.prototype.isParamsValid=function(){return this.$AudienceManagerGetSavedTargetGroupRequest0;};e.exports=k;},null);
__d("AudienceManagerDeleteRequest",["AudienceManagerAPIRequest"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;function j(k){"use strict";g.call(this,'DELETE',{});this.$AudienceManagerDeleteRequest0=k;}j.prototype.getEndpoint=function(){"use strict";return '/'+this.$AudienceManagerDeleteRequest0;};j.prototype.isParamsValid=function(){"use strict";return this.$AudienceManagerDeleteRequest0;};e.exports=j;},null);
__d("AudienceManagerFilteringUtils",["AdsAMAudienceUtils","AdsAMFilterAPIParamConsts","AdsAMFilterValueConfig","AdsAPICustomAudienceFilteringFields","AdsGenericFilterOperator"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';function l(m){this.$AudienceManagerFilteringUtils0=m;this.$AudienceManagerFilteringUtils1=m?m.toAPI():null;}l.prototype.shouldFetchCustomAudiences=function(){if(!this.$AudienceManagerFilteringUtils1)return true;var m=this.$AudienceManagerFilteringUtils1.some(function(n){return n.field===h.UI_FIELD_NAME.TYPE&&n.value.length===1&&n.value[0]===i.TYPE_SAVED_AUDIENCE.value;});return !m;};l.prototype.shouldFetchSavedTargetSpecs=function(){if(!this.$AudienceManagerFilteringUtils1)return true;var m=this.$AudienceManagerFilteringUtils1.some(function(n){switch(n.field){case h.UI_FIELD_NAME.TYPE:return n.value.indexOf(i.TYPE_SAVED_AUDIENCE.value)===-1;case h.UI_FIELD_NAME.SOURCE:return true;case h.UI_FIELD_NAME.AVAILABILITY:return n.value.indexOf(i.AVAILABILITY_READY.value)===-1;case h.UI_FIELD_NAME.QUICK_LOOK:return true;default:break;}return false;});return !m;};l.prototype.filterSavedTargetSpecsName=function(m,n){return n.filter(function(o){if(g.isSavedAudience(o))return o.name.indexOf(m)!==-1;return o.audience_name.indexOf(m)!==-1;});};l.prototype.getCAFilteringParams=function(){if(!this.$AudienceManagerFilteringUtils1)return [];var m=[];this.$AudienceManagerFilteringUtils1.forEach(function(n){var o=this.$AudienceManagerFilteringUtils2(n);if(o)m.push(o);}.bind(this));return m;};l.prototype.$AudienceManagerFilteringUtils2=function(m){switch(m.field){case h.UI_FIELD_NAME.TYPE:return this.$AudienceManagerFilteringUtils3(m,j.SUBTYPE);case h.UI_FIELD_NAME.SOURCE:return this.$AudienceManagerFilteringUtils4(m,j.DATA_SOURCE_SUBTYPE);case h.UI_FIELD_NAME.AVAILABILITY:return this.$AudienceManagerFilteringUtils4(m,j.DELIVERY_STATUS_CODE);case h.UI_FIELD_NAME.QUICK_LOOK:return this.$AudienceManagerFilteringUtils4(m,j.QUICK_LOOK);default:return null;}};l.prototype.$AudienceManagerFilteringUtils4=function(m,n){var o=[];m.value.forEach(function(p){o=this.$AudienceManagerFilteringUtils5(o,i[p].filteringParamValues);}.bind(this));return {field:n,operator:m.operator,value:o};};l.prototype.$AudienceManagerFilteringUtils5=function(m,n){n.forEach(function(o){if(m.indexOf(o)===-1)m.push(o);});return m;};l.prototype.$AudienceManagerFilteringUtils3=function(m,n){if(m.value.length===1&&m.value[0]===i.TYPE_SAVED_AUDIENCE.value)return null;var o=this.$AudienceManagerFilteringUtils6(m,i.TYPE_CUSTOM_AUDIENCE.value),p=this.$AudienceManagerFilteringUtils6(m,i.TYPE_LOOKALIKE.value);if(o&&p)return null;var q=p?k.EQUAL:k.NOT_EQUAL;return {field:n,operator:q,value:i.TYPE_LOOKALIKE.filteringParamValues[0]};};l.prototype.$AudienceManagerFilteringUtils6=function(m,n){return m.value.some(function(o){return o===n;});};e.exports=l;},null);
__d("AudienceManagerUIController",["AdInterfacesUiLogger","AdsAMAudienceActions","AdsAMAudienceStore","AdsAMAudienceUtils","AdsAMViewActions","AdsAPIAdAccountFields","AdsGenericFilterOperator","AdsSavedAudienceActions","AudienceManagerSavedTargetSpecUtils","AsyncRequest","AudienceDaoManager","AudienceManagerAdgroupsForAudienceRequest","AudienceManagerCreateSavedTargetGroupRequest","AudienceManagerGetSavedTargetGroupRequest","AudienceManagerDeleteRequest","AudienceManagerErrorTypes","AudienceManagerFilteringUtils","AudienceManagerLoggingEvents","AudienceManagerRequestBatch","AudienceManagerUIConstants","AudiencePropertyConstants","GraphAPI","SavedTargetSpecAPIFields","BusinessURI.brands","XAdsCreatorController","adsGKCheck","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){b.__markCompiled&&b.__markCompiled();'use strict';var ha=v.Errors,ia=aa.AUDIENCE_MANAGER_FIELDS;function ja(ka){this.$AudienceManagerUIController0=ka;}ja.prototype.bulkDeleteAudiences=function(ka){var la=ka.map(function(na){return new u(na.id);}),ma=function(){k.closeBulkDeleteDialog();k.clearAudienceSelection();h.deleteAudiences(ka);};y.execute(la,ma,ma);};ja.prototype.bulkCreateAd=function(ka){var la=ka.map(function(oa){return {id:oa.id,name:oa.name};}),ma={custom_audiences:la},na=da((ea.getURIBuilder()).setInt('act',this.$AudienceManagerUIController0).setString('targeting_spec',JSON.stringify(ma)).getURI());window.open(na,'_blank');k.clearAudienceSelection();};ja.prototype.loadAudienceAdgroups=function(ka,la,ma){var na=ka.map(function(oa){return new r(oa.id);});y.execute(na,la,ma);};ja.prototype.deleteAudience=function(ka){var la=q.getPrimedDao(this.$AudienceManagerUIController0);this.clearDaoCache(la);la.remove.audience.one(function(ma){if(ma)h.deleteAudience(ka);},{audienceId:ka.id,handleError:function(ma,na){h.error(na,ha.AUDIENCE_DELETE);}});k.clearAudienceSelection();};ja.prototype.addAudience=function(ka){var la=q.getPrimedDao(this.$AudienceManagerUIController0);this.clearDaoCache(la);la.fetch.audience.one(function(ma){h.addAudience(ma);},{audienceID:ka,fields:ia,handleError:function(ma,na){h.error(na,ha.AUDIENCE_ADD);}});};ja.prototype.updateAudienceCapabilities=function(ka,la,ma){var na=q.getPrimedDao(this.$AudienceManagerUIController0);na.remove.removeAudienceCapabilities.one(function(oa){if(oa)na.mutate.updateCapabilitiesForAudience.one(function(pa){if(pa)na.fetch.audience.one(function(qa){h.updateAudience(ka,qa);},{audienceID:ka,fields:ia,handleError:function(qa,ra){h.error(ra,ha.AUDIENCE_GET);}});},{audienceID:ka,accounts_capabilities:la,handleError:function(pa,qa){h.error(qa,ha.CAPABILITY_UPDATE);}});},{audienceID:ka,adaccounts:ma,handleError:function(oa,pa){h.error(pa,ha.CAPABILITY_REMOVE);}});};ja.prototype.initAudiences=function(ka){this.filterCAAndSTS({name:null,filterSet:null},ka);var la=q.getDao();la.fetch.accountInfo.one(function(ma){h.initializeAccount(ma);},{accountId:this.$AudienceManagerUIController0,migrations_override:'{"adaccount_capabilities":true}',handleError:function(ma,na){h.error(na,ha.ACCOUNT_INIT);}});g.log(x.AM_AUDIENCE_MANAGER_VIEW);};ja.prototype.filterCAAndSTS=function(ka,la){k.updateFilteringState(true);this.$AudienceManagerUIController1(ka,function(){this.$AudienceManagerUIController2(ka,function(){la&&la();this.$AudienceManagerUIController3();k.updateFilteringState(false);}.bind(this));}.bind(this));};ja.prototype.fetchMoreCAAndSTS=function(ka,la,ma){if(this.$AudienceManagerUIController4)return;this.$AudienceManagerUIController4=true;k.updateLoadingMoreAudiencesState(true);this.$AudienceManagerUIController5(ka,la,function(){this.$AudienceManagerUIController6(ka,ma,function(){this.$AudienceManagerUIController7();this.$AudienceManagerUIController4=false;k.updateLoadingMoreAudiencesState(false);}.bind(this));}.bind(this));g.log(x.AM_TABLE_SCROLLING_FETCH);};ja.prototype.shouldFetchMore=function(){var ka=i.getCustomAudiencesFromBuffer(),la=i.getSavedTargetSpecFromBuffer();return ka.length>0||la.length>0;};ja.prototype.$AudienceManagerUIController3=function(){this.$AudienceManagerUIController8(function(ka){h.initializeAudiences(ka);});};ja.prototype.$AudienceManagerUIController7=function(){this.$AudienceManagerUIController8(function(ka){h.addAudiences(ka);});};ja.prototype.$AudienceManagerUIController8=function(ka){var la=z.MAX_AUDIENCES_LOAD,ma=i.getCustomAudiencesFromBuffer(),na=i.getSavedTargetSpecFromBuffer(),oa=ma.concat(na);oa.sort(function(qa,ra){var sa=qa.time_created||qa.time_updated_timestamp,ta=ra.time_created||ra.time_updated_timestamp;return ta-sa;});var pa=oa.splice(0,la);ma=oa.filter(function(qa){return !j.isSavedTargetSpec(qa);});na=oa.filter(function(qa){return j.isSavedTargetSpec(qa);});h.saveCustomAudiencesToBuffer(ma);h.saveSavedTargetSpecsToBuffer(na);ka(pa);};ja.prototype.$AudienceManagerUIController1=function(ka,la){var ma=function(ra){k.clearAudienceSelection();k.updateCustomAudienceAfterCursor(ra.paging);h.saveCustomAudiencesToBuffer(ra.data.concat([]));la();},na=new w(ka.filterSet);if(!na.shouldFetchCustomAudiences()){ma({data:[]});return;}var oa=this.$AudienceManagerUIController9(ka),pa={accountId:this.$AudienceManagerUIController0,filtering:oa,fields:ia,limit:z.MAX_AUDIENCES_LOAD,migrations_override:'{"ads_api_graphnode_q4_2014": true}',handleError:function(ra,sa){h.error(sa,ha.AUDIENCE_INIT);}},qa=q.getDao();qa.fetch.customAudiencesForAccount.one(ma,pa);};ja.prototype.$AudienceManagerUIController2=function(ka,la){var ma=new w(ka.filterSet),na=function(oa){k.clearAudienceSelection();k.updateSavedTargetSpecAfterCursor(oa.paging);var pa=ka.name?ma.filterSavedTargetSpecsName(ka.name,oa.data.concat([]).reverse()):oa.data.concat([]).reverse();h.saveSavedTargetSpecsToBuffer(pa);la();};if(!ma.shouldFetchSavedTargetSpecs()){na({data:[]});return;}this.$AudienceManagerUIControllera(na);};ja.prototype.$AudienceManagerUIControllera=function(ka,la){if(fa('ads_saved_audience')){ba('2.2').adaccount(this.$AudienceManagerUIController0).edge(l.SAVED_AUDIENCES).batched().get({after:la,date_format:'U',limit:z.MAX_AUDIENCES_LOAD,fields:z.SAVED_AUDIENCE_API_FIELDS}).done(function(oa){oa.data=oa.data.map(function(pa){pa=o.toLegacy(pa);pa.isSavedAudience=true;return pa;});ka(oa);},function(oa){h.error(oa,ha.STS_GET);ka({data:[]});});}else{var ma={accountId:this.$AudienceManagerUIController0,after:la,fields:ca.DEFAULT_FIELDS_FOR_AUDIENCE_MANAGER,limit:z.MAX_AUDIENCES_LOAD,handleError:function(oa,pa){h.error(pa,ha.STS_GET);ka({data:[]});}},na=q.getDao();na.fetch.audiencesForAccountWithPagination.one(ka,ma);}};ja.prototype.$AudienceManagerUIController5=function(ka,la,ma){var na=function(ra){k.updateCustomAudienceAfterCursor(ra.paging);h.saveCustomAudiencesToBuffer(i.getCustomAudiencesFromBuffer().concat(ra.data));ma();};if(!la){na({data:[]});return;}var oa=q.getDao(),pa=this.$AudienceManagerUIController9(ka),qa={accountId:this.$AudienceManagerUIController0,filtering:pa,fields:ia,limit:z.MAX_AUDIENCES_LOAD,after:la,handleError:function(ra,sa){h.error(sa,ha.AUDIENCE_GET);}};oa.fetch.customAudiencesForAccount.one(na,qa);};ja.prototype.$AudienceManagerUIController6=function(ka,la,ma){var na=new w(ka.filterSet),oa=function(pa){k.updateSavedTargetSpecAfterCursor(pa.paging);var qa=ka.name?na.filterSavedTargetSpecsName(ka.name,pa.data.concat([]).reverse()):pa.data.concat([]).reverse();h.saveSavedTargetSpecsToBuffer(i.getSavedTargetSpecFromBuffer().concat(qa));ma();};if(!la){oa({data:[]});return;}this.$AudienceManagerUIControllera(oa,la);};ja.prototype.$AudienceManagerUIController9=function(ka){var la=null;if(ka.filterSet){var ma=new w(ka.filterSet),na=ma.getCAFilteringParams();if(na)la=na;}if(ka.name){la=la||[];la.push({field:'name',operator:m.CONTAIN,value:ka.name});}return la;};ja.prototype.updateColumnShown=function(ka,la){k.updateColumnShown(ka,la);};ja.prototype.saveColumnsShownSettings=function(ka){new p().setURI('/ajax/ads/ui/audience_manager/save_column_shown').setData({column_shown:ka}).send();};ja.prototype.getAccountID=function(){return this.$AudienceManagerUIController0;};ja.prototype.createAdFromSavedTargetSpec=function(ka){var la=da((ea.getURIBuilder()).setInt('act',this.$AudienceManagerUIController0).setString('targeting_spec',JSON.stringify(ka.target_spec)).getURI());window.open(la,'_blank');k.clearAudienceSelection();};ja.prototype.createSavedTargetSpec=function(ka,la,ma){var na=q.getDao();na.add.createNewSavedTargetSpec.one(function(oa){if(oa&&oa.id){na.fetch.savedTargetSpec.one(function(pa){h.addAudience(pa);},{audienceID:oa.id,fields:ca.DEFAULT_FIELDS_FOR_AUDIENCE_MANAGER,handleError:function(pa,qa){h.error(qa,ha.AUDIENCE_ADD);}});g.log(x.AM_CREATE_SAVED_AUDIENCE_COMPLETED);}},{accountId:ma,targeting_spec:la,name:ka});};ja.prototype.$AudienceManagerUIControllerb=function(ka){var la=function(oa){oa.map(function(pa){h.error(pa,ha.AUDIENCE_GET);});},ma=function(oa){oa.forEach(function(pa){pa.isSavedTargetSpec=true;});h.addAudiences(oa);},na=ka.map(function(oa){return new t(oa);});y.execute(na,ma,la);};ja.prototype.bulkCreateSavedTargetSpecs=function(ka,la){var ma=function(pa){pa.map(function(qa){h.error(qa,ha.AUDIENCE_ADD);});},na=function(pa){var qa=[];if(pa)pa.forEach(function(ra){if(ra.id)qa.push(ra.id);});this.$AudienceManagerUIControllerb(qa);}.bind(this),oa=ka.map(function(pa){var qa={accountId:la,targeting_spec:pa.target_spec,name:pa.name};return new s(qa);});y.execute(oa,na,ma);};ja.prototype.$AudienceManagerUIControllerc=function(ka){var la=[],ma=function(){k.closeBulkDeleteDialog();k.clearAudienceSelection();h.deleteAudiences(la);},na=ka.map(function(pa){return {parameters:{audienceId:pa.id},callback:function(qa){if(qa)la.push(pa);}};}),oa=q.getDao();oa.remove.audience.multi(function(){ma();},{requests:na});};ja.prototype.$AudienceManagerUIControllerd=function(ka){n.deleteSavedAudiences(ka.map(function(la){return la.id;}));k.closeBulkDeleteDialog();k.clearAudienceSelection();};ja.prototype.bulkDeleteSavedTargetSpecs=function(ka){var la=[],ma=[];ka.forEach(function(na){if(j.isSavedAudience(na)){la.push(na);}else ma.push(na);});if(ma.length>0)this.$AudienceManagerUIControllerc(ma);if(la.length>0)this.$AudienceManagerUIControllerd(la);};ja.prototype.changeAudience=function(ka,la){this.changeAudienceWithCallback(ka,la,ga);};ja.prototype.changeAudienceWithCallback=function(ka,la,ma){var na=q.getPrimedDao(this.getAccountID());this.clearDaoCache(na);var oa={id:ka.id,handleError:function(pa,qa){h.error(qa,ha.AUDIENCE_UPDATE);},name:la.name,description:la.description,rule:la.rule,retention_days:la.retention_days,opt_out_link:la.opt_out_link};if(la.inclusions)oa.inclusions=la.inclusions;if(la.exclusions)oa.exclusions=la.exclusions;na.mutate.customAudience.one(function(pa){if(pa)na.fetch.audience.one(function(qa){ma();h.updateAudience(ka.id,qa);},{audienceID:ka.id,fields:ia,handleError:function(qa,ra){h.error(ra,ha.AUDIENCE_GET);}});},oa);};ja.prototype.changeSavedTargetSpec=function(ka,la){var ma=q.getDao();this.clearDaoCache(ma);ma.mutate.savedTargetSpec.one(function(na){if(na)ma.fetch.savedTargetSpec.one(function(oa){h.updateAudience(ka.id,oa);},{audienceID:ka.id,fields:ca.DEFAULT_FIELDS_FOR_AUDIENCE_MANAGER,handleError:function(oa,pa){h.error(pa,ha.AUDIENCE_GET);}});},{audienceId:ka.id,name:la.name,targeting_spec:la.targetSpec});};ja.prototype.clearDaoCache=function(ka){ka.fetch.customAudiencesForAccount.clearCache();ka.fetch.audiencesForAccountWithPagination.clearCache();ka.fetch.savedTargetSpec.clearCache();ka.fetch.audience.clearCache();};e.exports=ja;},null);
__d("AudienceManagerSetupUtils",["AdInterfacesUiLogger","AdsAMViewActions","AudienceDaoManager","AudienceManagerUIController","AdsCreationConfig"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=b('AdsCreationConfig').admgr_settings,l={setupLogging:function(m,n){g.setAccountID(m);g.setAppName(n);},getPrimedDao:function(m){return i.getPrimedDao(m);},getController:function(m){return new j(m);},initializeUI:function(m){m.initAudiences(this._initializeColumnSelector.bind(this));},_initializeColumnSelector:function(){var m=k.audience_manager_column_shown;if(m&&!(m instanceof Array))h.initializeColumnsShown(m);}};e.exports=l;},null);
__d("AudienceManagerMainController",["AdInterfacesAppNames","AudienceDaoManager","AudienceManagerChrome.react","AudienceManagerPlacement","AudienceManagerSetupUtils","Event","GraphAPI","React","debounce","emptyFunction","ge","getViewportDimensions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s,t=null,u,v,w,x,y,z,aa;function ba(){var fa=r();y=fa.width;u=fa.height;var ga=q('pagelet_bluebar');if(!w&&ga&&ga.offsetHeight)w=ga.offsetHeight;var ha=q('bizBlackBar');if(!w&&ha&&ha.offsetHeight)w=ha.offsetHeight;}function ca(){ba();da();}function da(){n.render(n.createElement(i,{accountID:s,primedDao:t,top:w,width:y,height:u-w,controller:x,canWrite:z,autoLaunch:aa,placement:j.STAND_ALONE}),v);}var ea={setup:function(fa,ga,ha,ia){k.setupLogging(ga,g.AUDIENCE_MANAGER_V3);h.initializeAPI();t=k.getPrimedDao(ga);x=k.getController(ga);k.initializeUI(x);v=fa;s=ga;z=ha;aa=ia;ba();l.listen(window,'resize',o(ca,160));da();}};e.exports=ea;},null);