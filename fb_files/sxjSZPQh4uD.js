/*!CK:874537712!*//*1427900580,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["qVkF2"]); }

__d("ActorBio.react",["React","fbt"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g,j=i.PropTypes,k=g.createClass({displayName:"ActorBio",propTypes:{stats:j.object.isRequired,preferredTypes:j.array.isRequired},renderLink:function(l){return 'url' in l?g.createElement("a",g.__spread({},this.props,{href:l.url}),l.name):g.createElement("span",null,l.name);},renderItem:function(l,m){var n;switch(l){case 'employer':if('position' in m){n=h._("{position} \u00e0 {employer}",[h.param("position",this.renderLink(m.position)),h.param("employer",this.renderLink(m))]);}else n=h._("Travaille chez {employer}",[h.param("employer",this.renderLink(m))]);break;case 'mutual_friend':n=h._("Ami(e) avec {user}",[h.param("user",this.renderLink(m))]);break;default:return this.renderLink(m);}return g.createElement("span",null,n);},render:function(){var l=this.props.stats,m=this.props.preferredTypes;for(var n=0;n<m.length;n++)for(var o=0;o<m[n].length;o++){var p=m[n][o];if(p in l)return this.renderItem(p,l[p]);}return g.createElement("span",null);}});e.exports=k;},null);
__d("HashtagSpan.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g.createClass({displayName:"HashtagSpan",render:function(){return (g.createElement("span",{"data-offset-key":this.props.offsetKey,className:"_5u8n",spellCheck:false},this.props.children));}});e.exports=i;},null);
__d("WeakMentionSpan.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g.createClass({displayName:"WeakMentionSpan",render:function(){return (g.createElement("span",{"data-offset-key":this.props.offsetKey,className:"_whq",spellCheck:false},this.props.children));}});e.exports=i;},null);
__d("getHashtagMatchesExperimental",["getHashtagRegex"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g();function i(j,k){var l=j.getText(),m,n,o,p;while((m=h.exec(l))!==null){n=m.index+m[1].length;o=m[2];p=m[3];k(n,n+o.length+p.length);}}e.exports=i;},null);
__d("getMentionsInputDecorator",["ComposedEntityType","DocumentCompositeDecorator.Experimental","DocumentDecorator","EmoticonSpan.react","HashtagSpan.react","MentionSpan.react","WeakMentionSpan.react","getEntityMatcherExperimental","getHashtagMatchesExperimental"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=g.EMOTICON,q=g.MENTION,r;function s(){if(!r)r=new h([new i(n(function(t){var u=t.getData();return t.getType()===q&&u&&u.isWeak;}),m),new i(n(function(t){return t.getType()===q;}),l),new i(n(function(t){return t.getType()===p;}),j),new i(o,k)]);return r;}e.exports=s;},null);
__d("AbstractActionList.react",["React","ReactChildren"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=' \u00b7 ',j=g.createClass({displayName:"AbstractActionList",render:function(){var k=true,l=h.map(this.props.children,function(m){if(!m)return m;if(k){k=false;return m;}return {BULLET:i,child:m};});return g.createElement("div",g.__spread({},this.props),l);}});e.exports=j;},null);
__d("ActionList.react",["AbstractActionList.react","joinClasses","React"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=i.createClass({displayName:"ActionList",render:function(){return (i.createElement(g,i.__spread({},this.props,{className:h(this.props.className,"fsm fwn fcg")}),this.props.children));}});e.exports=j;},null);
__d("MentionsInput.Experimental.react",["AbstractMentionsTextEditor.Experimental.react","EditorState","MentionsLayer.react","React","createMentionEntity","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=j,o=n.PropTypes,p=j.createClass({displayName:"MentionsInput",propTypes:{editorState:o.instanceOf(h).isRequired,mentionsSource:o.object,typeaheadView:o.func.isRequired,typeaheadViewPropTypes:o.object,spellCheck:o.bool,placeholder:o.string,className:o.string,autoflip:o.bool,handleContentReturn:o.func,handleDroppedFiles:o.func,handlePastedFiles:o.func,onAddMention:o.func,onShowMentions:o.func,onChange:o.func,onInputFocus:o.func,onInputBlur:o.func},blur:function(){this.refs.textEditor.blur();},focus:function(){if(this.refs.textEditor){this._doFocus();}else setTimeout(this._doFocus,0);},render:function(){var q=m(this.props.className,"_5yk1");return (j.createElement("div",{className:q,onClick:this.focus,onFocus:this.focus},j.createElement(g,j.__spread({},this.props,{mentionResultsComponent:i,mentionResultsProps:{typeaheadView:this.props.typeaheadView,typeaheadViewProps:this.props.typeaheadViewProps,autoflip:this.props.autoflip},mentionCreationFn:k,ref:"textEditor",className:"_5yk2",stripPastedStyles:true}))));},_doFocus:function(){if(this.isMounted())this.refs.textEditor.focus();}});e.exports=p;},null);
__d("DevxFluxDispatcher",["Dispatcher"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;function j(){if(g!==null)g.apply(this,arguments);}j.prototype.handleServerAction=function(k){this.$DevxFluxDispatcher0('serverAction',k);};j.prototype.handleViewAction=function(k){this.$DevxFluxDispatcher0('viewAction',k);};j.prototype.$DevxFluxDispatcher0=function(k,l){this.dispatch(Object.assign({source:k},l));};e.exports=new j();},null);
__d("DevxProxyActions",["DevxFluxDispatcher"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(i){Object.keys(i.ActionHandler).forEach(function(j){this[j]=function(){for(var k=[],l=0,m=arguments.length;l<m;l++)k.push(arguments[l]);g.handleViewAction({action:j,args:k});};}.bind(this));}e.exports=h;},null);
__d("createEmptyEditorState",["createContentStateFromBlocks","createInitialEditorState","createPlainBlocksFromText"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();"use strict";function j(k){var l=i(['']),m=g(l);return h(m,k);}e.exports=j;},null);
__d("DocumentMentionsRegex",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g='\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\\/!%\'"~=<>_:;',h='\\b[A-Z][^\\s'+g+']',i={PUNCTUATION:g,NAME:h};e.exports=i;},null);
__d("AtSignMentionsStrategy",["DocumentMentionsRegex"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g.PUNCTUATION,i=['@','\\uff20'].join(''),j='[^'+i+h+'\\s]',k='(?:'+'\\.[ |$]|'+' |'+'['+h+']|'+')',l=new RegExp('(?:^|\\s)('+'['+i+']'+'((?:'+j+k+'){0,20})'+')$'),m={findMentionableString:function(n){var o=l.exec(n);if(o!==null){var p=o[2];if(p.length)return {matchingString:p,leadOffset:o[1].length};}return null;}};e.exports=m;},null);
__d("CapitalizedNameMentionsStrategy",["DocumentMentionsRegex"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=1,i=new RegExp('(?:'+g.NAME+'{'+h+',})$'),j={findMentionableString:function(k){var l=i.exec(k);if(l!==null)return {matchingString:l[0],leadOffset:l[0].length};return null;}};e.exports=j;},null);
__d("DocumentCompositeMentionsSource",["emptyFunction","invariant"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();"use strict";function i(l,m,n){var o=n;while(m[o-1]===null)o--;return l.slice(o,n);}function j(l,m){var n=l.getCharacterList().toSeq().slice(0,m).reverse().takeWhile(function(o){return o.getEntity()===null;}).count();return l.getText().slice(m-n,m);}function k(l){h(l.length>0);this.$DocumentCompositeMentionsSource0=l;this.$DocumentCompositeMentionsSource1=false;this.$DocumentCompositeMentionsSource2=null;}k.prototype.bootstrap=function(l){if(this.$DocumentCompositeMentionsSource1)return;this.$DocumentCompositeMentionsSource1=true;l=l||g;var m=this.$DocumentCompositeMentionsSource0.length;function n(){m--;if(!m)l();}this.$DocumentCompositeMentionsSource0.forEach(function(o){o.bootstrap(n);});};k.prototype.search=function(l,m,n){this.$DocumentCompositeMentionsSource3(i(l.getText(),l.getEntities(),m),n);};k.prototype.searchWithImmutables=function(l,m,n){var o=m.getAnchorKey(),p=l.getBlockForKey(o);this.$DocumentCompositeMentionsSource3(j(p,m.getAnchorOffset()),n);};k.prototype.$DocumentCompositeMentionsSource3=function(l,m){var n=this.$DocumentCompositeMentionsSource0.length,o,p;for(var q=0;q<n;q++){o=this.$DocumentCompositeMentionsSource0[q];p=o.findMatch(l);if(p===null)continue;var r=p.matchingString;this.$DocumentCompositeMentionsSource2=r;o.search(r,function(s,t){if(this.$DocumentCompositeMentionsSource2===t)m(s,p.leadOffset);}.bind(this));return;}this.$DocumentCompositeMentionsSource2=null;m(null,null);};e.exports=k;},null);
__d("DocumentMentionsSource",["invariant"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j){"use strict";g(typeof i.findMentionableString==='function');this.$DocumentMentionsSource0=i;this.$DocumentMentionsSource1=j;this.$DocumentMentionsSource2=false;}h.prototype.findMatch=function(i){"use strict";return this.$DocumentMentionsSource0.findMentionableString(i);};h.prototype.bootstrap=function(i){"use strict";if(!this.$DocumentMentionsSource2){this.$DocumentMentionsSource2=true;this.$DocumentMentionsSource1.bootstrap(i);}};h.prototype.search=function(i,j){"use strict";this.$DocumentMentionsSource1.search(i,j);};e.exports=h;},null);
__d("getMentionsTextForContentState",["ComposedEntityType","DocumentCharacters","DocumentEntity","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=j.thatReturnsTrue,l=/[\\\]:]/g;function m(o){var p=o.getBlockMap().map(function(q){var r=q.getText(),s=[];q.findEntityRanges(k,function(t,u){s.push(n(r.slice(t,u),q.getEntityAt(t)));});return s.join('');});return p.join(h.SOFT_NEWLINE);}function n(o,p){if(p){var q=i.get(p);if(q.getType()===g.MENTION){o=o.replace(l,function(r){return '\\'+r;});return '@['+q.getData().id+':'+o+']';}else if(q.getType()===g.EMOTICON)return q.getData().originalEmoticon;}return o.replace('@[','@ [');}e.exports=m;},null);
__d("createEditorStateWithEntities",["DocumentCharacters","EditorState","applyEntityToContentBlock","createContentStateFromBlocks","createInitialEditorState","createPlainBlocksFromText"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=new RegExp(g.SOFT_NEWLINE,'ig');function n(o){var p=o,q=p.text,r=p.ranges,s=p.decorator,t=p.entityCreationFn,u=p.splitIntoBlocks,v=p.allowUndo,w,x;if(u===undefined)u=true;if(q){w=u?q.split(m):[q];x=[];var y=0;w.forEach(function(ba){x.push(y);y+=ba.length+1;});}else w=[''];var z=l(w);if(r&&r.length&&t)r.forEach(function(ba){var ca=t(ba.entity);if(ca===null)return;var da=ba.offset,ea,fa;for(var ga=0;ga<x.length;ga++){var ha=x[ga],ia=x[ga+1];if(ia===undefined||(da>=ha&&da<ia)){ea=z[ga];fa=da-ha;break;}}z[ga]=i(ea,fa,fa+ba.length,ca);});var aa=k(j(z),s);if(v===false)aa=h.set(aa,{allowUndo:false});return aa;}e.exports=n;},null);
__d("FilteredSearchSource",["AbstractSearchSource"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;function j(k,l){"use strict";this.$FilteredSearchSource0=k;this.$FilteredSearchSource1=l;}j.prototype.bootstrapImpl=function(k){"use strict";this.$FilteredSearchSource1.bootstrap(k);};j.prototype.searchImpl=function(k,l,m){"use strict";var n=function(o,p){o=this.$FilteredSearchSource2(o,p);l(o,p);}.bind(this);this.$FilteredSearchSource1.search(k,n,m);};j.prototype.$FilteredSearchSource2=function(k,l){"use strict";var m=this.$FilteredSearchSource0;return k.filter(function(n){return m(n,l);});};e.exports=j;},null);
__d("filterCapitalizedNames",["TokenizeUtil"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(l,m){return i(l)&&(m.length>=5||j(l,m));}function i(l){var m=l.getAuxiliaryData()||k;return !m.disableAutosuggest&&!!(l.getType()==='user'||m.connectedPage);}function j(l,m){return g.isExactMatch(m,l.getTitle());}var k={};e.exports=h;},null);
__d("XDeveloperDocumentationController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/docs\/{?path1}\/{?path2}\/{?path3}\/{?path4}\/{?path5}\/{?path6}\/",{path:{type:"String"},preview:{type:"Exists",defaultValue:false},revisionid:{type:"Int"},locale:{type:"String"},path1:{type:"String"},path2:{type:"String"},path3:{type:"String"},path4:{type:"String"},path5:{type:"String"},path6:{type:"String"}});},null);
__d("CommentsPluginFooter.react",["ImageBlock.react","React","XDeveloperDocumentationController","cx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=h.createClass({displayName:"CommentsPluginFooter",render:function(){return (h.createElement("div",{className:"_5lm5 _2pi3 _3-8y"},h.createElement(g,null,h.createElement("img",{src:"/images/like/icons/fav.png"}),h.createElement("a",{target:"_blank",href:i.getURIBuilder().setString('path1','plugins').setString('path2','comments').getURI().setSubdomain('developers')},"Facebook Comments Plugin"))));}});e.exports=k;},null);
__d("XPluginCommentsCreateCommentAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/createComment\/{target_id}\/",{target_id:{type:"Int",required:true}});},null);
__d("XPluginCommentsCreateReplyAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/createReply\/{parent_comment_id}\/",{parent_comment_id:{type:"String",required:true}});},null);
__d("XPluginCommentsDeleteCommentAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/delete\/",{});},null);
__d("XPluginCommentsEditCommentAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/edit\/",{});},null);
__d("XPluginCommentsFlagCommentAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/flag\/",{});},null);
__d("XPluginCommentsLikeCommentAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/like\/",{action_like:{type:"Bool",defaultValue:false}});},null);
__d("XPluginCommentsPagerAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/{target_id}\/pager\/{ordering}\/",{target_id:{type:"Int",required:true},ordering:{type:"Enum",required:true,enumType:1}});},null);
__d("XPluginCommentsRepliesPagerAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/comment\/{comment_id}\/pager\/",{comment_id:{type:"String",required:true}});},null);
__d("CommentsPluginStore",["AsyncRequest","XPluginCommentsCreateCommentAsyncController","XPluginCommentsCreateReplyAsyncController","XPluginCommentsDeleteCommentAsyncController","DevxFluxDispatcher","DTSG","XPluginCommentsEditCommentAsyncController","XPluginCommentsFlagCommentAsyncController","XPluginCommentsLikeCommentAsyncController","MultiLoginPopup","XPluginCommentsPagerAsyncController","XPluginCommentsRepliesPagerAsyncController","fbt","getMentionsTextForContentState","getVisibleValueForContentState","invariant","mixInEventEmitter","nullthrows","uniqueID"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){b.__markCompiled&&b.__markCompiled();'use strict';var z=10,aa='__DEVX__',ba={visibleValue:'',encodedValue:''},ca={change:true,composerChange:true,composerCommentAdded:true,postError:true,sortingCompleted:true,moreCommentsCompleted:true,moreRepliesCompleted:true},da={maxLines:10,maxLength:1000},ea=[],fa={},ga={userID:null,actors:{},appID:null,afterCursor:null,beforeCursor:null,composerSearchSource:{},deeplinkedCommentID:null,href:'',iframeReferer:null,isMobile:false,mirroredPage:null,moderateURL:null,targetFBID:null,totalCount:0,user:{}},ha=false,ia={ordering:null},ja={},ka={},la={setPostToFeed:true,sort:true,showMoreComments:true,showMoreReplies:true,toggleVisibility:true},ma={addComment:true};function na(ua){v(ta.hasOwnProperty(ua));}function oa(){v(Array.isArray(ea));v(fa instanceof Object);}function pa(ua,va){if(!la[ua]&&!sa.isLoggedIn()){var wa=ma[ua]?null:va;p.login(null,null,s._("Veuillez vous connecter pour commenter"),{},qa.bind(null,wa));return;}va.call();}function qa(ua,va){ga.user.id=va.user;ga.user.uri=va.profileUrl;ga.user.thumbSrc=va.profilePic;ga.user.actorIDs=va.actorIDs;if(va.fbDtsg)l.setToken(va.fbDtsg);ua&&ua.call();sa.emit('change');}function ra(ua,va,wa){return wa.indexOf(ua)===va;}var sa={LOGGED_OUT_USER:"0",getCommentIDs:function(){return ea;},getByID:function(ua){oa();return x(fa)[ua];},isOptimisticComment:function(ua){return ua.id.startsWith(aa);},getCurrentSorting:function(){return x(ia.ordering);},getTargetFBID:function(){return x(ga.targetFBID);},getCommentsCount:function(){oa();return ga.totalCount;},getUser:function(){return ga.user;},getAuthor:function(ua){return this.getByID(this.getByID(ua).authorID);},getPageSize:function(){return z;},getCommentBodyTruncationLimits:function(){return da;},getComposerSearchSource:function(){return ga.composerSearchSource;},getMirroredPage:function(){return ga.mirroredPage;},isMirrored:function(){return this.getMirroredPage()!=null;},isReply:function(ua){var va=this.getByID(ua);return va.targetID!==this.getTargetFBID();},setActor:function(ua){ga.user=ga.actors[ua];},getPostToFeed:function(){return ha;},setPostToFeed:function(ua){ha=ua;},setCreateComposerState:function(ua,va){ja[va||aa]=ua;this.emit('composerChange');},getCreateComposerState:function(ua){return ja[ua||aa];},getCreateComposerContent:function(ua){return this._editorStateToComposerPayload(this.getCreateComposerState(ua));},isEmptyCreateComposer:function(ua){return this.getCreateComposerContent(ua).visibleValue.trim()==='';},setEditComposerState:function(ua,va){ka[va]=ua;this.emit('composerChange');},getEditComposerState:function(ua){return ka[ua];},getEditComposerContent:function(ua){return this._editorStateToComposerPayload(this.getEditComposerState(ua));},isEmptyEditComposer:function(ua){return this.getEditComposerContent(ua).visibleValue.trim()==='';},_editorStateToComposerPayload:function(ua){if(!ua)return ba;var va=ua.getCurrentContent(),wa=u(va),xa=t(va);return {visibleValue:wa,encodedValue:xa};},getActorIDs:function(){return Object.keys(ga.actors);},getModerateURL:function(){return ga.moderateURL;},isLoggedIn:function(){return ga.user.id!==sa.LOGGED_OUT_USER;},isMobile:function(){return ga.isMobile;},hasUnloadedComments:function(){return !!ga.afterCursor;},hasUnloadedReplies:function(ua){var va=this.getByID(ua).public_replies;if(!va)return false;if(va.afterCursor)return true;if((!va.commentIDs||va.commentIDs.length===0)&&va.totalCount>0)return true;return false;},getUnloadedCommentsCount:function(){return ga.totalCount-ea.length;},dispatcherIndex:k.register(function(ua){var va;na(ua.action);pa(ua.action,(va=ta[ua.action]).bind.apply(va,[ta].concat(ua.args)));}),init:function(ua,va,wa){ga=va;ea=ua.commentIDs;fa=this.initComments(ea,ua.idMap);ia.ordering=wa;Object.keys(ga.actors).forEach(function(xa){return fa[xa]=ga.actors[xa];});this.setActor(ga.userID);},initComment:function(ua){ua.hidden=false;ua.editor=false;ua.composer=false;ua.deleted=false;return ua;},initComments:function(ua,va){ua.forEach(function(wa){return va[wa]=this.initComment(va[wa]);}.bind(this));return va;},emit:((void 0)),addListener:((void 0)),removeCurrentListener:((void 0)),ActionHandler:((void 0))};w(sa,ca);var ta={addComment:function(){var ua=sa.getCreateComposerContent(),va=h.getURIBuilder().setInt('target_id',ga.targetFBID).getURI();new g(va).setData({app_id:ga.appID,av:sa.getUser().id,text:ua.encodedValue,post_to_feed:sa.getPostToFeed(),iframe_referer:ga.iframeReferer}).setMethod('POST').setHandler(function(wa){var xa=wa.payload;this._prependComment(xa.idMap[xa.commentID]);delete ja[aa];sa.emit('composerCommentAdded',{});}.bind(this)).setErrorHandler(function(wa){delete fa[aa];ea.shift();sa.emit('change');sa.emit('postError',wa);}).send();this._prependComment({authorID:ga.user.id,targetID:ga.targetFBID,body:{text:ua.visibleValue}});},addReply:function(ua){var va=sa.getCreateComposerContent(ua),wa=i.getURIBuilder().setString('parent_comment_id',ua).getURI(),xa=aa+y();new g(wa).setData({app_id:ga.appID,av:sa.getUser().id,text:va.encodedValue,iframe_referer:ga.iframeReferer,replied_to:sa.getByID(ua).replyToCommentID}).setMethod('POST').setHandler(function(ab){var bb=sa.getByID(ua),cb=Object.assign({},bb.public_replies);Object.assign(fa,ab.payload.idMap);bb=sa.getByID(ua);bb.public_replies=cb;delete fa[xa];delete ja[ua];ea.splice(ea.indexOf(xa),1);bb.composer=false;delete bb.replyToCommentID;bb.public_replies.commentIDs.pop();bb.public_replies.commentIDs.push(ab.payload.commentID);sa.emit('change');}).setErrorHandler(function(ab){delete fa[xa];ea.splice(ea.indexOf(xa),1);ya=sa.getByID(ua);ya.public_replies.commentIDs.pop();ya.public_replies.totalCount--;ya.composer=false;delete ya.replyToCommentID;sa.emit('change');sa.emit('postError',ab);}).send();var ya=sa.getByID(ua),za=Object.assign({},ya.public_replies);if(!za.commentIDs)za.commentIDs=[];if(!za.totalCount)za.totalCount=0;za.totalCount++;za.commentIDs.push(xa);ya.public_replies=za;fa[xa]={authorID:ga.user.id,body:{text:va.visibleValue},targetID:ua,id:xa};ea.push(xa);sa.emit('change');},_prependComment:function(ua){if(!ua.id){ua.id=aa;}else{ea.shift();delete fa[aa];}ea.unshift(ua.id);fa[ua.id]=sa.initComment(ua);sa.emit('change');},edit:function(ua){sa.getByID(ua).editor=true;sa.emit('change');},saveEdit:function(ua){var va=JSON.parse(JSON.stringify(sa.getByID(ua))),wa=m.getURIBuilder().getURI(),xa=sa.getEditComposerContent(ua);new g(wa).setMethod('POST').setData({app_id:ga.appID,text:xa.encodedValue,comment_id:ua,av:sa.getAuthor(ua).id,iframe_referer:ga.iframeReferer}).setHandler(function(za){var ab=za.payload;fa[ab.commentID]=sa.initComment(ab.idMap[ab.commentID]);delete ka[ua];sa.emit('change');}).setErrorHandler(function(za){va.editor=false;Object.assign(sa.getByID(ua),va);sa.emit('change');sa.emit('postError',za);}).send();var ya=sa.getByID(ua);ya.editor=false;ya.body.text=xa.visibleValue;delete ya.ranges;sa.emit('change');},cancelEdit:function(ua){var va=sa.getByID(ua);va.editor=false;sa.emit('change');},"delete":function(ua){var va=sa.getByID(ua);va.deleted=true;var wa=j.getURIBuilder().getURI();new g(wa).setData({app_id:ga.appID,comment_id:ua,iframe_referer:ga.iframeReferer}).setMethod('POST').setErrorHandler(function(xa){var ya=sa.getByID(ua);ya.deleted=false;sa.emit('change');}).send();sa.emit('change');},like:function(ua){var va=sa.getByID(ua),wa=o.getURIBuilder().setBool('action_like',!va.hasLiked).getURI();new g(wa).setData({app_id:ga.appID,comment_id:va.id,iframe_referer:ga.iframeReferer}).setMethod('POST').setHandler(function(xa){var ya=xa.payload;Object.assign(fa[ya.commentID],sa.initComment(ya.idMap[ya.commentID]));sa.emit('change');}).setErrorHandler(function(xa){va.likeCount--;va.hasLiked=false;sa.emit('postError',xa);}).send();va.hasLiked=!va.hasLiked;if(va.hasLiked){va.likeCount++;}else if(va.likeCount>0)va.likeCount--;fa[va.id]=va;sa.emit('change');},sort:function(ua){var va=q.getURIBuilder().setInt('target_id',ga.targetFBID).setEnum('ordering',ua).getURI();new g(va).setMethod('POST').setData({app_id:ga.appID,limit:sa.getPageSize(),iframe_referer:ga.iframeReferer}).setHandler(function(wa){var xa=wa.payload;ga.afterCursor=xa.afterCursor;sa.init(xa,ga,ua);sa.emit('sortingCompleted');sa.emit('change');}).send();},showMoreComments:function(){var ua=q.getURIBuilder().setInt('target_id',ga.targetFBID).setEnum('ordering',sa.getCurrentSorting()).getURI();new g(ua).setMethod('POST').setData({app_id:ga.appID,after_cursor:ga.afterCursor,limit:sa.getPageSize(),deeplinked_comment_id:ga.deeplinkedCommentID,iframe_referer:ga.iframeReferer}).setHandler(function(va){var wa=va.payload;ga.afterCursor=wa.afterCursor;ea=ea.concat(wa.commentIDs).filter(ra);fa=Object.assign(fa,sa.initComments(wa.commentIDs,wa.idMap));sa.emit('moreCommentsCompleted');sa.emit('change');}).setErrorHandler(function(va){sa.emit('postError',va);sa.emit('moreCommentsCompleted');}).send();},setUser:function(ua){sa.setActor(ua);sa.emit('composerChange');},setPostToFeed:function(ua){sa.setPostToFeed(ua);},showMoreReplies:function(ua){var va=r.getURIBuilder().setString('comment_id',ua).getURI(),wa=sa.getByID(ua).public_replies;new g(va).setMethod('POST').setData({app_id:ga.appID,after_cursor:wa.afterCursor,limit:sa.getPageSize(),iframe_referer:ga.iframeReferer}).setHandler(function(xa){var ya=xa.payload;fa=Object.assign(sa.initComments(ya.commentIDs,ya.idMap),fa);wa.afterCursor=ya.afterCursor;wa.commentIDs=wa.commentIDs.concat(ya.commentIDs).filter(ra);sa.emit('moreRepliesCompleted',{commentID:ua});sa.emit('change');}).setErrorHandler(function(xa){sa.emit('postError',xa);sa.emit('moreRepliesCompleted',{commentID:ua});}).send();},toggleVisibility:function(ua){var va=sa.getByID(ua);va.hidden=!va.hidden;sa.emit('change');},flag:function(ua){var va=n.getURIBuilder().getURI();new g(va).setData({app_id:ga.appID,comment_id:ua,iframe_referer:ga.iframeReferer}).setMethod('POST').setErrorHandler(function(za){sa.emit('postError',za);}).send();if(sa.isReply(ua)){var wa=sa.getByID(ua),xa=sa.getByID(wa.targetID),ya=xa.public_replies.commentIDs;ya.splice(ya.indexOf(ua),1);xa.public_replies.totalCount--;}delete fa[ua];ea.splice(ea.indexOf(ua),1);sa.emit('change');},showReplyComposer:function(ua){var va=sa.getByID(ua);if(sa.isReply(ua)){var wa=ua;va=sa.getByID(va.targetID);va.replyToCommentID=wa;}va.composer=true;sa.emit('change');},cancelReply:function(ua){var va=sa.getByID(ua);va.composer=false;delete va.replyToCommentID;sa.emit('change');}};sa.ActionHandler=ta;e.exports=sa;},null);
__d("CommentsPluginActions",["CommentsPluginStore","DevxProxyActions"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';e.exports=new h(g);},null);
__d("CommentsPluginHeader.react",["CommentsPluginActions","CommentsPluginStore","DeveloperCommentsPluginOrdering","LeftRight.react","Link.react","React","XUISelector.react","XUISpinner.react","XUIText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=m.Option,s=l.createClass({displayName:"CommentsPluginHeader",getInitialState:function(){return {sorting:false};},_onSortingChange:function(event){this.setState({sorting:true});h.addListener('sortingCompleted',function(){this.setState({sorting:false});h.removeCurrentListener();}.bind(this));g.sort(event.value);},render:function(){var t=null;if(h.getModerateURL())t=l.createElement("span",null,l.createElement("span",{className:"_52bm"},"|"),l.createElement(k,{href:h.getModerateURL(),target:"_blank"},q._("Moderation Tool")));return (l.createElement(j,{className:"_491z"},l.createElement("span",null,l.createElement(o,{weight:"bold"},h.getCommentsCount()!==1?q._("{count} commentaires",[q.param("count",h.getCommentsCount())]):q._("1 commentaire")),t),l.createElement("div",null,this.state.sorting?l.createElement(n,{size:"small",className:"_3-90"}):null,l.createElement("span",{className:"_pup"},q._("Trier par")),' ',l.createElement(m,{initialValue:h.getCurrentSorting(),onChange:this._onSortingChange},i.__types.map(function(u){return l.createElement(r,{value:u,key:u},i.__labels[u]);})))));}});e.exports=s;},null);
__d("MixinCommentsPluginDelete",["CommentsPluginActions","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p={_onDelete:function(){this.setState({deleteConfirmationShown:true});},_onDeleteConfirm:function(){g["delete"](this.props.commentID);this.setState({deleteConfirmationShown:false});},_onCancelDelete:function(){this.setState({deleteConfirmationShown:false});},_renderDeleteConfirmationDialog:function(q){return (h.createElement(i,{shown:this.state.deleteConfirmationShown,width:q},h.createElement(n,{showCloseButton:false},o._("Supprimer le commentaire")),h.createElement(j,null,o._("Souhaitez-vous vraiment supprimer ce commentaire\u00a0?")),h.createElement(m,null,h.createElement(l,{onClick:this._onCancelDelete}),h.createElement(k,{use:"confirm",label:o._("Supprimer"),onClick:this._onDeleteConfirm}))));}};e.exports=p;},null);
__d("CommentsPluginCommentActions.react",["ActionList.react","CommentsPluginActions","CommentsPluginStore","Image.react","Link.react","MixinCommentsPluginDelete","React","UFICommentMetadata.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();'use strict';var q=m,r=q.PropTypes,s=m.createClass({displayName:"CommentsPluginCommentActions",mixins:[l],propTypes:{commentID:r.string.isRequired},getInitialState:function(){return {deleteConfirmationShown:false};},_onLikeAction:function(){h.like(this.props.commentID);},_onReply:function(){h.showReplyComposer(this.props.commentID);},_onFlag:function(){h.flag(this.props.commentID);},_getLikeActionElem:function(t){if(!t.canLike&&i.isLoggedIn())return null;return (m.createElement(k,{onClick:this._onLikeAction},t.hasLiked?p._("Je n\u2019aime plus"):p._("J\u2019aime")));},render:function(){var t=i.getByID(this.props.commentID);return (m.createElement(g,{className:"_2vq9"},this._getLikeActionElem(t),m.createElement(k,{onClick:this._onReply},p._("R\u00e9pondre")),i.isMobile()?t.canEdit?m.createElement(k,{onClick:this._onDelete},p._("Supprimer")):m.createElement(k,{onClick:this._onFlag},p._("Signaler")):null,t.likeCount?m.createElement("span",null,m.createElement(j,{src:"/images/ufi/fbfeed/like.png",className:"_3-8_ _4iy4"}),t.likeCount):null,m.createElement(n,{comment:t,permalink:t.permalink,shortenTimestamp:true,showPermalink:!i.isReply(this.props.commentID),permalinkTarget:"_parent"}),i.isMobile()?this._renderDeleteConfirmationDialog(320):null));}});e.exports=s;},null);
__d("CommentsPluginComposerMirroringNotice.react",["CommentsPluginStore","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=h,l=k.PropTypes,m=h.createClass({displayName:"CommentsPluginComposerMirroringNotice",propTypes:{isReply:l.bool},render:function(){var n=g.getMirroredPage();if(!n)return null;return (h.createElement("div",{className:"_5sge _2ph-"},n.name?j._("Your {comment or reply} may also appear on {page name}'s Facebook Page.",[j.param("comment or reply",this.props.isReply?'reply':'comment'),j.param("page name",h.createElement("a",{href:n.uri,target:"blank"},n.name))]):j._("Your {comment or reply} may also appear on Facebook.",[j.param("comment or reply",this.props.isReply?'reply':'comment')])));}});e.exports=m;},null);
__d("CommentsPluginProfilePicture.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g,j=i.PropTypes,k=g.createClass({displayName:"CommentsPluginProfilePicture",propTypes:{href:j.string.isRequired,src:j.string.isRequired,isReply:j.bool},render:function(){return (g.createElement("a",g.__spread({},this.props,{href:this.props.href}),g.createElement("img",{className:((!this.props.isReply?"_1ci":'')+(this.props.isReply?' '+"_1cj":'')),src:this.props.src})));}});e.exports=k;},null);
__d("CommentsPluginComposer.react",["CommentsPluginStore","CommentsPluginComposerMirroringNotice.react","CommentsPluginProfilePicture.react","ComposedEntityMutability","ComposedEntityType","DocumentEntity","MentionsInput.Experimental.react","React","UFIImageBlock.react","UFICommentUtils.react","XUITypeaheadView.react","createEditorStateWithEntities","createEmptyEditorState","cx","fbt","getMentionsInputDecorator","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){b.__markCompiled&&b.__markCompiled();'use strict';var x=n,y=x.PropTypes;function z(ba){return l.create(k.MENTION,j.IMMUTABLE,{id:ba.id});}var aa=n.createClass({displayName:"CommentsPluginComposer",propTypes:{editCommentID:y.string,parentCommentIDOfNewReply:y.string,readOnly:y.bool,placeholder:y.node,alwaysExpanded:y.bool},getInitialState:function(){var ba=null,ca=null;if(this.props.editCommentID){ca=g.getByID(this.props.editCommentID);ba=r({text:ca.body.text,ranges:p.shallowCopyRanges(ca.ranges).filter(function(fa){return !fa.entity.external;}),decorator:v(),entityCreationFn:z});}else if(this.props.parentCommentIDOfNewReply){ca=g.getByID(this.props.parentCommentIDOfNewReply);if(ca.replyToCommentID){var da=g.getAuthor(ca.replyToCommentID),ea={id:da.id,text:da.name,offset:0,length:da.name.length,entity:{id:da.id}};ba=r({text:da.name,ranges:[ea],decorator:v(),entityCreationFn:z});}}if(!ba)ba=s(v());return {editorState:ba,expanded:!!this.props.alwaysExpanded};},_isCreatingTopLevelComment:function(){return !this.props.editCommentID&&!this.props.parentCommentIDOfNewReply;},componentDidMount:function(){g.addListener('composerCommentAdded',function(event){if(this._isCreatingTopLevelComment()){var ba=this.getInitialState();ba.expanded=true;this.setState(ba);}}.bind(this));},_onChange:function(ba){this.setState({editorState:ba});if(this.props.editCommentID){g.setEditComposerState(ba,this.props.editCommentID);}else g.setCreateComposerState(ba,this.props.parentCommentIDOfNewReply);},_isReplying:function(){if(this.props.editCommentID)return g.isReply(this.props.editCommentID);return !!this.props.parentCommentIDOfNewReply;},_onFocus:function(){this.setState({expanded:true});},render:function(){var ba=this.props.editCommentID?g.getAuthor(this.props.editCommentID):ba=g.getUser(),ca=this.props.placeholder||u._("Ajouter un commentaire..."),da=this._isReplying();return (n.createElement(o,{spacing:"medium",className:w((("_4uyl")+(da?' '+"_1zz6":'')+(!this.state.expanded?' '+"_1zz7":'')+(!!this.state.expanded?' '+"_1zz8":'')),this.props.className)},g.isMobile()?n.createElement("div",null):n.createElement(i,{href:ba.uri,src:ba.thumbSrc,isReply:da,target:"_blank"}),n.createElement("div",null,n.createElement(m,{className:(("_1cb")+(this.props.readOnly?' '+"_5pu_":'')),editorState:this.state.editorState,mentionsSource:g.getComposerSearchSource(),onChange:this._onChange,onFocus:this._onFocus,placeholder:ca,readOnly:this.props.readOnly,typeaheadView:q}),this.state.expanded?n.createElement("div",{className:"_4uym"},n.createElement(h,{isReply:da}),this.props.children):null)));}});e.exports=aa;},null);
__d("CommentsPluginComposerEdit.react",["CommentsPluginActions","CommentsPluginComposer.react","CommentsPluginStore","React","XUIButton.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=j,o=n.PropTypes,p=j.createClass({displayName:"CommentsPluginComposerEdit",getInitialState:function(){return {waitingAsyncResponse:false};},propTypes:{commentID:o.string.isRequired},componentDidMount:function(){i.addListener('composerChange',function(){return this.isMounted()&&this.forceUpdate();}.bind(this));},_post:function(){this.setState({waitingAsyncResponse:true});g.saveEdit(this.props.commentID);},_cancel:function(){g.cancelEdit(this.props.commentID);},_isDisabled:function(){return (this.state.waitingAsyncResponse||i.isEmptyEditComposer(this.props.commentID));},render:function(){return (j.createElement(h,{alwaysExpanded:true,readOnly:this.state.waitingAsyncResponse,editCommentID:this.props.commentID},j.createElement("div",{className:"_5tr6 clearfix _2ph_"},j.createElement(k,{disabled:this._isDisabled(),label:m._("Enregistrer"),use:"confirm",className:"rfloat _3-99",onClick:this._post}),j.createElement(k,{disabled:this.state.waitingAsyncResponse,label:m._("Annuler"),use:"default",className:"rfloat _3-99",onClick:this._cancel})),this.props.children));}});e.exports=p;},null);
__d("CommentsPluginMenu.react",["CommentsPluginActions","CommentsPluginStore","Image.react","MixinCommentsPluginDelete","ReactXUIMenu","PopoverMenu.react","React","Tooltip","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();'use strict';var q=m,r=q.PropTypes,s=k.Item,t=[{key:'hide',label:o._("Masquer le commentaire")},{key:'show',label:o._("Show comment")},{key:'flag',label:o._("Flag comment")},{key:'delete',label:o._("Supprimer le commentaire")},{key:'edit',label:o._("Modifier le commentaire")}],u=m.createClass({displayName:"CommentsPluginMenu",mixins:[j],propTypes:{commentID:r.string.isRequired},getInitialState:function(){return {deleteConfirmationShown:false,opened:false};},_onMenuShow:function(){this.setState({opened:true});},_onMenuHide:function(){this.setState({opened:false});},_toggleVisibility:function(){g.toggleVisibility(this.props.commentID);},_onAction:function(v,event){var w=event.item.getValue();if(w==='delete'){this._onDelete();return;}if(w==='show'||w==='hide'){this._toggleVisibility();return;}g[w](this.props.commentID);},_getMenuItem:function(v,w){var x=h.isReply(w.id);switch(v.key){case 'delete':case 'edit':if(!w.canEdit)return null;break;case 'flag':if(w.canEdit)return null;break;case 'show':if(x||!w.hidden)return null;break;case 'hide':if(x||w.hidden)return null;break;default:break;}return (m.createElement(s,{value:v.key,key:v.key},v.label));},render:function(){var v=h.getByID(this.props.commentID);return (m.createElement("div",null,m.createElement(l,{alignh:"right",onShow:this._onMenuShow,onHide:this._onMenuHide,menu:m.createElement(k,{onItemClick:this._onAction},t.map(function(w){return this._getMenuItem(w,v);}.bind(this)))},m.createElement("a",null,m.createElement(i,m.__spread({},n.propsFor(o._("Menu")),{src:p('/images/plugins/comments/chevron-down.png')})))),this._renderDeleteConfirmationDialog(400)));},isOpen:function(){return this.state.opened;}});e.exports=u;},null);
__d("CommentsPluginAuthorSelector.react",["ActorSelector.react","CommentsPluginActions","CommentsPluginStore","React","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=j.createClass({displayName:"CommentsPluginAuthorSelector",getInitialState:function(){return {selectedActorID:i.getUser().id};},_onActorChange:function(m){this.setState({selectedActorID:m.value});h.setUser(m.value);},_getTooltipForActorName:function(m){return (k._("Commenting as {actorName}",[k.param("actorName",m)]));},render:function(){var m=i.getActorIDs();return (m.length>1?j.createElement("div",{className:this.props.className},j.createElement(g,{actorIDs:m,coverEnabled:false,selectedActorID:this.state.selectedActorID,onChange:this._onActorChange,tooltipConstructor:this._getTooltipForActorName})):null);}});e.exports=l;},null);
__d("CommentsPluginComposerReply.react",["CommentsPluginActions","CommentsPluginAuthorSelector.react","CommentsPluginComposer.react","CommentsPluginStore","React","XUIButton.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=k,p=o.PropTypes,q=k.createClass({displayName:"CommentsPluginComposerReply",getInitialState:function(){return {waitingAsyncResponse:false};},propTypes:{commentID:p.string.isRequired},componentDidMount:function(){j.addListener('composerChange',function(){return this.isMounted()&&this.forceUpdate();}.bind(this));},_post:function(){this.setState({waitingAsyncResponse:true});g.addReply(this.props.commentID);},_cancel:function(){g.cancelReply(this.props.commentID);},_isDisabled:function(){return (this.state.waitingAsyncResponse||j.isEmptyCreateComposer(this.props.commentID));},render:function(){return (k.createElement(i,{alwaysExpanded:true,readOnly:this.state.waitingAsyncResponse,parentCommentIDOfNewReply:this.props.commentID,placeholder:n._("Ajouter une r\u00e9ponse...")},k.createElement("div",{className:"_5tr6 clearfix _2ph_"},k.createElement(l,{disabled:this._isDisabled(),label:n._("R\u00e9pondre"),use:"confirm",className:"rfloat _3-99",onClick:this._post}),k.createElement(l,{disabled:this.state.waitingAsyncResponse,label:n._("Annuler"),use:"default",className:"rfloat _3-99",onClick:this._cancel}),k.createElement(h,{className:"rfloat"}))));}});e.exports=q;},null);
__d("CommentsPluginComment.react",["ActorBio.react","CenteredContainer.react","CommentsPluginActions","CommentsPluginCommentActions.react","CommentsPluginComposerEdit.react","CommentsPluginProfilePicture.react","CommentsPluginMenu.react","CommentsPluginComposerReply.react","CommentsPluginStore","HovercardLinkInterpolator","Link.react","Image.react","React","TruncatedTextWithEntities.react","UFIActor.react","UFICommentUtils.react","UFIImageBlock.react","XUIGrayText.react","XUISpinner.react","XUIText.react","cx","fbt","joinClasses","nullthrows","xuiglyph"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){b.__markCompiled&&b.__markCompiled();'use strict';var fa=s,ga=fa.PropTypes,ha=s.createClass({displayName:"CommentsPluginComment",propTypes:{commentID:ga.string.isRequired},getInitialState:function(){return {showMenu:false};},_onMouseEnter:function(){this.setState({showMenu:true});},_onMouseLeave:function(){if(!this.refs.menu||!this.refs.menu.isOpen())this.setState({showMenu:false});},render:function(){var ja=da(o.getByID(this.props.commentID));if(ja.deleted)return null;if(ja.editor)return (s.createElement("div",{className:"_3-8y"},s.createElement(k,{commentID:this.props.commentID}),s.createElement(ia,{commentID:this.props.commentID,className:"_3j_p"})));var ka=v.shallowCopyRanges(ja.ranges),la=v.getCommentTextWithTruncatedURIs(ka,ja.body.text),ma=ja.hidden?s.createElement("div",{className:"_5mlf"},s.createElement(x,{shade:"light"},ba._("This comment is hidden"))):la?s.createElement(t,s.__spread({className:"_5mdd",text:la,ranges:ka,interpolator:function(ra,sa){return p(ra,sa,'_blank');}},o.getCommentBodyTruncationLimits(),{renderEmoticons:true,renderEmoji:true})):null,na=da(o.getByID(ja.authorID)),oa=o.isOptimisticComment(ja),pa=o.isReply(this.props.commentID),qa=o.isMobile();return (s.createElement(w,{className:(("_3-8y")+(!pa?' '+"_5nz1":'')),spacing:"medium",onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},s.createElement(l,{href:na.uri,src:na.thumbSrc,isReply:pa,target:"_blank"}),s.createElement("div",null,s.createElement(u,{author:na,delimiter:qa?' ':undefined,key:"author",showHovercard:!qa,target:"_blank"},na.bio?s.createElement("div",{className:"_4q1v"},s.createElement(g,{target:"_blank",preferredTypes:na.bio.preferredTypes,stats:na.bio.stats})):null),s.createElement("div",{className:"_3-8m"},ma),oa||ja.hidden?null:s.createElement(j,{commentID:this.props.commentID}),s.createElement(ia,{commentID:this.props.commentID})),s.createElement("div",null,this.state.showMenu&&!oa&&!qa?s.createElement(m,{ref:"menu",commentID:this.props.commentID}):null)));}}),ia=s.createClass({displayName:"CommentsPluginCommentReplies",propTypes:{commentID:ga.string.isRequired},getInitialState:function(){return {loading:false};},_onLoadMore:function(){this.setState({loading:true});o.addListener('moreRepliesCompleted',function(event){if(this.props.commentID===event.commentID){this.setState({loading:false});o.removeCurrentListener();}}.bind(this));i.showMoreReplies(this.props.commentID);},render:function(){var ja=o.getByID(this.props.commentID),ka=ja.public_replies;if(ka===undefined||ja.hidden===true)return ja.composer?s.createElement("div",{className:ca("_44ri _2pis _3-8y",this.props.className)},s.createElement(n,{commentID:this.props.commentID})):null;if(!ka.commentIDs)ka.commentIDs=[];var la=ka.totalCount-ka.commentIDs.length,ma=o.getPageSize(),na=la<ma?la:ma;return (s.createElement("div",{className:ca("_44ri _2pis",this.props.className)},ka.commentIDs.map(function(oa){if(oa===this.props.commentID)return null;return s.createElement(ha,{commentID:oa,key:oa});}.bind(this)),o.hasUnloadedReplies(this.props.commentID)&&la>0?s.createElement("div",{className:"_5yct _3-8y _3-96 _2ph-"},this.state.loading?s.createElement(h,null,s.createElement(y,{size:"small"})):s.createElement(q,{onClick:this._onLoadMore},s.createElement(z,{size:"small",weight:"bold"},na===1?ba._("Show 1 more reply in this thread"):ba._("Show {number of replies} more replies in this thread",[ba.param("number of replies",na)])),s.createElement(r,{src:ea({name:'triangle-down'})}))):null,ja.composer?s.createElement("div",{className:"_3-8y"},s.createElement(n,{commentID:this.props.commentID})):null));}});e.exports=ha;},null);
__d("CommentsPluginLoadMore.react",["CenteredContainer.react","CommentsPluginActions","CommentsPluginStore","React","XUIButton.react","XUISpinner.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=j.createClass({displayName:"CommentsPluginLoadMore",getInitialState:function(){return {loading:false};},_loadMore:function(){h.showMoreComments();this.setState({loading:true});i.addListener('moreCommentsCompleted',function(){this.setState({loading:false});i.removeCurrentListener();}.bind(this));},render:function(){var p=i.getUnloadedCommentsCount();if(!i.hasUnloadedComments()||p<1)return null;if(this.state.loading)return (j.createElement(g,{className:"_ndl"},j.createElement(l,{size:"large"})));var q=i.getPageSize(),r=p<q?p:q;return (j.createElement("div",{className:"_5o4h"},j.createElement(k,{className:"_1gl3",role:"button",onClick:this._loadMore,label:r===1?n._("Load 1 more comment"):n._("Load {pagesize} more comments",[n.param("pagesize",r)])})));}});e.exports=o;},null);
__d("CommentsPluginListing.react",["CommentsPluginComment.react","CommentsPluginLoadMore.react","CommentsPluginStore","React","cx"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=j.createClass({displayName:"CommentsPluginListing",render:function(){var m=i.getCommentIDs(),n=m.map(function(o){return j.createElement(g,{commentID:o,key:o});});return (j.createElement("div",{className:"_4k-6"},n,j.createElement(h,null)));}});e.exports=l;},null);
__d("CommentsPluginComposerComment.react",["CommentsPluginActions","CommentsPluginAuthorSelector.react","CommentsPluginComposer.react","CommentsPluginStore","LeftRight.react","React","XUIButton.react","XUICheckboxInput.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();'use strict';var q=l.createClass({displayName:"CommentsPluginComposerComment",getInitialState:function(){return {selectedActorID:j.getUser().id,postToFeed:false,waitingAsyncResponse:false};},componentDidMount:function(){j.addListener('composerChange',function(){return this.forceUpdate();}.bind(this));j.addListener('composerCommentAdded',function(event){this.setState({waitingAsyncResponse:false});}.bind(this));},_onPostToFeedChange:function(event){var r=!this.state.postToFeed;this.setState({postToFeed:r});g.setPostToFeed(r);},_getSelectedActorID:function(){var r=this.state.selectedActorID;if(r!==j.LOGGED_OUT_USER)return r;return j.getUser().id;},_post:function(){this.setState({waitingAsyncResponse:true});g.setPostToFeed(this.state.postToFeed);g.addComment();},_isDisabled:function(){return (this.state.waitingAsyncResponse||j.isEmptyCreateComposer());},render:function(){var r=j.isLoggedIn()?p._("Publier"):p._("Log In to Post");return (l.createElement(i,{className:"_2392",readOnly:this.state.waitingAsyncResponse},l.createElement(k,{className:"_5tr6 clearfix _2ph-"},!j.isMirrored()?l.createElement("span",null,l.createElement(n,{checked:this.state.postToFeed,onChange:this._onPostToFeedChange}),l.createElement("span",{className:"_3-99 _2ern _50f8 _5kx5"},p._("Publier \u00e9galement sur Facebook"))):l.createElement("span",null),l.createElement("span",null,l.createElement(m,{disabled:this._isDisabled(),label:r,use:"confirm",className:"rfloat _3-99",onClick:this._post}),l.createElement(h,{className:"rfloat"})))));}});e.exports=q;},null);
__d("CommentsPlugin.react",["CommentsPluginFooter.react","CommentsPluginHeader.react","CommentsPluginListing.react","CommentsPluginComposerComment.react","CommentsPluginStore","DOMQuery","PluginResize","React","SimpleXUIDialog","cx","fbt","getElementPosition","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();'use strict';var t=n,u=t.PropTypes,v=n.createClass({displayName:"CommentsPlugin",propTypes:{comments:u.object.isRequired,meta:u.object.isRequired,initialOrdering:u.string.isRequired},componentWillMount:function(){k.init(this.props.comments,this.props.meta,this.props.initialOrdering);k.addListener('postError',function(w){o.show(!!w.errorSummary?w.errorSummary:q._("Une erreur s\u2019est produite. Veuillez r\u00e9essayer plus tard."));});},componentDidMount:function(){m.auto(n.findDOMNode(this));var w=n.findDOMNode(this);new m(function(){return w.offsetWidth;},function(){var x=w.offsetHeight;if(k.getCommentsCount()>1)return x;var y=l.scry(document.body,'.uiLayer:not(.hidden_elem) .uiContextualLayer');if(y.length===0)return x;var z=r(y[0]);return Math.max(x,z.y+z.height+1);},'resize.iframe',false).resize().auto();k.addListener('change',function(){this.forceUpdate();}.bind(this));},render:function(){return (n.createElement("div",{className:s("_56q9",this.props.className)},n.createElement("div",{className:"_2pi8"},n.createElement(h,null),n.createElement(j,null),n.createElement(i,null),n.createElement(g,null))));}});e.exports=v;},null);