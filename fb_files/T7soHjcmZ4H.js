/*!CK:4218766959!*//*1427726750,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["qvsM4"]); }

__d("AdminSignatureConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={SETTING_ATTACH_TO_POST:"shouldAttachToPost",SETTING_ATTACH_TO_COMMENT:"shouldAttachToComment",SETTING_ATTACH_TO_MESSAGE:"shouldAttachToMessage",SETTING_EVER_PROMPTED:"everPromptedUser",SETTING_SIGNATURE_TEXT:"signature",FIELD_PAGE_ID:"pageID",FIELD_SIGNATURE_OPTION_FIELD:"signatureOption",FIELD_SIGNATURE_OPTION_VALUE_FIELD:"signatureOptionValue",FIELD_SIGNATURE_TEXT_FIELD:"signatureText",EVENT_ADMIN_SIGNATURE_PROMPTED:"AdminSignature\/prompted",EVENT_ADMIN_SIGNATURE_SETTING_CHANGED:"AdminSignatureSetting\/changed"};},null);
__d("PagesPrivateReplyConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={Status:{REPLYABLE:"replyable",ALREADY_REPLIED:"already_replied",RECIPIENT_FILTER:"recipient_filter",EXPIRED:"expired",NOT_USER_CREATED:"not_user_created"},Type:{COMMENT_PAGE_POST:"comment_page_post",COMMENT_WALL_POST:"comment_wall_post",COMMENT_REVIEW:"comment_review",REVIEW:"review",WALL_POST:"wall_post"}};},null);
__d("StickerConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},ActionTypes:{ADD_PACK:"ADD_PACK",REMOVE_PACK:"REMOVE_PACK",SELECT_PACK:"SELECT_PACK",RESET_NUM_NEW_PACKS:"RESET_NUM_NEW_PACKS"},EMOTICON_PACK_ID:"1471127876485636",DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120};},null);
__d("StickerInterfaces",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={MESSAGES:"messages",COMMENTS:"comments",STICKERED:"stickered",COMPOSER:"composer"};},null);
__d("TrackingNodeTypes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={HEADLINE:1,USER_NAME:2,ACTOR_PHOTO:3,ACTION_LINKS:4,LIKE_LINK:5,UNLIKE_LINK:6,PARTICIPANT:7,PRONOUN:8,ROBOTEXT:9,TITLE:10,MEDIA_GENERIC:11,PHOTO:12,VIDEO:13,MUSIC:14,ATTACHMENT:15,NAME_LIST:16,SHARE_LINK:17,USER_MESSAGE:18,SUBTITLE:19,DESCRIPTION:20,SOURCE:21,BLINGBOX:22,OTHER:23,VIEW_ALL_COMMENTS:24,COMMENT:25,COMMENT_LINK:26,SMALL_ACTOR_PHOTO:27,SUBSTORY:28,XBUTTON:29,HIDE_LINK:30,REPORT_SPAM_LINK:31,HIDE_ALL_LINK:32,BAD_AGGREGATION_LINK:33,ADD_COMMENT_BOX:34,APP_CALL_TO_ACTION:35,UFI:36,OG_LEFT_SLIDE_PAGER:37,OG_RIGHT_SLIDE_PAGER:38,EXP_CALL_TO_ACTION:39,LARGE_MEDIA_ATTACHMENT:40,FAN_PAGE:42,UNFAN_PAGE:43,SEE_MORE:44,COLLECTION_ROBOTEXT_LINK:45,COLLECTION_ACTION_LINK:46,COLLECTION_TICKER_LINK:47,SPONSORED_LINK:49,PAGE_LINK:50,SOCIAL_CONTEXT:51,SOCIAL_ACTOR_PHOTO:52,OFFERS_CLAIM:53,OFFERS_CLICK:54,DROPDOWN_BUTTON:55,EVENT_VIEW:56,EVENT_RSVP:57,ADS_SHIMMED_LINK:58,COLLECTION_ADD_BUTTON:59,EVENT_INVITE_FRIENDS:60,RHC_AD:61,AD_CREATIVE_TITLE:62,AD_CREATIVE_BODY:63,AD_CREATIVE_IMAGE:64,AD_SOCIAL_SENTENCE:65,APP_NAME:66,GROUP_JOIN:67,PAGE_COVER_PHOTO:68,PAGE_PROFILE_PIC:69,AD_IDENTITY:70,UNHIDE_LINK:71,TRENDING_TOPIC_LINK:72,RELATED_SHARE_ARTICLE:73,OFFERS_USE_NOW:74,RELATED_SHARE_VIDEO:75,RHC_CARD:76,RHC_CARD_HIDE:77,RHC_SIMPLIFICATION:78,RHC_SIMPLIFICATION_HIDE:79,TOPIC_PIVOT_HEADER:80,ADD_FRIEND_BUTTON:81,SNOWLIFT:82,SNOWLIFT_MESSAGE:83,OFFERS_RESEND:84,RHC_LINK_OPEN:85,GENERIC_CALL_TO_ACTION_BUTTON:86,AD_LOGOUT:87,RHC_PHOTO_SLIDER:88,RHC_COMMENT_BUTTON:89,HASHTAG:90,NOTE:91,RELATED_SHARE_ARTICLE_HIDE:92,RELATED_SHARE_VIDEO_HIDE:93,NEKO_PREVIEW:94,OG_COMPOSER_OBJECT:95,INSTALL_ACTION:96,SPONSORED_CONTEXT:97,DIGITAL_GOOD:98,STORY_FOOTER:99,STORY_LOCATION:100,ADD_PHOTO_ACTION:101,ACTION_ICON:102,EGO_FEED_UNIT:103,PLACE_STAR_SURVEY:104,REVIEW_MENU:105,SAVE_ACTION:106,PHOTO_GALLERY:107,SUB_ATTACHMENT:108,FEEDBACK_SECTION:109,ALBUM:110,ALBUM_COLLAGE:111,AVATAR_LIST:112,STORY_LIST:113,MEDIA_CONTROLS:114,ZERO_UPSELL_BUY:115,ZERO_UPSELL_FEED_UNIT:116,RATING:117,PERMALINK_COMMENT:118,LIKE_COUNT:119,RETRY_BUTTON:120,TIMELINE_GIFTS:121,NEARBY_FRIENDS_LIST:122,PRESENCE_UNIT:123,EVENT_INVITE_SENT:124,ATTACHMENT_TITLE:125,HSCROLL_PAGER:126,STORY_MESSAGE:127,STATUS_LINK:128,ADD_MEDIA_LINK:129,ADD_QUESTION_LINK:130,START_Q_AND_A_LINK:131,UPLOAD_FILE_LINK:132,START_CONVERSATION_LINK:133,ATTACH_LIFE_EVENT_LINK:134,ATTACH_PLACE_LINK:135,COVER_PHOTO_EDIT_LINK:136,SHOW_LIKES:137,ROTATE_LEFT_BUTTON:138,ROTATE_RIGHT_BUTTON:139,TAG_LINK:140,CLOSE_BUTTON:141,PAGER_NEXT:142,PAGER_PREVIOUS:143,FULLSCREEN_BUTTON:144,ACTIONS:145,CURATION_MENU:146,PROFILE_PIC_EDIT_LINK:147,VIEW_ALL_SHARES:148,THUMBNAIL_LINK:149,EDIT_HISTORY:150,ADD_TO_THREAD:151,SIDEBAR:152,HOME_SIDENAV:153,BUDDYLIST_NUB:154,TITLEBAR:155,SEND_BUTTON:156,CONVERSATION:157,CHAT_FLYOUT:158,INPUT:159,EMOTICONS:160,VIDEOCHAT:161,TYPEAHEAD:162,OPTIONS_MENU:163,BOOST_POST_BUTTON:164,TOGGLE_BUTTON:165,CHAT_SIDEBAR_FOOTER:166,GRIPPER:167,BOOKMARK_ITEM:168,BOOKMARKS_SECTION:169,BOOKMARKS_NAV:170,RHC:171,RHC_HEADER:172,SIDE_ADS:173,BUDDY_LIST:174,SHOW_ADS_FEED:184,VIDEO_IN_PLAY_CALL_TO_ACTION_BUTTON:185,VIDEO_ENDSCREEN_CALL_TO_ACTION_BUTTON:186,INLINE_PHOTO_PIVOTS_HIDE:187,VIDEO_CALL_TO_ACTION_ENDSCREEN_REPLAY:188,APP_ATTACHMENT:189,ACTIVITY_LINK:190,SAVE_BUTTON:191,SEE_MORE_PHOTO_PAGE_POST_BUTTON:192,BUY_VIRTUAL_GOOD:193,SAVE_SECONDARY_MENU:194,MPP_INSIGHTS:195,WAP_FOOTER:196,GROUP_CANCEL:197,GROUP_LEAVE:198,MESSAGE_LINK:199,VIDEO_SPONSORSHIP_LABEL:200,MULTI_ATTACHMENT_PAGER_NEXT:201,MULTI_ATTACHMENT_PAGER_PREV:202,WEB_CLICK:203,COMPOSER_POST:204,UNUSED:-1};},null);
__d("UFITranslationConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={BING_PAGE_URL:"http:\/\/bing.com\/translator",BING_TRANSLATOR_APP:"bing",FB_TRANSLATOR_APP:"fb"};},null);
__d("ClickPointIdentifiersDEPRECATED",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={types:{TIMELINE_SEE_LIKERS:'timeline:seelikes'},getUserActionID:function(h){return '{"ua_id":"'+h+'"}';}};e.exports=g;},null);
__d("TrackingNodes",["TrackingNodeTypes"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={types:g,BASE_CODE_START:58,BASE_CODE_END:126,BASE_CODE_SIZE:69,PREFIX_CODE_START:42,PREFIX_CODE_END:47,PREFIX_CODE_SIZE:6,TN_URL_PARAM:'__tn__',encodeTN:function(i,j){var k=(i-1)%h.BASE_CODE_SIZE,l=parseInt((i-1)/h.BASE_CODE_SIZE,10);if(i<1||l>h.PREFIX_CODE_SIZE)throw Error('Invalid tracking node: '+i);var m="";if(l>0)m+=String.fromCharCode(l-1+h.PREFIX_CODE_START);m+=String.fromCharCode(k+h.BASE_CODE_START);if(typeof j!="undefined"&&j>0)m+=String.fromCharCode(48+Math.min(j,10)-1);return m;},decodeTN:function(i){if(i.length===0)return [0];var j=i.charCodeAt(0),k=1,l,m;if(j>=h.PREFIX_CODE_START&&j<=h.PREFIX_CODE_END){if(i.length==1)return [0];m=j-h.PREFIX_CODE_START+1;l=i.charCodeAt(1);k=2;}else{m=0;l=j;}if(l<h.BASE_CODE_START||l>h.BASE_CODE_END)return [0];var n=m*h.BASE_CODE_SIZE+(l-h.BASE_CODE_START)+1;if(i.length>k&&(i.charAt(k)>='0'&&i.charAt(k)<='9'))return [k+1,[n,parseInt(i.charAt(k),10)+1]];return [k,[n]];},parseTrackingNodeString:function(i){var j=[];while(i.length>0){var k=h.decodeTN(i);if(k.length==1)return [];j.push(k[1]);i=i.substring(k[0]);}return j;},getTrackingInfo:function(i,j){return '{"tn":"'+h.encodeTN(i,j)+'"}';},addDataAttribute:function(i,j,k){if(j===(void 0))return;['data-ft','data-gt'].forEach(function(l){var m;if(i.getAttribute){m=i.getAttribute(l)||"{}";}else if(i.props){m=i.props[l]||"{}";}else return;var n=h.encodeTN(j,k);try{m=JSON.parse(m);if(m.tn&&m.tn===n)return;m.tn=n;if(i.setAttribute){i.setAttribute(l,JSON.stringify(m));}else if(i.props){i.props[l]=JSON.stringify(m);}else return;}catch(o){}});}};e.exports=h;},null);
__d("NumberFormat",["NumberFormatConfig"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=/(\d{3})(?=\d)/g;function i(l){return (''+l).split('').reverse().join('');}function j(l,m){if(Math.abs(l).toString().length<g.minDigitsForThousandsSeparator)return l.toString();var n=i(l);return i(n.replace(h,'$1'+m));}var k={formatIntegerWithDelimiter:j,formatInteger:function(l){return j(l,g.numberDelimiter);}};e.exports=k;},null);
__d("UFIBlingItem.react",["React","NumberFormat","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g,m=l.PropTypes,n=g.createClass({displayName:"UFIBlingItem",propTypes:{contextArgs:m.object.isRequired,count:m.number.isRequired,countreduced:m.string,allowText:m.bool,className:m.string,iconClassName:m.string,itemKey:m.string},render:function(){var o=k(this.props.className,this.props.iconClassName,"UFIBlingBoxSprite"),p=h.formatIntegerWithDelimiter(this.props.count,this.props.contextArgs.numberdelimiter||','),q=p,r=this.props.contextArgs.ufiexperiments||{};if(this.props.allowText||r.showRevisedUFI)switch(this.props.itemKey){case 'like':if(r.showRevisedUFI)q=j._({"Like":"{count} mention J\u2019aime","Likes":"{count} mentions J\u2019aime"},[j.param("count",r.truncateNumbers?this.props.countreduced:q),j['enum'](this.props.count===1?'Like':'Likes',{Like:"Like",Likes:"Likes"})]);break;case 'comment':if(r.showRevisedUFI)q=j._({"Comment":"{count} commentaire","Comments":"{count} commentaires"},[j.param("count",r.truncateNumbers?this.props.countreduced:q),j['enum'](this.props.count===1?'Comment':'Comments',{Comment:"Comment",Comments:"Comments"})]);break;case 'reshare':if(this.props.contextArgs.reshareedu||r.showRevisedUFI)q=j._({"Share":"{count} partage","Shares":"{count} partages"},[j.param("count",r.truncateNumbers?this.props.countreduced:q),j['enum'](this.props.count===1?'Share':'Shares',{Share:"Share",Shares:"Shares"})]);break;}var s=null;if(!r.showRevisedUFI)s=g.createElement("i",{className:o});return (g.createElement("span",null,s,g.createElement("span",{className:(("UFIBlingBoxText")+(r.showRevisedUFI?' '+"UFIBlingBoxTextRevised":''))},q)));}});e.exports=n;},null);
__d("UFIBlingBox.react",["React","UFIBlingItem.react","UFIConstants","cx","fbt","FeedNFBConstants"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=b('FeedNFBConstants').data,m=g,n=m.PropTypes,o=g.createClass({displayName:"UFIBlingBox",propTypes:{contextArgs:n.object.isRequired,'data-ft':n.string,comments:n.number,commentsreduced:n.string,likes:n.number,likesreduced:n.string,nfb:n.number,onClick:n.func,permalink:n.string,reshares:n.number,resharesreduced:n.string},render:function(){var p=[],q='';if(this.props.likes){p.push(g.createElement(h,{className:((p.length>0?"mls":'')),contextArgs:this.props.contextArgs,count:this.props.likes,countreduced:this.props.likesreduced,iconClassName:"UFIBlingBoxLikeIcon",itemKey:"like",key:"like"}));q+=(this.props.likes==1)?k._("1 J\u2019aime"):k._({"*":"{count} J\u2019aime"},[k.param("count",this.props.likes,[0])]);q+=' ';}if(this.props.comments){p.push(g.createElement(h,{className:((p.length>0?"mls":'')),contextArgs:this.props.contextArgs,count:this.props.comments,countreduced:this.props.commentsreduced,iconClassName:"UFIBlingBoxCommentIcon",itemKey:"comment",key:"comment"}));q+=(this.props.comments==1)?k._("1 commentaire"):k._({"*":"{count} commentaires"},[k.param("count",this.props.comments,[0])]);q+=' ';}if(this.props.reshares){p.push(g.createElement(h,{className:((p.length>0?"mls":'')),contextArgs:this.props.contextArgs,count:this.props.reshares,countreduced:this.props.resharesreduced,iconClassName:"UFIBlingBoxReshareIcon",itemKey:"reshare",key:"reshare"}));q+=(this.props.reshares==1)?k._("1 partage"):k._({"*":"{count} partages"},[k.param("count",this.props.reshares,[0])]);}if(this.props.nfb&&l){p.push(g.createElement(h,{className:((p.length>0?"mls":'')),contextArgs:this.props.contextArgs,count:this.props.nfb,iconClassName:"_1ufb",itemKey:"nfb",key:"nfb"}));q+=(this.props.nfb==1)?l.ONE_NFB:k._("{nfb count}{nfb text}",[k.param("nfb count",this.props.nfb),k.param("nfb text",l.MULT_NFB)]);q+=' ';}var r=this.props.onClick,s='ignore';if(this.props.comments>i.defaultPageSize){r=null;s=null;}var t=this.props.contextArgs.ufiexperiments||{},u=g.createElement("a",{className:(("UFIBlingBox")+(' '+"uiBlingBox")+(' '+"feedbackBling")+(t.showRevisedUFI?' '+"UFIBlingBoxRevised":'')),href:this.props.permalink,"data-ft":this.props['data-ft'],"aria-label":q,onClick:r,rel:s},p);return u;}});e.exports=o;},null);
__d("UFICommentLink.react",["Image.react","React","TrackingNodes","emptyFunction","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=h,n=m.PropTypes,o=h.createClass({displayName:"UFICommentLink",propTypes:{ufiExperiments:n.object,onClick:n.func},getDefaultProps:function(){return {ufiExperiments:{},onClick:j};},render:function(){var p=this.props.ufiExperiments,q=k._("Commenter"),r=k._("Commenter"),s='{ "tn": "'+i.encodeTN(i.types.COMMENT_LINK)+'", "type": 24 }',t=null;if(p.showRevisedUFI)t=h.createElement(g,{className:"UFICommentLinkIcon",src:l('/images/ufi/fbfeed/comment_gray.png')});return (h.createElement("a",{className:"comment_link",href:"#",role:"button",title:r,onClick:this.props.onClick,"data-ft":s},t,q));}});e.exports=o;},null);
__d("UFIInstanceState",["UFICentralUpdates"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={};function i(k){if(!h[k])h[k]={};}var j={getKeyForInstance:function(k,l){i(k);return h[k][l];},updateState:function(k,l,m){i(k);h[k][l]=m;g.didUpdateInstanceState(k,l);},updateStateField:function(k,l,m,n){var o=this.getKeyForInstance(k,l)||{};o[m]=n;this.updateState(k,l,o);}};e.exports=j;},null);
__d("UFILikeLink.react",["React","Image.react","TrackingNodes","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=g,n=m.PropTypes,o=g.createClass({displayName:"UFILikeLink",propTypes:{likeAction:n.bool,ufiExperiments:n.object,onClick:n.func},getDefaultProps:function(){return {ufiExperiments:{}};},onClick:function(p,q){p.preventDefault();this.props.onClick(p,q);},render:function(){var p=this.props.ufiExperiments,q=this.props.likeAction||p.showRevisedUFI?k._("J\u2019aime"):k._("Je n\u2019aime plus"),r=i.getTrackingInfo(this.props.likeAction?i.types.LIKE_LINK:i.types.UNLIKE_LINK),s=this.props.likeAction?k._("Aimer \u00e7a"):k._("Ne plus aimer"),t=null;if(p.showRevisedUFI)t=g.createElement(h,{className:"UFILikeLinkIcon",src:this.props.likeAction?l('/images/ufi/fbfeed/like_gray.png'):l('/images/ufi/fbfeed/liked.png')});return (g.createElement("a",{className:(("UFILikeLink")+(p.showRevisedUFI&&!this.props.likeAction?' '+"UFILinkBright":'')),href:"#",role:"button","aria-live":"polite",title:s,onClick:this.onClick,"data-ft":r},t,q));}});e.exports=o;},null);
__d("UFIShareLink.react",["Event","React","Image.react","TrackingNodes","ShareDialogShareProperties","XUISpinner.react","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=h,q=p.PropTypes,r=null,s=null,t=h.createClass({displayName:"UFIShareLink",propTypes:{ufiExperiments:q.object,href:q.oneOfType([q.object,q.string]).isRequired},componentDidMount:function(){r=g.listen(h.findDOMNode(this),'propsReceived',this.props.onReceiveAsyncProps);s=g.listen(h.findDOMNode(this),'click',this.props.onClick);},componentWillUnmount:function(){r.remove();s.remove();},render:function(){var u=n._("Envoyez ceci \u00e0 vos amis ou publiez-le sur votre journal."),v='{ "tn": "'+j.encodeTN(j.types.SHARE_LINK)+'", "type": 25 }',w=this.props.ufiExperiments,x=null;if(w.showRevisedUFI)x=h.createElement(i,{className:"UFIShareLinkIcon",src:o('/images/ufi/fbfeed/share_gray.png')});var y=null;if(this.props.rel==='async')y=h.createElement(l,{className:"UFIShareLinkSpinner",showOnAsync:true});return (h.createElement("a",{className:(("share_action_link")),"data-ft":v,"data-dialog-width":w.isReactShareDialog?k.WIDTH:null,"data-dialog-title":w.isReactShareDialog?k.TITLE:null,ajaxify:this.props.href,href:"#",onClick:this.props.onClick,rel:this.props.rel||"dialog",title:u},x,n._("Partager"),y));}});e.exports=t;},null);
__d("UFISubscribeLink.react",["React","fbt"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.PropTypes,k=g.createClass({displayName:"UFISubscribeLink",propTypes:{subscribeAction:j.bool,onClick:j.func},render:function(){var l=this.props.subscribeAction?h._("Recevoir les notifications"):h._("D\u00e9sactiver les notifications"),m=this.props.subscribeAction?h._("Recevoir une notification \u00e0 chaque fois que quelqu\u2019un commente."):h._("D\u00e9sactiver les notifications lorsque quelqu\u2019un commente.");return (g.createElement("a",{className:"UFISubscribeLink",href:"#",role:"button","aria-live":"polite",title:m,onClick:this.props.onClick},l));}});e.exports=k;},null);
__d("ProfileBrowserLink",["URI"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h='/ajax/browser/dialog/',i='/browse/',j=function(l,m,n){return new g(l+m).setQueryData(n);},k={constructPageURI:function(l,m){return j(i,l,m);},constructDialogURI:function(l,m){return j(h,l,m);}};e.exports=k;},null);
__d("ProfileBrowserTypes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={LIKES:'likes',GROUP_MEMBERS:'group_members',GROUP_MESSAGE_VIEWERS:'group_message_viewers',MUTUAL_FRIENDS:'mutual_friends',TODO_LIST_ASSIGNEES:'todo_list_assignees',TOPIC_CONVERSATION_PARTICIPANTS:'topic_conversation_participants'};e.exports=g;},null);
__d("UFITimelineBlingBox.react",["ProfileBrowserLink","ProfileBrowserTypes","React","UFIBlingItem.react","URI","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=i,o=n.PropTypes,p=i.createClass({displayName:"UFITimelineBlingBox",propTypes:{contextArgs:o.object.isRequired,'data-ft':o.string,'data-gt':o.string,actorid:o.any,commentOnClick:o.func,comments:o.number,commentsreduced:o.string,enableShowComments:o.bool,enableShowLikes:o.bool,feedbackFBID:o.any,likes:o.number,likesreduced:o.string,reshares:o.number,resharesreduced:o.string},render:function(){var q=[];if(this.props.likes&&this.props.enableShowLikes){var r=this._getProfileBrowserURI(),s=m._("Voir qui aime \u00e7a"),t=i.createElement("a",{ajaxify:r.dialog,className:this._getItemClassName(q),"data-ft":this.props['data-ft'],"data-gt":this.props['data-gt'],"data-hover":"tooltip","data-tooltip-alignh":"right","data-tooltip-uri":this._getLikeToolTipURI(),href:r.page,key:"like",rel:"dialog",role:"button",title:s},i.createElement(j,{contextArgs:this.props.contextArgs,count:this.props.likes,countreduced:this.props.likesreduced,iconClassName:"UFIBlingBoxTimelineLikeIcon",itemKey:"like"}));q.push(t);}if(this.props.comments&&this.props.enableShowComments){var u=m._("Afficher les commentaires"),v=i.createElement("a",{"aria-label":u,className:this._getItemClassName(q),"data-ft":this.props['data-ft'],"data-hover":"tooltip","data-tooltip-alignh":"right",href:"#",key:"comment",onClick:this.props.commentOnClick},i.createElement(j,{contextArgs:this.props.contextArgs,count:this.props.comments,countreduced:this.props.commentsreduced,iconClassName:"UFIBlingBoxTimelineCommentIcon",itemKey:"comment"}));q.push(v);}if(this.props.reshares){var w=m._("Afficher les partages"),x=this._getShareViewURI(),y=i.createElement("a",{ajaxify:x.dialog,"aria-label":w,className:this._getItemClassName(q),"data-ft":this.props['data-ft'],"data-hover":"tooltip","data-tooltip-alignh":"right",href:x.page,key:"reshare",rel:"async"},i.createElement(j,{allowText:true,contextArgs:this.props.contextArgs,count:this.props.reshares,countreduced:this.props.resharesreduced,iconClassName:"UFIBlingBoxTimelineReshareIcon",itemKey:"reshare"}));q.push(y);}return (i.createElement("span",null,q));},_getItemClassName:function(q){return ((q.length>0?"mls":'')+(' '+"UFIBlingBoxTimelineItem"));},_getLikeToolTipURI:function(){if(this.props.feedbackFBID){var q=new k('/ajax/like/tooltip.php').setQueryData({comment_fbid:this.props.feedbackFBID});return q.toString();}else return null;},_getProfileBrowserURI:function(){if(this.props.feedbackFBID){var q=h.LIKES,r={id:this.props.feedbackFBID,actorid:this.props.actorid},s=g.constructDialogURI(q,r),t=g.constructPageURI(q,r),u={dialog:s.toString(),page:t.toString()};return u;}},_getShareViewURI:function(){if(this.props.feedbackFBID){var q=new k('/ajax/shares/view').setQueryData({target_fbid:this.props.feedbackFBID}),r=new k('/shares/view').setSubdomain('www').setQueryData({id:this.props.feedbackFBID}),s={dialog:q.toString(),page:r.toString()};return s;}}});e.exports=p;},null);
__d("MercuryLoggingHelper",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={obfuscateThread:function(h){var i=Object.assign({},h);if(h&&h.snippet&&h.snippet.length>5)i.snippet=h.snippet.substr(0,5)+'...';return i;},obfuscateMessage:function(h){var i=Object.assign({},h);if(h&&h.body&&h.body.length>5)i.body=h.body.substr(0,5)+'...';return i;}};e.exports=g;},null);
__d("MercuryServerDispatcher",["AsyncRequest","CurrentUser","LogHistory","MercuryLoggingHelper","areJSONRepresentationsEqual","copyProperties","debounceAcrossTransitions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n={},o=i.getInstance('mercury_dispatcher'),p=false,q={IMMEDIATE:'immediate',IDEMPOTENT:'idempotent',BATCH_SUCCESSIVE:'batch-successive',BATCH_SUCCESSIVE_UNIQUE:'batch-successive-unique',BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:'batch-successive-piggyback-retry',BATCH_DEFERRED_MULTI:'batch-deferred-multi',BATCH_CONDITIONAL:'batch-conditional',DEFAULT_ENDPOINT_ID:'mercuryServerDispatcherDefaultEndpointID',registerEndpoints:function(t){for(var u in t){var v=t[u],w=v.request_user_id||h.getID(),x=v.endpoint_id||q.DEFAULT_ENDPOINT_ID;if(!n[u])n[u]={};if(!n[u][w])n[u][w]={};n[u][w][x]=new r(u,v);}},trySend:function(t,u,v,w,x){w=w||h.getID();x=x||q.DEFAULT_ENDPOINT_ID;n[t][w][x].trySend(u,v);}};function r(t,u){var v=u.mode||q.IMMEDIATE;switch(v){case q.IMMEDIATE:case q.IDEMPOTENT:case q.BATCH_SUCCESSIVE:case q.BATCH_SUCCESSIVE_UNIQUE:case q.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case q.BATCH_DEFERRED_MULTI:case q.BATCH_CONDITIONAL:break;default:throw new Error('Invalid MercuryServerDispatcher mode '+v);}this._endpoint=t;this._mode=v;this._requestUserID=u.request_user_id;this._combineData=u.batch_function;this._combineDataIf=u.batch_if;this._batchSizeLimit=u.batch_size_limit;this._batches=[];this._handler=u.handler;this._errorHandler=u.error_handler;this._transportErrorHandler=u.transport_error_handler||u.error_handler;this._connectionRetries=u.connection_retries||0;this._timeoutHandler=u.timeout_handler;this._timeout=u.timeout;this._serverDialogCancelHandler=u.server_dialog_cancel_handler||u.error_handler;this._sendAttemptLoggingHandler=u.send_attempt_logging_handler;this._auto_retries=u.auto_retries||0;this._deferredSend=m(this._batchSend,0,this);}l(r.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,_sendAttemptLoggingHandler:null,trySend:function(t,u){if(p)return;if(t===(void 0))t=null;var v=u||this._mode;if(v==q.IMMEDIATE){this._send(t);}else if(v==q.IDEMPOTENT){if(!this._inFlight)this._send(t);}else if(v==q.BATCH_SUCCESSIVE||v==q.BATCH_SUCCESSIVE_UNIQUE){if(!this._inFlight){this._send(t);}else this._batchData(t);}else if(v==q.BATCH_CONDITIONAL){var w=this._batches[0]&&this._batches[0].getData();if(this._inFlight&&(this._combineDataIf(this._pendingRequestData,t)||this._combineDataIf(w,t))){this._batchData(t);}else this._send(t);}else if(v==q.BATCH_DEFERRED_MULTI){this._batchData(t);this._deferredSend();}else if(v==q.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR){this._batchData(t);if(!this._inFlight)this._batchSend();}},_send:function(t){this._inFlight++;this._pendingRequestData=l({},t);if(this._requestUserID!=h.getID())t.request_user_id=this._requestUserID;var u=[];if(t&&t.message_batch)for(var v=0;v<t.message_batch.length;v++){var w=j.obfuscateMessage(t.message_batch[v]);u.push(w);}var x=u.length?l({},t,{message_batch:u}):t;o.log('send',{endpoint:this._endpoint,data:x,inflight_count:this._inFlight});var y=new g(this._endpoint).setData(t).setOption('retries',this._connectionRetries).setHandler(this._handleResponse.bind(this)).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this)).setAllowCrossPageTransition(true);if(this._timeout&&this._timeoutHandler)y.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));y.send();if(this._sendAttemptLoggingHandler&&t&&t.message_batch)t.message_batch.map(function(z){return this._sendAttemptLoggingHandler(z);}.bind(this));},_batchData:function(t,u){if(this._mode==q.BATCH_SUCCESSIVE_UNIQUE&&this._pendingRequestData!==(void 0)&&k(t,this._pendingRequestData)){return;}else{var v=this._batches.length-1;if(v>=0&&!this._hasReachedBatchLimit(this._batches[v])){u?this._batches[v].combineWithOlder(t,this._combineData):this._batches[v].combineWith(t,this._combineData);}else this._batches.push(new s(t));o.debug('batch',{endpoint:this._endpoint,batches:this._batches,batch_limit:this._batchSizeLimit});}},_hasReachedBatchLimit:function(t){return this._batchSizeLimit&&t.getSize()>=this._batchSizeLimit;},_batchSend:function(){if(this._batches[0]){this._send(this._batches[0].getData());this._batches.shift();}},_handleResponse:function(t){this._inFlight--;o.log('response',{endpoint:this._endpoint,inflight_count:this._inFlight});var u=t.getPayload();p=u&&u.kill_chat;if(p)o.log('killswitch_enabled',{endpoint:this._endpoint,inflight_count:this._inFlight});if(u&&u.error_payload){if(this._errorHandler)this._errorHandler(t);}else this._handler&&this._handler(u,t.getRequest());if(this._mode==q.BATCH_SUCCESSIVE||this._mode==q.BATCH_SUCCESSIVE_UNIQUE||this._mode==q.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==q.BATCH_CONDITIONAL)this._batchSend();delete this._pendingRequestData;},_postErrorHandler:function(){o.error('error',{endpoint:this._endpoint,inflight_count:this._inFlight-1});this._inFlight--;var t=this._mode;if(t==q.BATCH_SUCCESSIVE||t==q.BATCH_SUCCESSIVE_UNIQUE||t==q.BATCH_CONDITIONAL){this._batchSend();}else if(t==q.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR)if(this._batches[0]){this._batchData(this._pendingRequestData,true);this._batchSend();}else this._batchData(this._pendingRequestData,true);delete this._pendingRequestData;},_shouldAutoRetrySend:function(t){var u=t.auto_retry_cnt?t.auto_retry_cnt:0;return u<this._auto_retries;},_autoRetrySend:function(t){var u=Object.assign({},t);u.auto_retry_cnt=u.auto_retry_cnt?u.auto_retry_cnt+1:1;this._send(u);},_handleError:function(t){this._errorHandler&&this._errorHandler(t);this._postErrorHandler();},_handleTransportError:function(t){var u=t.getRequest().getData();if(this._shouldAutoRetrySend(u)){this._autoRetrySend(u);}else{this._transportErrorHandler&&this._transportErrorHandler(t);this._postErrorHandler();}},_handleTimeout:function(t){var u=t.getData();if(this._shouldAutoRetrySend(u)){this._autoRetrySend(u);}else{this._timeoutHandler&&this._timeoutHandler(t);this._postErrorHandler();}},_handleServerDialogCancel:function(t){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(t);this._postErrorHandler();}});function s(t){this._data=t;this._size=1;}l(s.prototype,{getData:function(){return this._data;},getSize:function(){return this._size;},combineWith:function(t,u){this._data=u(this._data,t);this._size++;},combineWithOlder:function(t,u){this._data=u(t,this._data);this._size++;}});e.exports=q;},null);
__d("UFICommentList",["ClientIDs","KeyedCallbackManager","UFICentralUpdates","UFIConstants","UFIFeedbackTargets","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();"use strict";var m=l({actorID:true});function n(o){this.count=0;this.deletedComments={};this.deletedCount=0;this.dataSource=new h();this.feedbackTargetID=o;this.lastRequestedOffset=0;this.lastRequestedLength=0;this.basePermalink="";this.commentPermalinks={};this.orderReversed=false;k.getFeedbackTarget(this.feedbackTargetID,function(p){this.actorID=p.actorforpost;this.basePermalink=p.permalink;this.orderReversed=p.isranked;}.bind(this));}n.prototype.addComment=function(o,p,q){var r=p&&g.isExistingClientID(p),s=this.dataSource.getAllResources(),t={};for(var u in s){var v=s[u];t[v]=u;}if(r&&p in t){t[o]=t[p];var w=t[p];this.dataSource.setResource(w,o);}else if(!t[o]){var x=this.count;this.count++;t[o]=x;this.dataSource.setResource(x,o);}if(q)this.commentPermalinks[o]=this.buildCommentPermalink(o,q,t[o]);i.didUpdateFeedback(this.feedbackTargetID);};n.prototype.addCommentIDs=function(o,p,q){var r={};for(var s=0;s<p;s++)r[o+s]=q[s]||j.unavailableCommentKey;this.dataSource.addResourcesAndExecute(r);i.didUpdateFeedback(this.feedbackTargetID);return this;};n.prototype.getComments=function(o,p,q,r){var s=[];for(var t=0;t<p;t++)s.push(o+t);var u=this.dataSource.getUnavailableResourcesFromRequest(s);if(u.length){var v=Math.min.apply(Math,u),w=Math.max.apply(Math,u),x=v,y=w-v+1;if(x<this.lastRequestedOffset||(x+y)>(this.lastRequestedOffset+this.lastRequestedLength)){this.lastRequestedOffset=x;this.lastRequestedLength=y;this.fetchComments(x,y,q);}}else this.dataSource.executeOrEnqueue(s,this.deferredCallback.bind(this,o,p,r));};n.prototype.fetchComments=function(o,p,q){};n.prototype.deferredCallback=function(o,p,q,r){};n.prototype.reset=function(){var o=this.dataSource.getAllResources();this.dataSource.reset();this.count=0;this.deletedCount=0;this.deletedComments={};this.lastRequestedOffset=0;this.lastRequestedLength=0;return o;};n.prototype.deleteComment=function(o){if(!(o in this.deletedComments)){this.deletedComments[o]=true;this.deletedCount++;}};n.prototype.updateCommentCount=function(o){this.count=o;this.deletedCount=0;return this;};n.prototype.getFeedbackTargetID=function(){return this.feedbackTargetID;};n.prototype.getCommentCount=function(){return this.count;};n.prototype.getDeletedCount=function(){return this.deletedCount;};n.prototype.getDisplayedCommentCount=function(){return this.count-this.deletedCount;};n.prototype.getBasePermalink=function(){return this.basePermalink;};n.prototype.buildCommentPermalink=function(o,p,q){};n.prototype.getPermalinkForComment=function(o){return this.commentPermalinks[o];};n.isValidContextPropertyForReset=function(o){return o in m;};e.exports=n;},null);
__d("UFIComments",["ClientIDs","ImmutableObject","UFICentralUpdates","UFIConstants","UFIInstanceState","invariant","merge","randomInt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();"use strict";var o={},p={};function q(fa){return fa in p?p[fa]:fa;}function r(fa,ga){fa.forEach(function(ha){var ia=ha.ftentidentifier,ja=j.UFIPayloadSourceType,ka=ha.clientid,la=false,ma=m({},ha);if(ka){delete ma.clientid;la=g.isExistingClientID(ka);if(la&&p[ka])return;}if((ga===ja.LIVE_SEND)||(ga===ja.USER_ACTION)||(ga===ja.ENDPOINT_ADD_COMMENT)||(ga===ja.ENDPOINT_EDIT_COMMENT))ma.isunseen=true;if(ga===ja.ENDPOINT_COMMENT_FETCH||ga===ja.ENDPOINT_ID_COMMENT_FETCH)ma.fromfetch=true;if(la){if(o[ka].ufiinstanceid)k.updateStateField(o[ka].ufiinstanceid,'locallycomposed',ha.id,true);ma.ufiinstanceid=o[ka].ufiinstanceid;p[ka]=ha.id;o[ha.id]=o[ka];delete o[ka];i.didUpdateComment(ka);}ea.setComment(ha.id,new h(ma));i.didUpdateComment(ha.id);i.didUpdateFeedback(ia);});}function s(fa){for(var ga=0;ga<fa.length;ga++){var ha=fa[ga];switch(ha.actiontype){case j.UFIActionType.LIKE_ACTION:if(ea.getComment(ha.entidentifier))t(ha.clientid,ha.entidentifier,ha.hasviewerliked,ha.likecount);break;case j.UFIActionType.COMMENT_LIKE:t(ha.clientid,ha.commentid,ha.viewerliked,ha.likecount);break;case j.UFIActionType.DELETE_COMMENT:x(ha);break;case j.UFIActionType.LIVE_DELETE_COMMENT:y(ha);break;case j.UFIActionType.REMOVE_PREVIEW:z(ha);break;case j.UFIActionType.COMMENT_SET_SPAM:aa(ha);break;case j.UFIActionType.CONFIRM_COMMENT_REMOVAL:ba(ha);break;case j.UFIActionType.TRANSLATE_COMMENT:v(ha);break;case j.UFIActionType.COMMENT_LIKECOUNT_UPDATE:u(ha);break;}}}function t(fa,ga,ha,ia){var ja=ea.getComment(ga);if(ja){var ka={},la=fa&&g.isExistingClientID(fa);if(!la){ka.hasviewerliked=ha;ka.likecount=ia;}ka.likeconfirmhash=n(0,1024);da(ga,ka);}}function u(fa){var ga=ea.getComment(fa.commentid);if(ga&&fa.hasviewerliked===ga.hasviewerliked){var ha={likecount:fa.likecount,likeconfirmhash:n(0,1024)};da(fa.commentid,ha);}}function v(fa){var ga=fa.commentid,ha=ea.getComment(ga);if(ha){var ia={translatedbody:fa.translatedbody,translatorapp:fa.translatorapp};da(ga,ia);}}function w(fa){var ga={reportLink:fa.reportLink,commenterIsFOF:fa.commenterIsFOF,userIsMinor:fa.userIsMinor,giveFeedbackLink:fa.giveFeedbackLink};return ga;}function x(fa){var ga=ea.getComment(fa.commentid);ca(ga,j.UFIStatus.DELETED);}function y(fa){var ga=ea.getComment(fa.commentid);if(ga&&ga.status!==j.UFIStatus.DELETED)ca(ga,j.UFIStatus.LIVE_DELETED);}function z(fa){da(fa.commentid,{attachment:null});}function aa(fa){var ga=ea.getComment(fa.commentid),ha=fa.shouldHideAsSpam?j.UFIStatus.SPAM_DISPLAY:null;ca(ga,ha);}function ba(fa){da(fa.commentid,w(fa));}function ca(fa,ga){da(fa.id,{priorstatus:fa.status,status:ga});}function da(fa,ga){var ha=ea.getComment(fa)||new h({});ea.setComment(fa,h.set(ha,ga));i.didUpdateComment(ha.id);i.didUpdateFeedback(ha.ftentidentifier);}var ea={getComment:function(fa){if(fa===j.unavailableCommentKey)return null;return o[q(fa)];},setComment:function(fa,ga){l(ga instanceof h);o[q(fa)]=ga;},resetComments:function(fa){for(var ga in fa)delete o[q(ga)];}};i.subscribe('update-comments',function(fa,ga){if(ga.comments&&ga.comments.length)r(ga.comments,ga.payloadsource);});i.subscribe('update-actions',function(fa,ga){if(ga.actions&&ga.actions.length)s(ga.actions);});e.exports=ea;},null);
__d("UFIToplevelCommentList",["ActorURI","MercuryServerDispatcher","UFICentralUpdates","UFICommentList","UFIComments","UFIConstants","UFIReplyCommentList","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();"use strict";var o={};for(var p in j)if(j.hasOwnProperty(p))r[p]=j[p];var q=j===null?null:j.prototype;r.prototype=Object.create(q);r.prototype.constructor=r;r.__superConstructor__=j;r.getCommentList=function(t,u){if(!o[t])o[t]={};if(!o[t][u]){var v=new r(t,u),w=r.getCommentListsForFeedbackTargetID(t);if(w.length)v.updateCommentCount(w[0].getCommentCount());o[t][u]=v;}return o[t][u];};r.getCommentListsForFeedbackTargetID=function(t){var u=[],v=o[t]||{};for(var w in v)u.push(v[w]);return u;};r.getCommentListForFeedbackTargetID_UNSAFE=function(t){var u=r.getCommentListsForFeedbackTargetID(t);return u.length?u[0]:null;};r.resetCommentListsForFeedbackTargetID=function(t){if(!o[t])return;var u={};for(var v in o[t]){var w=o[t][v],x=w.reset();for(var y in x){var z=x[y];u[z]=true;}}k.resetComments(u);};r.resetCommentListsWithContext=function(t,u){if(!o[t])return;var v={};for(var w in o[t]){var x=o[t][w];for(var y in u)if(this.isValidContextPropertyForReset(y))x[y]=u[y];var z=x.reset();for(var aa in z){var ba=z[aa];v[ba]=true;m.resetWithContext(t,ba,u);}}k.resetComments(v);};function r(t,u){j.call(this,t);this.orderingMode=u;}r.prototype.fetchComments=function(t,u,v){var w={ft_ent_identifier:this.feedbackTargetID,viewas:v?v.viewAs:null,source:null,offset:t,length:u,orderingmode:this.orderingMode,feed_context:v?v.feedContext:null};if(!v||!v.viewAs)w[g.PARAMETER_ACTOR]=this.actorID;h.trySend('/ajax/ufi/comment_fetch.php',w);};r.prototype.deferredCallback=function(t,u,v,w){var x={},y=t,z=t+u-1;for(var aa=0;aa<u;aa++){var ba=this.orderReversed?z-aa:y+aa,ca=k.getComment(w[ba]);if(ca)x[t+aa]=ca;}v(x);};r.prototype.getOrderingMode=function(){return this.orderingMode;};r.prototype.buildCommentPermalink=function(t,u,v){if(!this.basePermalink)return null;var w=Math.floor((this.count-v-1)/l.defaultPageSize)*l.defaultPageSize;return (n(this.basePermalink).addQueryData({comment_id:u,offset:w,total_comments:this.count}).toString());};h.registerEndpoints({'/ajax/ufi/comment_fetch.php':{mode:h.IMMEDIATE}});function s(t){var u=k.getComment(t.commentid),v=u.id,w=u.ftentidentifier,x=u.parentcommentid;if(x)return;if(t.islocal||(u.status!==l.UFIStatus.DELETED&&u.status!==l.UFIStatus.FAILED_ADD))r.getCommentListsForFeedbackTargetID(w).forEach(function(y){y.deleteComment(v);});}i.subscribe('update-actions',function(t,u){if(u.actions&&u.actions.length)for(var v=0;v<u.actions.length;v++){var w=u.actions[v];switch(w.actiontype){case l.UFIActionType.DELETE_COMMENT:s(w);break;}}});i.subscribe('update-comment-lists',function(t,u){var v=u.commentlists;if(v&&v.comments&&Object.keys(v).length)for(var w in v.comments)for(var x in v.comments[w]){var y=v.comments[w][x];r.getCommentList(w,x).addCommentIDs(y.range.offset,y.range.length,y.values);}});i.subscribe('update-comments',function(t,u){if(u.comments&&u.comments.length)u.comments.forEach(function(v){if(v.parentcommentid)return;var w=v.ftentidentifier;r.getCommentListsForFeedbackTargetID(w).forEach(function(x){x.addComment(v.id,v.clientid,v.legacyid);});});});i.subscribe('update-feedback',function(t,u){if(u.feedbacktargets&&u.feedbacktargets.length)u.feedbacktargets.forEach(function(v){var w=v.entidentifier,x=v.defaultcommentorderingmode,y={};if(x)y[x]=true;if(v.orderingmodes)v.orderingmodes.forEach(function(aa){y[aa.value]=true;});for(var z in y)r.getCommentList(w,z).updateCommentCount(v.commentcount);});});e.exports=r;},null);
__d("UnicodeBidi",["Locale","UnicodeBidiDirection"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();"use strict";var i={L:'A-Za-z\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u01BA\u01BB'+'\u01BC-\u01BF\u01C0-\u01C3\u01C4-\u0293\u0294\u0295-\u02AF\u02B0-\u02B8'+'\u02BB-\u02C1\u02D0-\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376-\u0377'+'\u037A\u037B-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1'+'\u03A3-\u03F5\u03F7-\u0481\u0482\u048A-\u052F\u0531-\u0556\u0559'+'\u055A-\u055F\u0561-\u0587\u0589\u0903\u0904-\u0939\u093B\u093D'+'\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0950\u0958-\u0961\u0964-\u0965'+'\u0966-\u096F\u0970\u0971\u0972-\u0980\u0982-\u0983\u0985-\u098C'+'\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD'+'\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09CE\u09D7\u09DC-\u09DD'+'\u09DF-\u09E1\u09E6-\u09EF\u09F0-\u09F1\u09F4-\u09F9\u09FA\u0A03'+'\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33'+'\u0A35-\u0A36\u0A38-\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F'+'\u0A72-\u0A74\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0'+'\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0AD0'+'\u0AE0-\u0AE1\u0AE6-\u0AEF\u0AF0\u0B02-\u0B03\u0B05-\u0B0C\u0B0F-\u0B10'+'\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40'+'\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0B5C-\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F'+'\u0B70\u0B71\u0B72-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95'+'\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9'+'\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7'+'\u0BE6-\u0BEF\u0BF0-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10'+'\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C59\u0C60-\u0C61'+'\u0C66-\u0C6F\u0C7F\u0C82-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8'+'\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CBE\u0CBF\u0CC0-\u0CC4\u0CC6'+'\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0CDE\u0CE0-\u0CE1\u0CE6-\u0CEF'+'\u0CF1-\u0CF2\u0D02-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D'+'\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D57\u0D60-\u0D61'+'\u0D66-\u0D6F\u0D70-\u0D75\u0D79\u0D7A-\u0D7F\u0D82-\u0D83\u0D85-\u0D96'+'\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF'+'\u0DE6-\u0DEF\u0DF2-\u0DF3\u0DF4\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45'+'\u0E46\u0E4F\u0E50-\u0E59\u0E5A-\u0E5B\u0E81-\u0E82\u0E84\u0E87-\u0E88'+'\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7'+'\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6'+'\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F01-\u0F03\u0F04-\u0F12\u0F13\u0F14'+'\u0F15-\u0F17\u0F1A-\u0F1F\u0F20-\u0F29\u0F2A-\u0F33\u0F34\u0F36\u0F38'+'\u0F3E-\u0F3F\u0F40-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C'+'\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FCF\u0FD0-\u0FD4\u0FD5-\u0FD8'+'\u0FD9-\u0FDA\u1000-\u102A\u102B-\u102C\u1031\u1038\u103B-\u103C\u103F'+'\u1040-\u1049\u104A-\u104F\u1050-\u1055\u1056-\u1057\u105A-\u105D\u1061'+'\u1062-\u1064\u1065-\u1066\u1067-\u106D\u106E-\u1070\u1075-\u1081'+'\u1083-\u1084\u1087-\u108C\u108E\u108F\u1090-\u1099\u109A-\u109C'+'\u109E-\u109F\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FB\u10FC'+'\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288'+'\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5'+'\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u1368'+'\u1369-\u137C\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166D-\u166E'+'\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EB-\u16ED\u16EE-\u16F0'+'\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1735-\u1736'+'\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5'+'\u17C7-\u17C8\u17D4-\u17D6\u17D7\u17D8-\u17DA\u17DC\u17E0-\u17E9'+'\u1810-\u1819\u1820-\u1842\u1843\u1844-\u1877\u1880-\u18A8\u18AA'+'\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930-\u1931'+'\u1933-\u1938\u1946-\u194F\u1950-\u196D\u1970-\u1974\u1980-\u19AB'+'\u19B0-\u19C0\u19C1-\u19C7\u19C8-\u19C9\u19D0-\u19D9\u19DA\u1A00-\u1A16'+'\u1A19-\u1A1A\u1A1E-\u1A1F\u1A20-\u1A54\u1A55\u1A57\u1A61\u1A63-\u1A64'+'\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AA6\u1AA7\u1AA8-\u1AAD'+'\u1B04\u1B05-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B45-\u1B4B'+'\u1B50-\u1B59\u1B5A-\u1B60\u1B61-\u1B6A\u1B74-\u1B7C\u1B82\u1B83-\u1BA0'+'\u1BA1\u1BA6-\u1BA7\u1BAA\u1BAE-\u1BAF\u1BB0-\u1BB9\u1BBA-\u1BE5\u1BE7'+'\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1BFC-\u1BFF\u1C00-\u1C23\u1C24-\u1C2B'+'\u1C34-\u1C35\u1C3B-\u1C3F\u1C40-\u1C49\u1C4D-\u1C4F\u1C50-\u1C59'+'\u1C5A-\u1C77\u1C78-\u1C7D\u1C7E-\u1C7F\u1CC0-\u1CC7\u1CD3\u1CE1'+'\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF2-\u1CF3\u1CF5-\u1CF6\u1D00-\u1D2B'+'\u1D2C-\u1D6A\u1D6B-\u1D77\u1D78\u1D79-\u1D9A\u1D9B-\u1DBF\u1E00-\u1F15'+'\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D'+'\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC'+'\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E'+'\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D'+'\u2124\u2126\u2128\u212A-\u212D\u212F-\u2134\u2135-\u2138\u2139'+'\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2182\u2183-\u2184'+'\u2185-\u2188\u2336-\u237A\u2395\u249C-\u24E9\u26AC\u2800-\u28FF'+'\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2C7B\u2C7C-\u2C7D\u2C7E-\u2CE4'+'\u2CEB-\u2CEE\u2CF2-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F'+'\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE'+'\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005\u3006\u3007'+'\u3021-\u3029\u302E-\u302F\u3031-\u3035\u3038-\u303A\u303B\u303C'+'\u3041-\u3096\u309D-\u309E\u309F\u30A1-\u30FA\u30FC-\u30FE\u30FF'+'\u3105-\u312D\u3131-\u318E\u3190-\u3191\u3192-\u3195\u3196-\u319F'+'\u31A0-\u31BA\u31F0-\u31FF\u3200-\u321C\u3220-\u3229\u322A-\u3247'+'\u3248-\u324F\u3260-\u327B\u327F\u3280-\u3289\u328A-\u32B0\u32C0-\u32CB'+'\u32D0-\u32FE\u3300-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DB5'+'\u4E00-\u9FCC\uA000-\uA014\uA015\uA016-\uA48C\uA4D0-\uA4F7\uA4F8-\uA4FD'+'\uA4FE-\uA4FF\uA500-\uA60B\uA60C\uA610-\uA61F\uA620-\uA629\uA62A-\uA62B'+'\uA640-\uA66D\uA66E\uA680-\uA69B\uA69C-\uA69D\uA6A0-\uA6E5\uA6E6-\uA6EF'+'\uA6F2-\uA6F7\uA722-\uA76F\uA770\uA771-\uA787\uA789-\uA78A\uA78B-\uA78E'+'\uA790-\uA7AD\uA7B0-\uA7B1\uA7F7\uA7F8-\uA7F9\uA7FA\uA7FB-\uA801'+'\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA823-\uA824\uA827\uA830-\uA835'+'\uA836-\uA837\uA840-\uA873\uA880-\uA881\uA882-\uA8B3\uA8B4-\uA8C3'+'\uA8CE-\uA8CF\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8F8-\uA8FA\uA8FB\uA900-\uA909'+'\uA90A-\uA925\uA92E-\uA92F\uA930-\uA946\uA952-\uA953\uA95F\uA960-\uA97C'+'\uA983\uA984-\uA9B2\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uA9C1-\uA9CD'+'\uA9CF\uA9D0-\uA9D9\uA9DE-\uA9DF\uA9E0-\uA9E4\uA9E6\uA9E7-\uA9EF'+'\uA9F0-\uA9F9\uA9FA-\uA9FE\uAA00-\uAA28\uAA2F-\uAA30\uAA33-\uAA34'+'\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA5F\uAA60-\uAA6F'+'\uAA70\uAA71-\uAA76\uAA77-\uAA79\uAA7A\uAA7B\uAA7D\uAA7E-\uAAAF\uAAB1'+'\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAADD\uAADE-\uAADF'+'\uAAE0-\uAAEA\uAAEB\uAAEE-\uAAEF\uAAF0-\uAAF1\uAAF2\uAAF3-\uAAF4\uAAF5'+'\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E'+'\uAB30-\uAB5A\uAB5B\uAB5C-\uAB5F\uAB64-\uAB65\uABC0-\uABE2\uABE3-\uABE4'+'\uABE6-\uABE7\uABE9-\uABEA\uABEB\uABEC\uABF0-\uABF9\uAC00-\uD7A3'+'\uD7B0-\uD7C6\uD7CB-\uD7FB\uE000-\uF8FF\uF900-\uFA6D\uFA70-\uFAD9'+'\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFF6F\uFF70'+'\uFF71-\uFF9D\uFF9E-\uFF9F\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF'+'\uFFD2-\uFFD7\uFFDA-\uFFDC',R:'\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05D0-\u05EA\u05EB-\u05EF'+'\u05F0-\u05F2\u05F3-\u05F4\u05F5-\u05FF\u07C0-\u07C9\u07CA-\u07EA'+'\u07F4-\u07F5\u07FA\u07FB-\u07FF\u0800-\u0815\u081A\u0824\u0828'+'\u082E-\u082F\u0830-\u083E\u083F\u0840-\u0858\u085C-\u085D\u085E'+'\u085F-\u089F\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB37\uFB38-\uFB3C'+'\uFB3D\uFB3E\uFB3F\uFB40-\uFB41\uFB42\uFB43-\uFB44\uFB45\uFB46-\uFB4F',AL:'\u0608\u060B\u060D\u061B\u061C\u061D\u061E-\u061F\u0620-\u063F\u0640'+'\u0641-\u064A\u066D\u066E-\u066F\u0671-\u06D3\u06D4\u06D5\u06E5-\u06E6'+'\u06EE-\u06EF\u06FA-\u06FC\u06FD-\u06FE\u06FF\u0700-\u070D\u070E\u070F'+'\u0710\u0712-\u072F\u074B-\u074C\u074D-\u07A5\u07B1\u07B2-\u07BF'+'\u08A0-\u08B2\u08B3-\u08E3\uFB50-\uFBB1\uFBB2-\uFBC1\uFBC2-\uFBD2'+'\uFBD3-\uFD3D\uFD40-\uFD4F\uFD50-\uFD8F\uFD90-\uFD91\uFD92-\uFDC7'+'\uFDC8-\uFDCF\uFDF0-\uFDFB\uFDFC\uFDFE-\uFDFF\uFE70-\uFE74\uFE75'+'\uFE76-\uFEFC\uFEFD-\uFEFE'},j=i.L+i.R+i.AL,k=i.R+i.AL,l=new RegExp('['+j+']'),m=new RegExp('['+k+']');function n(t){var u=l.exec(t);if(!u)return h.NEUTRAL;var v=m.exec(u[0]);return v?h.RTL:h.LTR;}function o(t,u){u=u||h.NEUTRAL;if(!t.length)return u;var v=n(t);return (v===h.NEUTRAL)?u:v;}function p(t,u){if(!u||!h.isStrong(u))u=g.getDirection();return o(t,u);}function q(t,u){return p(t,u)===h.LTR;}function r(t,u){return p(t,u)===h.RTL;}var s={firstStrongCharDir:n,resolveBlockDir:o,getDirection:p,isDirectionLTR:q,isDirectionRTL:r};e.exports=s;},null);
__d("UFIUserActions",["ActorURI","AsyncResponse","CLoggerX","ClientIDs","ImmutableObject","Nectar","UFICentralUpdates","UFIToplevelCommentList","UFIComments","UFIConstants","UFIFeedbackTargets","MercuryServerDispatcher","collectDataAttributes","copyProperties","fbt","UnicodeBidi"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){b.__markCompiled&&b.__markCompiled();var w={BAN:'ban',UNDO_BAN:'undo_ban'},x={changeActor:function(ka,la){q.getFeedbackTarget(ka,function(ma){n.resetCommentListsWithContext(ka,{actorID:la});var na={from_actor_id:ma.actorforpost,ft_ent_identifier:ka};na[g.PARAMETER_ACTOR]=la;r.trySend('/ajax/ufi/actor_change.php',na);});},changeCommentLike:function(ka,la,ma){var na=o.getComment(ka);if(na.hasviewerliked!=la){var oa=y(ma.target),pa=la?1:-1,qa={commentid:ka,actiontype:p.UFIActionType.COMMENT_LIKE,viewerliked:la,likecount:na.likecount+pa};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[qa]});q.getFeedbackTarget(na.ftentidentifier,function(ra){var sa={};sa[g.PARAMETER_ACTOR]=ra.actorforpost;r.trySend('/ajax/ufi/comment_like.php',t({comment_id:ka,legacy_id:na.legacyid,like_action:la,ft_ent_identifier:na.ftentidentifier,source:ma.source,client_id:j.getNewClientID()},oa,sa));});}},addComment:function(ka,la,ma,na){q.getFeedbackTarget(ka,function(oa){var pa=y(na.target),qa=j.getNewClientID();if(!oa.actorforpost)return;var ra=v.isDirectionLTR(la)?'ltr':'rtl',sa={ftentidentifier:ka,body:{text:la,dir:ra},author:oa.actorforpost,id:qa,islocal:true,ufiinstanceid:na.ufiinstanceid,likecount:0,hasviewerliked:false,parentcommentid:na.replyid,attachment:na.attachedsticker,photo_comment:na.attachedphoto,timestamp:{time:Math.floor(Date.now()/1000),text:u._("il y a quelques secondes")}},ta={actiontype:p.UFIActionType.SUBSCRIBE_ACTION,actorid:oa.actorforpost,hasviewersubscribed:true,entidentifier:ka},ua={actiontype:p.UFIActionType.ADD_COMMENT_ACTION,feedbackfbid:oa.targetfbid};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{comments:[sa],actions:[ta,ua]});var va=null;if(na.replyid)va=(o.getComment(na.replyid)).fbid;var wa=i.getCLParamsForTarget(na.target,va),xa={};xa[g.PARAMETER_ACTOR]=oa.actorforpost;r.trySend('/ajax/ufi/add_comment.php',t({ft_ent_identifier:oa.entidentifier,comment_text:ma,source:na.source,client_id:qa,reply_fbid:va,parent_comment_id:na.replyid,timeline_log_data:na.timelinelogdata,rootid:na.rootid,clp:wa,attached_sticker_fbid:na.attachedsticker?na.attachedsticker.fbid:0,attached_photo_fbid:na.attachedphoto?na.attachedphoto.fbid:0,giftoccasion:na.giftoccasion,recommendation_ids:na.recommendationIDs?na.recommendationIDs:[],facepileMentionedIDs:na.facepileMentionedIDs,feed_context:na.feedcontext},pa,xa));});},_hasCommentTextChanged:function(ka,la){return ka.body&&ka.body.text!=la;},_hasCommentPhotoChanged:function(ka,la){return ((ka||la)&&!(ka&&la))||(ka&&la&&(ka.fbid!=la.fbid));},_hasCommentStickerChanged:function(ka,la){return ((ka||la)&&!(ka&&la))||(ka&&(ka.type=="sticker")&&la&&(ka.fbid!=la.fbid));},editComment:function(ka,la,ma,na){var oa=y(na.target),pa=o.getComment(ka),qa=this._hasCommentTextChanged(pa,la)||this._hasCommentPhotoChanged(pa.photo_comment,na.attachedPhoto)||this._hasCommentStickerChanged(pa.attachment,na.attachedSticker);pa=k.set(pa,{status:p.UFIStatus.PENDING_EDIT,body:{text:la},editnux:null,attachment:na.attachedSticker,photo_comment:na.attachedPhoto});if(qa)pa=k.set(pa,{originalTimestamp:pa.timestamp.time,timestamp:{time:Math.floor(Date.now()/1000),text:u._("il y a quelques secondes")}});m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{comments:[pa]});q.getFeedbackTarget(pa.ftentidentifier,function(ra){var sa={};sa[g.PARAMETER_ACTOR]=ra.actorforpost;r.trySend('/ajax/ufi/edit_comment.php',t({ft_ent_identifier:pa.ftentidentifier,comment_text:ma,source:na.source,comment_id:pa.id,parent_comment_id:pa.parentcommentid,attached_sticker_fbid:na.attachedSticker?na.attachedSticker.fbid:0,attached_photo_fbid:na.attachedPhoto?na.attachedPhoto.fbid:0},oa,sa));});},translateComment:function(ka,la){r.trySend('/ajax/ufi/translate_comment.php',{ft_ent_identifier:ka.ftentidentifier,comment_ids:[ka.id],source:la.source});},setHideAsSpam:function(ka,la,ma){var na=y(ma.target),oa=o.getComment(ka),pa={commentid:ka,actiontype:p.UFIActionType.COMMENT_SET_SPAM,shouldHideAsSpam:la};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[pa]});r.trySend('/ajax/ufi/comment_spam.php',t({comment_id:ka,spam_action:la,ft_ent_identifier:oa.ftentidentifier,source:ma.source},na));},removeComment:function(ka,la){var ma=y(la.target),na=o.getComment(ka),oa={actiontype:p.UFIActionType.DELETE_COMMENT,commentid:ka,islocal:true,oneclick:la.oneclick};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[oa]});q.getFeedbackTarget(na.ftentidentifier,function(pa){var qa={};qa[g.PARAMETER_ACTOR]=pa.actorforpost;r.trySend('/ajax/ufi/delete_comment.php',t({comment_id:na.id,comment_legacyid:na.legacyid,ft_ent_identifier:na.ftentidentifier,one_click:la.oneclick,source:la.source,client_id:j.getNewClientID(),timeline_log_data:la.timelinelogdata},ma,qa));});},banUser:function(ka,la,ma,na){var oa=ma?w.BAN:w.UNDO_BAN;r.trySend('/ajax/ufi/ban_user.php',{page_id:la,commenter_id:ka.author,action:oa,comment_id:ka.id,client_side:true});},changeLike:function(ka,la,ma){q.getFeedbackTarget(ka,function(na){var oa=y(ma.target);if(na.hasviewerliked!==la){var pa=la?1:-1,qa={actiontype:p.UFIActionType.LIKE_ACTION,actorid:na.actorforpost,hasviewerliked:la,likecount:na.likecount+pa,entidentifier:ka,likesentences:{current:na.likesentences.alternate,alternate:na.likesentences.current}};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[qa]});var ra={};ra[g.PARAMETER_ACTOR]=na.actorforpost;r.trySend('/ajax/ufi/like.php',t({like_action:la,ft_ent_identifier:ka,source:ma.source,client_id:j.getNewClientID(),rootid:ma.rootid,giftoccasion:ma.giftoccasion},oa,ra));}});},changeSubscribe:function(ka,la,ma){q.getFeedbackTarget(ka,function(na){var oa=y(ma.target);if(na.hasviewersubscribed!==la){var pa={actiontype:p.UFIActionType.SUBSCRIBE_ACTION,actorid:na.actorforpost,hasviewersubscribed:la,entidentifier:ka};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[pa]});var qa={};qa[g.PARAMETER_ACTOR]=na.actorforpost;r.trySend('/ajax/ufi/subscribe.php',t({subscribe_action:la,ft_ent_identifier:ka,source:ma.source,client_id:j.getNewClientID(),rootid:ma.rootid,comment_expand_mode:ma.commentexpandmode},oa,qa));}});},fetchSpamComments:function(ka,la,ma,na){r.trySend('/ajax/ufi/id_comment_fetch.php',{ft_ent_identifier:ka,viewas:na,comment_ids:la,parent_comment_id:ma,source:null});},removePreview:function(ka,la){var ma=y(la.target),na={commentid:ka.id,actiontype:p.UFIActionType.REMOVE_PREVIEW};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[na]});r.trySend('/ajax/ufi/remove_preview.php',t({comment_id:ka.id,ft_ent_identifier:ka.ftentidentifier,source:la.source},ma));}};function y(ka){if(!ka)return {ft:{}};var la={ft:s(ka,['ft']).ft};l.addModuleData(la,ka);return la;}function z(ka){var la=ka.request.data;h.defaultErrorHandler(ka);var ma=la.client_id||la.comment_id,na=o.getComment(ma),oa=(na.status===p.UFIStatus.PENDING_EDIT)?p.UFIStatus.FAILED_EDIT:p.UFIStatus.FAILED_ADD;na=k.setDeep(na,{status:oa,allowRetry:aa(ka),body:{mentionstext:la.comment_text,mentionsphoto:na.photo_comment}});m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{comments:[na]});}function aa(ka){var la=ka.getError();if(ka.isBlockedAction())return false;if(ka.silentError)return true;if(la===1357012||la===1357006)return false;return true;}function ba(ka){var la=ka.request.data,ma=la.comment_id,na=o.getComment(ma);na=k.set(na,{status:na.priorstatus||null,priorstatus:(void 0)});m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{comments:[na]});}function ca(ka){var la=ka.request.data,ma=la.comment_id,na=o.getComment(ma);if(la.like_action===na.hasviewerliked){var oa=na.hasviewerliked?-1:1,pa={commentid:ma,actiontype:p.UFIActionType.COMMENT_LIKE,viewerliked:!na.hasviewerliked,likecount:na.likecount+oa};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[pa]});}h.defaultErrorHandler(ka);}function da(ka){var la=ka.request.data,ma=la.ft_ent_identifier;q.getFeedbackTarget(ma,function(na){if(na.hasviewerliked===la.like_action){var oa=na.hasviewerliked?-1:1,pa={actiontype:p.UFIActionType.LIKE_ACTION,actorid:na.actorforpost,hasviewerliked:!na.hasviewerliked,likecount:na.likecount+oa,entidentifier:ma,likesentences:{current:na.likesentences.alternate,alternate:na.likesentences.current}};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[pa]});}});h.defaultErrorHandler(ka);}function ea(ka){var la=ka.request.data,ma=la.ft_ent_identifier;q.getFeedbackTarget(ma,function(na){if(na.hasviewersubscribed===la.subscribe_action){var oa={actiontype:p.UFIActionType.SUBSCRIBE_ACTION,actorid:na.actorforpost,hasviewersubscribed:!na.hasviewersubscribed,entidentifier:ma};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[oa]});}});h.defaultErrorHandler(ka);}var fa={'/ajax/ufi/actor_change.php':{mode:r.IMMEDIATE},'/ajax/ufi/comment_like.php':{mode:r.BATCH_CONDITIONAL,error_handler:ca,batch_if:ga,batch_function:ja},'/ajax/ufi/comment_spam.php':{mode:r.IMMEDIATE,error_handler:ba},'/ajax/ufi/add_comment.php':{mode:r.IMMEDIATE,error_handler:z},'/ajax/ufi/delete_comment.php':{mode:r.IMMEDIATE,error_handler:ba},'/ajax/ufi/ban_user.php':{mode:r.IMMEDIATE},'/ajax/ufi/edit_comment.php':{mode:r.IMMEDIATE,error_handler:z},'/ajax/ufi/like.php':{mode:r.BATCH_CONDITIONAL,error_handler:da,batch_if:ha,batch_function:ja},'/ajax/ufi/subscribe.php':{mode:r.BATCH_CONDITIONAL,error_handler:ea,batch_if:ia,batch_function:ja},'/ajax/ufi/id_comment_fetch.php':{mode:r.IMMEDIATE},'/ajax/ufi/remove_preview.php':{mode:r.IMMEDIATE},'/ajax/ufi/translate_comment.php':{mode:r.IMMEDIATE},'/profile/broadcast_request/async/add_composer_token/':{mode:r.IMMEDIATE}};r.registerEndpoints(fa);function ga(ka,la){return ka&&ka.ft_ent_identifier==la.ft_ent_identifier&&ka.comment_id==la.comment_id;}function ha(ka,la){return ka&&ka.ft_ent_identifier==la.ft_ent_identifier;}function ia(ka,la){return ka&&ka.ft_ent_identifier==la.ft_ent_identifier;}function ja(ka,la){return la;}e.exports=x;},null);
__d("UFIUIEvents",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g='UFIUIEvents/ufiActionAddComment',h='UFIUIEvents/ufiActionLinkLike',i='UFIUIEvents/ufiActionLinkUnlike',j={UFIActionLinkLike:h,UFIActionLinkUnlike:i,UFIActionAddComment:g};e.exports=j;},null);
__d("XPagesMessagingPrivateReplyDialogController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pages\/messaging\/private_reply\/dialog\/",{activity_id:{type:"String",required:true}});},null);
__d("UFIPrivateReplyLink.react",["ActorURI","Link.react","PagesPrivateReplyConstants","React","XUIGrayText.react","XPagesMessagingPrivateReplyDialogController","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=i.Status,o=i.Type,p=j,q=p.PropTypes,r=j.createClass({displayName:"UFIPrivateReplyLink",propTypes:{activityID:q.string.isRequired,context:q.shape({activityType:q.string.isRequired,status:q.string.isRequired,hasReplyPermission:q.bool.isRequired,pageID:q.string.isRequired,permalink:q.string}).isRequired},render:function(){var s=this.props.context;if(s.hasReplyPermission){if(s.status===n.REPLYABLE){return this._renderMessageLink();}else if(s.status===n.ALREADY_REPLIED)return this._renderSeeReplyLink();return this._renderTooltip();}if(s.status===n.ALREADY_REPLIED)return this._renderIndicator();return null;},_renderMessageLink:function(){var s=g.create(l.getURIBuilder().setString('activity_id',this.props.activityID).getURI(),this.props.context.pageID);return (j.createElement(h,{href:s,rel:"dialog"},this._getLabel()));},_renderTooltip:function(){var s;switch(this.props.context.status){case n.EXPIRED:s=m._({"comments":"You can't send a message response to comments that are older than 6 months.","reviews":"You can't send a message response to reviews that are older than 6 months.","posts":"You can't send a message response to posts that are older than 6 months."},[m['enum'](this._getActivityTypeLabel(),{comments:"comments",reviews:"reviews",posts:"posts"})]);break;case n.NOT_USER_CREATED:s=m._("Pages can't send private messages to other Pages.");break;}return (j.createElement("span",null,j.createElement(k,{shade:"light","aria-label":s,"data-hover":s?'tooltip':null},this._getLabel())));},_renderSeeReplyLink:function(){return (j.createElement(h,{href:this.props.context.permalink||'#'},m._("See Response")));},_renderIndicator:function(){return (j.createElement("span",null,j.createElement(k,{shade:"light"},m._("Page responded privately"))));},_getLabel:function(){return (m._("Message Privately"));},_getActivityTypeLabel:function(){switch(this.props.context.activityType){case o.COMMENT_PAGE_POST:case o.COMMENT_WALL_POST:case o.COMMENT_REVIEW:return 'comments';case o.REVIEW:return 'reviews';default:return 'posts';}}});e.exports=r;},null);
__d("UFIActionLinkController",["Arbiter","ClickPointIdentifiersDEPRECATED","CSS","DOM","DOMQuery","Parent","React","TrackingNodes","UFIBlingBox.react","UFICentralUpdates","UFICommentLink.react","UFIConstants","UFIFeedbackTargets","UFIInstanceState","UFILikeLink.react","UFIShareLink.react","UFISubscribeLink.react","UFITimelineBlingBox.react","UFIToplevelCommentList","UFIUserActions","UFIUIEvents","UFIPrivateReplyLink.react","URI","cx","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){b.__markCompiled&&b.__markCompiled();function fa(ha,ia,ja){if(this._root)throw new Error('UFIActionLinkController attempted to initialize when a root was'+' already present');var ka=k.scry(ha,ia)[0];if(ka){if(i.hasClass(ka,'prevent_react_replace'))return;var la=document.createElement('span');ka.parentNode.replaceChild(la,ka);la.appendChild(ka);if(typeof ja==="function")ja(la);}else var ma=g.subscribe('PhotoSnowlift.DATA_CHANGE',function(){g.unsubscribe(ma);fa(ha,ia,ja);},g.SUBSCRIBE_NEW);}var ga=function(ha,ia,ja,ka){this._id=ia.ftentidentifier;this._ftFBID=ja.targetfbid;this._source=ia.source;this._contextArgs=ia;this._ufiRoot=ha;this._ufiInstanceID=ka;this._isOnTimeline=this._isRenderingOnTimeline();if(this._isOnTimeline){this._attemptInitializeTimelineBling();}else this._attemptInitializeBling();if(ja.viewercanlike||ja.hasviewerliked)this._attemptInitializeLike();if(ja.cancomment&&this._contextArgs.reactcommentlink)this._attemptInitializeComment();if(ja.viewercansubscribetopost)this._attemptInitializeSubscribe();this._attemptInitializeShare();this._attemptInitializeMessageReply();p.subscribe('feedback-updated',function(la,ma){var na=ma.updates;if(this._id in na)this.render();}.bind(this));p.subscribe('feedback-id-changed',function(la,ma){var na=ma.updates;if(this._id in na)this._id=na[this._id];}.bind(this));};ea(ga.prototype,{_attemptInitializeBling:function(){fa(this._ufiRoot,'^form .uiBlingBox',function(ha){this._blingRoot=ha;if(this._dataReady)this._renderBling();}.bind(this));},_attemptInitializeTimelineBling:function(){if(this._root)throw new Error('UFIActionLinkController attempted to initialize when a root was'+' already present');var ha=k.scry(this._ufiRoot,'^form .fbTimelineFeedbackActions .UFIBlingBoxTimeline')[0];if(ha){var ia=k.scry(ha,'.fbTimelineFeedbackLikes')[0];this._enableShowLikes=ia?true:false;var ja=k.scry(ha,'.fbTimelineFeedbackComments')[0];this._enableShowComments=ja?true:false;}this._blingTimelineRoot=ha;if(this._dataReady)this._renderTimelineBling();},_attemptInitializeLike:function(){fa(this._ufiRoot,'^form .like_link',function(ha){this._likeRoot=ha;if(this._dataReady)this._renderLike();}.bind(this));},_attemptInitializeComment:function(){fa(this._ufiRoot,'^form .comment_link',function(ha){this._commentRoot=ha;if(this._dataReady)this._renderComment();}.bind(this));},_attemptInitializeSubscribe:function(){fa(this._ufiRoot,'^form .unsub_link',function(ha){this._subscribeRoot=ha;if(this._dataReady)this._renderSubscribe();}.bind(this));},_attemptInitializeMessageReply:function(){fa(this._ufiRoot,'^form .message_reply_action_link',function(ha){this._messageReplyRoot=ha;if(this._messageReplyRoot.previousSibling&&this._messageReplyRoot.previousSibling.nodeType===3){this._messageReplySeparator=this._messageReplyRoot.previousSibling;this._messageReplySeparatorData=this._messageReplySeparator.data;}if(this._dataReady)this._renderMessageReply();}.bind(this));},_attemptInitializeShare:function(){fa(this._ufiRoot,'^form .share_action_link',function(ha){this._shareRoot=ha;var ia=k.scry(this._shareRoot,'.share_action_link')[0];this._shareURI=ia?ia.getAttribute('href'):null;this._shareRel=ia?ia.getAttribute('rel'):null;if(this._dataReady)this._renderShare();}.bind(this));},render:function(){this._dataReady=true;if(this._isOnTimeline){this._renderTimelineBling();}else this._renderBling();this._renderLike();this._renderComment();this._renderSubscribe();this._renderShare();this._renderMessageReply();},_renderBling:function(){if(this._blingRoot)s.getFeedbackTarget(this._id,function(ha){var ia=function(event){if(this._contextArgs.blingtogglescomments){var na=l.byTag(event.target,"form");i.toggleClass(na,"collapsed_comments");i.toggleClass(na,"hidden_add_comment");}event.preventDefault();}.bind(this),ja=n.getTrackingInfo(n.types.BLINGBOX),ka=y.getCommentListForFeedbackTargetID_UNSAFE(this._id).getDisplayedCommentCount(),la=ca(ha.permalink).addQueryData({comment_tracking:ja}).toString(),ma=m.createElement(o,{likes:ha.likecount,likesreduced:ha.likecountreduced,comments:ka,commentsreduced:ha.commentcountreduced,reshares:ha.sharecount,resharesreduced:ha.sharecountreduced,nfb:ha.nfbcount,permalink:la,contextArgs:this._contextArgs,onClick:ia,"data-ft":ja});this._blingBox=m.render(ma,this._blingRoot);}.bind(this));},_renderTimelineBling:function(){if(this._blingTimelineRoot)s.getFeedbackTarget(this._id,function(ha){var ia=n.getTrackingInfo(n.types.BLINGBOX),ja=h.getUserActionID(h.types.TIMELINE_SEE_LIKERS),ka=function(event){var na=l.byTag(event.target,"form");i.removeClass(na,"collapsed_comments");var oa=k.scry(na,'a.UFIPagerLink');if(oa.length)oa[0].click();event.preventDefault();}.bind(this),la=y.getCommentListForFeedbackTargetID_UNSAFE(this._id).getDisplayedCommentCount(),ma=m.createElement(x,{comments:la,commentsreduced:ha.commentcountreduced,commentOnClick:ka,contextArgs:this._contextArgs,"data-ft":ia,"data-gt":ja,enableShowComments:this._enableShowComments,enableShowLikes:this._enableShowLikes,feedbackFBID:this._ftFBID,likes:ha.likecount,likesreduced:ha.likecountreduced,reshares:ha.sharecount,resharesreduced:ha.sharecountreduced,actorid:ha.actorid});m.render(ma,this._blingTimelineRoot);}.bind(this));},_renderLike:function(){if(this._likeRoot)s.getFeedbackTarget(this._id,function(ha){var ia=!ha.hasviewerliked,ja=function(event){var la=ia?aa.UFIActionLinkLike:aa.UFIActionLinkUnlike;g.inform(la,{ft_id:this._id,like_action:ia,target:event.target});z.changeLike(this._id,ia,{source:this._source,target:event.target,rootid:this._contextArgs.rootid,giftoccasion:this._contextArgs.giftoccasion});event.preventDefault();g.inform('inlineShare/reflow');}.bind(this),ka=m.createElement(u,{onClick:ja,likeAction:ia,ufiExperiments:this._contextArgs.ufiexperiments});this._likeLink=m.render(ka,this._likeRoot);}.bind(this));},_renderComment:function(){if(!this._commentRoot)return;var ha=function(event){this._setInlineShareActive(false);}.bind(this),ia=m.createElement(q,{onClick:ha,ufiExperiments:this._contextArgs.ufiexperiments});this._commentLink=m.render(ia,this._commentRoot);},_renderMessageReply:function(){if(this._messageReplyRoot)s.getFeedbackTarget(this._id,function(ha){this._messageReplyLink=null;if(ha.messagereplycontext){var ia=m.createElement(ba,{activityID:this._id,context:ha.messagereplycontext});this._messageReplyLink=m.render(ia,this._messageReplyRoot);}if(!this._messageReplyLink||!m.findDOMNode(this._messageReplyLink)){if(this._messageReplySeparator)this._messageReplySeparator.data='';j.setContent(this._messageReplyRoot,null);return;}if(this._messageReplySeparator)this._messageReplySeparator.data=this._messageReplySeparatorData;}.bind(this));},_renderSubscribe:function(){if(this._subscribeRoot)s.getFeedbackTarget(this._id,function(ha){var ia=!ha.hasviewersubscribed,ja=function(event){z.changeSubscribe(this._id,ia,{source:this._source,target:event.target,rootid:this._contextArgs.rootid,commentexpandmode:ha.commentexpandmode});event.preventDefault();}.bind(this),ka=m.createElement(w,{onClick:ja,subscribeAction:ia});this._subscribeLink=m.render(ka,this._subscribeRoot);}.bind(this));},_renderShare:function(){if(!(this._shareRoot&&this._shareURI))return;var ha=function(event){if(this._getInlineShareLoaded()){this._setInlineShareActive(true);event.kill();}}.bind(this),ia=l.byClass(this._shareRoot,"_19ph"),ja=function(event){var ka=Object.assign({},event.data.props,{shareLinkNode:(ia||this._shareRoot)});this._initInlineShare(ka);}.bind(this);this._shareLink=m.render(m.createElement(v,{ufiExperiments:this._contextArgs.ufiexperiments,href:this._shareURI,onReceiveAsyncProps:ja,onClick:ha,rel:this._shareRel}),this._shareRoot);},_initInlineShare:function(ha){t.updateState(this._ufiInstanceID,'inlineShare',{loaded:true,active:true,props:ha,toggling:true});},_setInlineShareActive:function(ha){var ia=t.getKeyForInstance(this._ufiInstanceID,'inlineShare');t.updateState(this._ufiInstanceID,'inlineShare',Object.assign({},ia,{active:ha,toggling:true}));},_getInlineShareLoaded:function(){var ha=t.getKeyForInstance(this._ufiInstanceID,'inlineShare');return ha&&ha.loaded;},_isRenderingOnTimeline:function(){if(this._source===r.UFIFeedbackSourceType.PROFILE){var ha=k.scry(this._ufiRoot,'^form .fbTimelineFeedbackActions .UFIBlingBoxTimeline');return (ha.length>0);}return false;}});e.exports=ga;},null);
__d("MentionsInputUtils",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={generateDataFromTextWithEntities:function(h){var i=h.text,j=[];(h.ranges||[]).forEach(function(l){var m=l.entity;if(!m.external)j.push({uid:m.id,text:i.substr(l.offset,l.length),offset:l.offset,length:l.length,weakreference:!!m.weakreference});});var k={value:i,mentions:j};return k;}};e.exports=g;},null);
__d("ClipboardPhotoUploader",["ArbiterMixin","AsyncRequest","mixin"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=i(g);for(var k in j)if(j.hasOwnProperty(k))m[k]=j[k];var l=j===null?null:j.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=j;function m(n,o){"use strict";this.uploadURIString=n;this.data=o;}m.prototype.handlePaste=function(event){"use strict";var n=m.getImages(event);for(var o=0;o<n.length;++o){var p=new FormData();p.append('pasted_file',n[o]);var q=new h();q.setURI(this.uploadURIString).setData(this.data).setRawData(p).setHandler(function(r){this.inform('upload_success',r);}.bind(this)).setErrorHandler(function(r){this.inform('upload_error',r);}.bind(this));this.inform('upload_start');q.send();break;}};m.getImages=function(event){"use strict";if(!event.clipboardData)return [];var n=event.clipboardData.items;if(!n)return [];var o,p=[];for(var q=0;q<n.length;++q){o=n[q];if(o.kind==='string')return [];if(o.kind==='file'&&o.type.indexOf('image/')!==-1)p.push(o.getAsFile());}return p;};e.exports=m;},null);
__d("CloseButton.react",["React","Image.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g.createClass({displayName:"CloseButton",render:function(){var l=this.props,m=l.size||'medium',n=l.appearance||'normal',o=m==='small',p=m==='huge',q=n==='dark',r=n==='inverted',s=l.ajaxify||null,t=l.rel||null,u=(("uiCloseButton")+(o?' '+"uiCloseButtonSmall":'')+(p?' '+"uiCloseButtonHuge":'')+(o&&q?' '+"uiCloseButtonSmallDark":'')+(o&&r?' '+"uiCloseButtonSmallInverted":'')+(!o&&q?' '+"uiCloseButtonDark":'')+(!o&&r?' '+"uiCloseButtonInverted":''));return (g.createElement("a",g.__spread({},this.props,{ajaxify:s,href:"#",role:"button","aria-label":l.tooltip,"data-hover":l.tooltip&&'tooltip',"data-tooltip-alignh":l.tooltip&&'center',className:j(this.props.className,u),rel:t}),g.createElement(h,{className:"uiCloseButtonHighContrast",src:"/images/chat/tab/close.png"})));}});e.exports=k;},null);
__d("loadImage",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();"use strict";function g(h,i){var j=new Image();j.onload=function(){i(j.width,j.height,j);};j.src=h;}e.exports=g;},null);
__d("PhotoResizeMath",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={getScaledPhotoDimensions:function(h,i,j,k,l){var m=h/i,n=j/k;if(j&&k&&l==='stretch')return {width:j,height:k};if((!j&&k)||((l==='contain')!==(m>=n)))return {width:k*m,height:k};if(j)return {width:j,height:j/m};return {width:h,height:i};}};e.exports=g;},null);
__d("PixelzFocus",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();"use strict";var g={search:function(h,i){var j=0,k=h.length-1;while(j<=k){var l=j+Math.floor((k-j)/2),m=h[l];if(m>i){k=l-1;}else if(m<i){j=l+1;}else return l;}return Math.min(j,k);},forceSpecificPoint:function(h,i,j){var k=1e-09,l=g.search(h,i-j-k)+1,m=g.search(h,i+j);return h.slice(l,m+1);},findBiggestSets:function(h,i){var j=[],k=-1;for(var l=0;l<h.length;++l){var m=h[l],n=l,o=g.search(h,m+i),p=o-n;if(p>k)j=[];if(p>=k){k=p;j.push({low:n,high:o});}}return j;},getBestSet:function(h,i,j){var k=-1,l=null;for(var m=0;m<i.length;++m){var n=i[m],o=h[n.low],p=h[n.high],q=o+(p-o)/2,r=Math.min(o-(q-j),(q+j)-p);if(r>k){k=r;l=n;}}return l;},getFocusFromSet:function(h,i){var j=h[i.low],k=h[i.high];return j+(k-j)/2;},clampFocus:function(h,i){var j=i/2,k=1-(i/2);if(h<j)return j;if(h>k)return k;return h;},convertFromCenterToCSS:function(h,i){if(Math.abs(1-i)<1e-05)return 0;return (h-i/2)/(1-i);},convertFromCSSToCenter:function(h,i){return h*(1-i)+i/2;},getVisible:function(h,i){if(h<i)return h/i;return i/h;},getHidden:function(h,i){return 1-g.getVisible(h,i);},focusHorizontally:function(h,i){return h<i;},convertVectorFromCenterToCSS:function(h,i,j){var k=g.focusHorizontally(i,j),l;if(k){l=h.x/100;}else l=h.x/100;var m=g.convertFromCenterToCSS(l,g.getVisible(i,j));if(k){return {x:m,y:0};}else return {x:0,y:m};},getCropRect:function(h,i,j){var k=g.focusHorizontally(i,j),l=g.getVisible(i,j);if(k){var m=(1-l)*h.x;return {left:m,top:0,width:l,height:1};}else{var n=(1-l)*h.y;return {left:0,top:n,width:1,height:l};}}};e.exports=g;},null);
__d("Pixelz.react",["arrayContains","copyProperties","cx","loadImage","joinClasses","React","PhotoResizeMath","PixelzFocus"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();"use strict";var o=l,p=o.PropTypes,q=l.createClass({displayName:"Pixelz",propTypes:{width:p.number,height:p.number,resizeMode:p.oneOf(['contain','cover','stretch']),alt:p.string,letterbox:p.bool,borderRadius:p.number,insetBorderColor:p.string,animated:p.bool,upscale:p.bool,cropRect:function(r,s,t){var u=r[s],v='Invalid prop `'+s+'` supplied to `'+t+'`, expected a rectangle with values normalized '+'between 0 and 1.';if(u.left<0||u.top<0||u.width<0||u.height<0||u.left+u.width>1||u.top+u.height>1)return new Error(v);},focus:function(r,s,t){var u=r[s],v='Invalid prop `'+s+'` supplied to `'+t+'`, expected either a {x, y, type} vector where type '+'is `css` or `center` or an array of {x, y} vectors. All the vectors '+'have with values normalized between 0 and 1.';if(Array.isArray(u)){for(var w=0;w<u.length;++w)if(!(u[w].x>=0&&u[w].x<=1)||!(u[w].y>=0&&u[w].y<=1))return new Error(v);}else{if(!u.type)u.type='css';if(!(u.x>=0&&u.x<=1)||!(u.y>=0&&u.y<=1)||!g(['center','css'],u.type))return new Error(v);}}},getDefaultProps:function(){return {resizeMode:'cover',alt:'',letterbox:true,upscale:true,cropRect:{width:1,height:1,top:0,left:0},focus:{x:.5,y:.5,type:'css'}};},getInitialState:function(){return {srcDimensions:{}};},getSrcDimensions:function(){var r=this.props.src,s=this.state.srcDimensions[r];if(s)return s;j(r,function(t,u){var v={};v[r]={width:t,height:u};this.isMounted()&&this.setState({srcDimensions:v});}.bind(this));return null;},getCropSrcDimensions:function(){var r=this.getSrcDimensions();return {width:r.width*this.props.cropRect.width,height:r.height*this.props.cropRect.height};},getUpscaleCropDimensions:function(){var r=this.getCropSrcDimensions();return m.getScaledPhotoDimensions(r.width,r.height,this.props.width,this.props.height,this.props.resizeMode);},getCropDimensions:function(){var r=this.getUpscaleCropDimensions(),s=this.getCropSrcDimensions();if(!this.props.upscale)return {width:Math.min(r.width,s.width),height:Math.min(r.height,s.height)};return r;},getCropAspectRatio:function(){var r=this.getCropDimensions();return r.width/r.height;},getContainerDimensions:function(){if(this.props.letterbox&&this.props.width&&this.props.height)return {width:this.props.width,height:this.props.height};return this.getCropDimensions();},getContainerAspectRatio:function(){var r=this.getContainerDimensions();return r.width/r.height;},getContainerPosition:function(){return {left:0,top:0};},getFocus:function(){var r=this.props.focus;if(!Array.isArray(r)&&r.type==='css')return {x:r.x,y:r.y};var s=this.getContainerAspectRatio(),t=this.getCropAspectRatio(),u=n.getVisible(s,t),v=n.focusHorizontally(s,t),w;if(!Array.isArray(r)){w=n.convertFromCenterToCSS(v?r.x:r.y,u);}else{var x=r.map(function(aa){return v?aa.x:aa.y;});x.sort();var y=n.findBiggestSets(x,u),z=n.getBestSet(x,y,u);w=n.getFocusFromSet(x,z);}return {x:v?w:.5,y:v?.5:w};},getCropPosition:function(){var r=this.getCropDimensions(),s=this.getContainerDimensions(),t=this.getFocus();return {left:t.x*(s.width-r.width),top:t.y*(s.height-r.height)};},getScaleDimensions:function(){var r=this.getCropDimensions();return {width:r.width/this.props.cropRect.width,height:r.height/this.props.cropRect.height};},getScalePosition:function(){var r=this.getScaleDimensions();return {left:-r.width*this.props.cropRect.left,top:-r.height*this.props.cropRect.top};},getClipCropRectangle:function(){var r=this.getContainerDimensions(),s=this.getCropDimensions(),t=this.getContainerPosition(),u=this.getCropPosition(),v=Math.max(t.left,u.left),w=Math.max(t.top,u.top),x=Math.min(t.top+r.height,u.top+s.height),y=Math.min(t.left+r.width,u.left+s.width);return {left:v,top:w,width:y-v,height:x-w};},getClipCropPosition:function(){var r=this.getClipCropRectangle();return {left:r.left,top:r.top};},getClipCropDimensions:function(){var r=this.getClipCropRectangle();return {width:r.width,height:r.height};},getClipScalePosition:function(){var r=this.getScalePosition(),s=this.getClipCropPosition(),t=this.getCropPosition();return {left:r.left+(t.left-s.left),top:r.top+(t.top-s.top)};},getClipScaleDimensions:function(){return this.getScaleDimensions();},areDimensionsEqual:function(r,s){return r.width===s.width&&r.height===s.height;},shouldAddAllNodesAndStyles:function(){return this.props.animated;},hasCrop:function(){if(this.shouldAddAllNodesAndStyles())return true;var r=this.getContainerDimensions(),s=this.getClipCropDimensions(),t=this.getClipScaleDimensions();if(this.areDimensionsEqual(r,s)||this.areDimensionsEqual(s,t))return false;return true;},hasContainer:function(){if(this.shouldAddAllNodesAndStyles()||this.hasInsetBorder())return true;var r=this.getContainerDimensions(),s=this.getClipScaleDimensions();if(this.areDimensionsEqual(r,s))return false;return true;},hasInsetBorder:function(){return this.shouldAddAllNodesAndStyles()||this.props.insetBorderColor;},applyPositionStyle:function(r,s){if(this.shouldAddAllNodesAndStyles()||s.left)r.left=Math.round(s.left);if(this.shouldAddAllNodesAndStyles()||s.top)r.top=Math.round(s.top);},applyDimensionsStyle:function(r,s){r.width=Math.round(s.width);r.height=Math.round(s.height);},applyBorderRadiusStyle:function(r){if(this.shouldAddAllNodesAndStyles()||this.props.borderRadius)r.borderRadius=this.props.borderRadius||0;},getScaleStyle:function(){var r={},s=this.getClipCropDimensions(),t=this.getClipScaleDimensions();if(this.shouldAddAllNodesAndStyles()||!this.areDimensionsEqual(s,t)){this.applyPositionStyle(r,this.getClipScalePosition());}else this.applyPositionStyle(r,this.getClipCropPosition());this.applyDimensionsStyle(r,this.getClipScaleDimensions());this.applyBorderRadiusStyle(r);return r;},getCropStyle:function(){var r={};this.applyPositionStyle(r,this.getClipCropPosition());this.applyDimensionsStyle(r,this.getClipCropDimensions());this.applyBorderRadiusStyle(r);return r;},getInsetBorderStyle:function(){var r={borderColor:this.props.insetBorderColor||'transparent'};this.applyPositionStyle(r,this.getClipCropPosition());this.applyDimensionsStyle(r,this.getClipCropDimensions());this.applyBorderRadiusStyle(r);return r;},getContainerStyle:function(){var r={};this.applyDimensionsStyle(r,this.getContainerDimensions());this.applyBorderRadiusStyle(r);return r;},getScale:function(){var r=this.getScaleStyle(),s=r.width,t=r.height;r=h({},r);delete r.width;delete r.height;return (l.createElement("img",l.__spread({},this.props,{alt:this.props.alt,className:k(this.props.className,(("_56wb")+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":''))),src:this.props.src,style:Object.assign({},(this.props.style||{}),r),width:s,height:t})));},getCrop:function(){var r=this.getScale();if(!this.hasCrop())return r;return (l.createElement("div",{className:(("_56ma")+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":'')),style:this.getCropStyle()},r));},getInsetBorder:function(){if(!this.hasInsetBorder())return null;return (l.createElement("div",{className:(("_56lv")+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":'')),style:this.getInsetBorderStyle()}));},getContainer:function(){var r=this.getCrop();if(!this.hasContainer())return r;var s=this.getInsetBorder();return (l.createElement("div",{className:(("_56jj")+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":'')),style:this.getContainerStyle()},r,s));},render:function(){var r=this.getSrcDimensions();if(!r)return l.createElement("span",null);return this.getContainer();}});e.exports=q;},null);
__d("List.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes,l=g.createClass({displayName:"List",propTypes:{border:k.oneOf(['none','light','medium','dark']),spacing:k.oneOf(['none','small','medium','large']),direction:k.oneOf(['vertical','horizontal']),valign:k.oneOf(['baseline','top','middle','bottom']),edgepadding:k.bool},getDefaultProps:function(){return {border:'medium',spacing:'medium',direction:'vertical',valign:'top'};},render:function(){var m=this.props.border,n=this.props.direction,o=this.props.spacing,p=n==='horizontal'&&this.props.valign,q,r,s;q=((n==='vertical'?"_4kg":'')+(n==='horizontal'?' '+"_4ki":'')+(p==='top'?' '+"_509-":'')+(p==='middle'?' '+"_509_":'')+(p==='bottom'?' '+"_50a0":''));if(o!=='none'||m!=='none')r=((m==='none'?"_6-i":'')+(m==='light'?' '+"_4ks":'')+(m==='medium'?' '+"_4kt":'')+(m==='dark'?' '+"_4ku":''));if(o!=='none')s=((!this.props.edgepadding?"_6-h":'')+(o==='small'?' '+"_704":'')+(o==='medium'?' '+"_6-j":'')+(o==='large'?' '+"_703":''));var t=i("uiList",q,r,s);return (g.createElement("ul",g.__spread({},this.props,{className:i(this.props.className,t)}),this.props.children));}});e.exports=l;},null);
__d("Facepile.react",["joinClasses","Link.react","Pixelz.react","React","List.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=j,n=m.PropTypes,o={small:24,medium:32,large:50},p=j.createClass({displayName:"Facepile",propTypes:{className:n.string,onFaceClick:n.func,onComponentDidMount:n.func,profiles:n.array,size:n.oneOf(['small','medium','large']).isRequired},_onFaceClick:function(q,r){if(this.props.onFaceClick)this.props.onFaceClick(q,r);},componentDidMount:function(){if(this.props.onComponentDidMount)this.props.onComponentDidMount();},renderFace:function(q,r){var s=o[this.props.size];return (j.createElement("li",{className:"_43q7",key:q.uniqueID,onClick:this._onFaceClick.bind(this,q,r)},j.createElement(h,{href:q.URL,"aria-label":q.name,"data-hover":'tooltip',className:"_2rt_","data-tooltip-alignh":'left'},j.createElement(i,{src:q.profilePicURI,width:s,height:s,className:"img"}))));},render:function(){var q=g(this.props.className,(("_43qm")+(this.props.size=='small'?' '+"_43q9":'')+(this.props.size=='medium'?' '+"_43qc":'')+(this.props.size=='large'?' '+"_43qf":'')));return (j.createElement("div",{className:q},j.createElement(k,{className:"uiFacepile/list",direction:"horizontal",spacing:"none",border:"none"},this.props.profiles.map(this.renderFace))));}});e.exports=p;},null);
__d("PagingFacepile.react",["Animation","Locale","Facepile.react","React","Image.react","cx","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=j,o=n.PropTypes,p=200,q=j.createClass({displayName:"PagingFacepile",propTypes:{className:o.string,onFaceClick:o.func,onComponentDidMount:o.func,size:o.oneOf(['small','medium','large']).isRequired,pageSize:o.number,onPageChange:o.func},getInitialState:function(){return {animating:false,page:0};},_numPages:function(){var r=this.props.pageSize;return Math.max(1,Math.ceil((this.props.profiles.length-1)/r));},_canGoPrev:function(){return this.state.page>0;},_canGoNext:function(){return this.state.page+1<this._numPages();},_goPrev:function(){this._canGoPrev()&&this._setPage(this.state.page-1);},_goNext:function(){this._canGoNext()&&this._setPage(this.state.page+1);},_setPage:function(r){if(this.state.animating)return;this.props.onPageChange(this._firstIndexOnPage(r));this.setState({animating:true,page:r},function(){var s=j.findDOMNode(this.refs.positioner).childNodes[0],t=this._calculatePosition(r);new g(s).to(t.reference,t.offset+'px').ondone(function(){return this.setState({animating:false});}.bind(this)).duration(p).go();}.bind(this));},_firstIndexOnPage:function(r){return (r===0)?0:this.props.pageSize*r+1;},_calculatePosition:function(r){var s=this._firstIndexOnPage(r),t=j.findDOMNode(this.refs.positioner).childNodes[0],u=t.childNodes[s].offsetLeft;if(h.isRTL()){var v=t.offsetWidth,w=t.childNodes[s].offsetWidth;return {reference:'right',offset:u+w-v};}return {reference:'left',offset:-u};},render:function(){return (j.createElement("div",null,this._renderPrevArrow(),this._renderNextArrow(),j.createElement("div",{className:"_29sq"},j.createElement(i,j.__spread({ref:"positioner"},this.props)))));},_renderArrow:function(r,s,t){var u=(("_43q7")+(r=='left'?' '+"lfloat":'')+(r=='right'?' '+"rfloat":'')),v=m('/images/messaging/stickers/selector/left.png'),w=m('/images/messaging/stickers/selector/right.png'),x;if(h.isRTL()){x=r=='right'?v:w;}else x=r=='left'?v:w;return (j.createElement("div",{className:u,onClick:t},j.createElement("a",{href:"#","aria-label":s,"data-hover":"tooltip","data-tooltip-alignh":"left",className:"_29sr"},j.createElement(k,{src:x}))));},_renderPrevArrow:function(){if(!this._canGoPrev())return null;return this._renderArrow('left','Previous',this._goPrev);},_renderNextArrow:function(){if(!this._canGoNext())return null;return this._renderArrow('right','Next',this._goNext);}});e.exports=q;},null);
__d("InputCaretUtility",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={moveCaretToBeginning:function(h){if(typeof h.selectionStart==="number"){h.selectionStart=h.selectionEnd=0;}else if(h.createTextRange!==(void 0)){h.focus();var i=h.createTextRange();i.collapse(false);i.select();}},delayedMoveCaretToBeginning:function(h){setTimeout(function(){return g.moveCaretToBeginning(h);});}};e.exports=g;},null);
__d("LegacyMentionsInput.react",["Bootloader","CLogConfig","TypeaheadMetricsConfig","Event","InputCaretUtility","Keys","React","DOM","cx","FocusListener"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();b('FocusListener');var p=m,q=p.PropTypes,r=m.createClass({displayName:"ReactLegacyMentionsInput",propTypes:{initialData:q.object,placeholder:q.string,datasource:q.object,ref:q.string,viewOptionsTypeObjects:q.object,viewOptionsTypeObjectsOrder:q.array,hashtags:q.bool,autoflip:q.bool,onEnterSubmit:q.func,onFocus:q.func,onBlur:q.func,onTypingStateChange:q.func,onPaste:q.func},componentDidMount:function(){this.props.initialData&&this._initializeTextarea(m.findDOMNode(this));},hasEnteredText:function(){return !!(this._mentionsInput&&this._mentionsInput.getValue().trim());},setSignature:function(s){var t=m.findDOMNode(this.refs.textarea);n.setAttributes(t,{value:s});k.delayedMoveCaretToBeginning(t);},submitComment:function(event){var s;if(event){s=event.target.value&&event.target.value.trim();}else{var t=m.findDOMNode(this.refs.textarea);if(t.value&&t.value!==t.placeholder)s=t.value;}s=s||'';var u={visibleValue:s,encodedValue:s};if(this._mentionsInput)u.encodedValue=this._mentionsInput.getRawValue().trim();var v=this.props.onEnterSubmit(u,event);if(v&&this._mentionsInput){this._mentionsInput.reset();event&&event.preventDefault();}},_handleKeydown:function(event){var s=event.nativeEvent,t=j.getKeyCode(s)==l.RETURN&&!j.$E(s).getModifiers().any,u=this._mentionsInput&&this._mentionsInput.getTypeahead().getView().getSelection();if(this.props.onEnterSubmit&&t&&!u)this.submitComment(event);},_handleFocus:function(){this.props.onFocus&&this.props.onFocus();this._initializeTextarea(m.findDOMNode(this.refs.root));},_handleBlur:function(){this.props.onBlur&&this.props.onBlur();},_initializeTextarea:function(s){if(this._mentionsInput||this._bootloadingMentions)return;this._bootloadingMentions=true;g.loadModules(["CompactTypeaheadRenderer","ContextualTypeaheadView","CLoggerX","InputSelection","MentionsInput","TextAreaControl","Typeahead","TypeaheadAreaCore","TypeaheadBestName","TypeaheadHoistFriends","TypeaheadMetrics","TypeaheadMetricsX","TypingDetector","UFIComments"],function(t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){var ha=m.findDOMNode(this.refs.textarea);new y(ha);if(h.gkResults){var ia=ga.getComment(this.props.replyCommentID),ja=ia?ia.fbid:null;v.trackMentionsInput(ha,ja);}if(this.props.onTypingStateChange){var ka=new fa(ha);ka.init();ka.subscribe('change',this.props.onTypingStateChange);}var la={autoSelect:true,renderer:t,causalElement:ha,autoflip:this.props.autoflip};if(this.props.viewOptionsTypeObjects)la.typeObjects=this.props.viewOptionsTypeObjects;if(this.props.viewOptionsTypeObjectsOrder)la.typeObjectsOrder=this.props.viewOptionsTypeObjectsOrder;var ma=new z(this.props.datasource,{ctor:u,options:la},{ctor:aa},m.findDOMNode(this.refs.typeahead)),na=[ba,ca];if(i.gkResults){var oa=new ea({extraData:{event_name:'mention_metric_x'}});oa.init(ma);}var pa=new da({extraData:{event_name:'mentions',from_location:'comments'}});z.initNow(ma,na,pa);this._mentionsInput=new x(s,ma,ha,{hashtags:this.props.hashtags});this._mentionsInput.init({},this.props.initialData);if(this.props.initialData)w.set(ha,ha.value.length);if(this.props.onPaste)j.listen(ha,'paste',this.props.onPaste);this._bootloadingMentions=false;}.bind(this));},focus:function(){try{m.findDOMNode(this.refs.textarea).focus();}catch(s){}},render:function(){var s=(("textInput")+(' '+"mentionsTextarea")+(' '+"uiTextareaAutogrow")+(' '+"uiTextareaNoResize")+(' '+"UFIAddCommentInput"));return (m.createElement("div",{ref:"root",className:"uiMentionsInput textBoxContainer ReactLegacyMentionsInput"},m.createElement("div",{className:"highlighter"},m.createElement("div",null,m.createElement("span",{className:"highlighterContent hidden_elem"}))),m.createElement("div",{ref:"typeahead",className:"uiTypeahead mentionsTypeahead"},m.createElement("div",{className:"wrap"},m.createElement("input",{type:"hidden",autoComplete:"off",className:"hiddenInput"}),m.createElement("div",{className:"innerWrap"},m.createElement("textarea",{ref:"textarea",name:"add_comment_text",className:s,title:this.props.placeholder,placeholder:this.props.placeholder,onFocus:this._handleFocus,onBlur:this._handleBlur,onKeyDown:this._handleKeydown})))),m.createElement("input",{type:"hidden",autoComplete:"off",className:"mentionsHidden",defaultValue:""})));}});e.exports=r;},null);
__d("LoadingIndicator.react",["React","Image.react","cx","keyMirror","ix","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=j({white:true,blue:true,black:true}),n=j({small:true,medium:true,large:true}),o={white:{large:k('/images/loaders/indicator_blue_large.gif'),medium:k('/images/loaders/indicator_blue_medium.gif'),small:k('/images/loaders/indicator_blue_small.gif')},blue:{large:k('/images/loaders/indicator_white_large.gif'),small:k('/images/loaders/indicator_white_small.gif')},black:{large:k('/images/loaders/indicator_black.gif')}},p=g.createClass({displayName:"LoadingIndicator",render:function(){var q=this.props.color,r=this.props.size;if(!o[q])return g.createElement("span",null);if(!o[q][r])return g.createElement("span",null);var s=((this.props.showonasync?"uiLoadingIndicatorAsync":'')),t=o[q][r];return (g.createElement(h,g.__spread({},this.props,{src:t,className:l(this.props.className,s)})));}});p.SIZES=n;p.COLORS=m;e.exports=p;},null);
__d("XPagesAdminSignatureSettingsController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pages\/admin\/signature\/settings\/",{});},null);
__d("XPagesAdminSignaturePromptDialogController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pages\/admin\/signature\/prompt\/",{__asyncDialog:{type:"Int"}});},null);
__d("PageAdminSignatureMonitor",["Arbiter","AsyncRequest","AdminSignatureConstants","DOM","DOMQuery","Event","InputCaretUtility","PageAdminSignatureSettings","XPagesAdminSignatureSettingsController","XPagesAdminSignaturePromptDialogController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q={registerComposerControlForSignature:function(r,s,t,u){if(!s||!s.isValid)return;var v=this._getUnderlyingTextControl(r),w=new n(s,t);l.listen(v,'focus',function(){this._handleInputFieldFocusForSignature(v,w,w.getShouldAttachToPost(),function(x){return x.value;},function(x,y){if(u)y='\n\n'.concat(y);j.setAttributes(x,{value:y});m.delayedMoveCaretToBeginning(x);});}.bind(this));},handleReactInputFieldFocusForSignature:function(r,s,t){this._handleInputFieldFocusForSignature(r,s,t,function(u){return u.hasEnteredText();},function(u,v){return u.setSignature(v);});},prepareConfirmationDialog:function(r,s,t){r.subscribe('confirm',function(){r.hide();this._notifyPromptConfirmation(s,t,true);}.bind(this));r.subscribe('cancel',function(){this._notifyPromptConfirmation(s,t,false);}.bind(this));},_promptForAutoSignature:function(r){g.inform(i.EVENT_ADMIN_SIGNATURE_PROMPTED,{userID:r.getUserID()});var s=p.getURIBuilder().getURI();new h().setURI(s).setData({pageID:r.getPageID()}).send();},_handleInputFieldFocusForSignature:function(r,s,t,u,v){if(!s||!s.getIsValidWithActor())return;if(!s.getEverPromptedUser()){this._promptForAutoSignature(s);}else if(t&&!u(r))v(r,s.getSignature());},_notifyPromptConfirmation:function(r,s,t){var u=o.getURIBuilder().getURI();new h().setURI(u).setData({pageID:r,signatureOption:i.SETTING_EVER_PROMPTED,signatureOptionValue:t}).send();this._aribiterNotifyPromptConfirmation(r,s,t);},_getUnderlyingTextControl:function(r){return k.find(r,'textarea');},_aribiterNotifyPromptConfirmation:function(r,s,t){var u=[i.SETTING_ATTACH_TO_POST,i.SETTING_ATTACH_TO_COMMENT,i.SETTING_ATTACH_TO_MESSAGE];u.forEach(function(v){g.inform(i.EVENT_ADMIN_SIGNATURE_SETTING_CHANGED,{pageID:r,userID:s,settingChanged:v,newValue:t});});}};e.exports=q;},null);
__d("ReactLayeredComponentMixin",["ExecutionEnvironment","ReactInstanceMap","ReactCurrentOwner","React","ReactFragment"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();"use strict";var l={componentWillMount:function(){if(g.canUseDOM)this._layersContainer=document.createElement('div');},componentDidMount:function(){this._renderLayersIntoContainer();},componentDidUpdate:function(){this._renderLayersIntoContainer();},componentWillUnmount:function(){j.unmountComponentAtNode(this._layersContainer);},_renderLayersIntoContainer:function(){i.current=h.get(this);var m;try{m=this.renderLayers();}finally{i.current=null;}if(m&&!Array.isArray(m)&&!j.isValidElement(m))m=k.create(m);j.render(j.createElement("div",null,m),this._layersContainer);}};e.exports=l;},null);
__d("isValidUniqueID",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){return (h!==null&&h!==(void 0)&&h!==''&&(typeof h==='string'||typeof h==='number'));}e.exports=g;},null);
__d("SearchableEntry",["HTML","isValidUniqueID","invariant"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(l){switch(typeof l){case 'string':return l;case 'object':var m=g.replaceJSONWrapper(l);if(g.isHTML(m)){var n=m.getRootNode();return n.textContent||n.innerText||'';}else return '';default:return '';}}function k(l){"use strict";i(h(l.uniqueID));i(!!l.title&&typeof l.title==='string');this.$SearchableEntry0=l.uniqueID+'';this.$SearchableEntry1=l.title;this.$SearchableEntry2=l.order||0;this.$SearchableEntry3=j(l.subtitle);this.$SearchableEntry4=l.keywordString||'';this.$SearchableEntry5=l.photo||'';this.$SearchableEntry6=l.uri||'';this.$SearchableEntry7=l.type||'';this.$SearchableEntry8=l.auxiliaryData||null;}k.prototype.getUniqueID=function(){"use strict";return this.$SearchableEntry0;};k.prototype.getOrder=function(){"use strict";return this.$SearchableEntry2;};k.prototype.getTitle=function(){"use strict";return this.$SearchableEntry1;};k.prototype.getSubtitle=function(){"use strict";return this.$SearchableEntry3;};k.prototype.getKeywordString=function(){"use strict";return this.$SearchableEntry4;};k.prototype.getPhoto=function(){"use strict";return this.$SearchableEntry5;};k.prototype.getURI=function(){"use strict";return this.$SearchableEntry6;};k.prototype.getType=function(){"use strict";return this.$SearchableEntry7;};k.prototype.getAuxiliaryData=function(){"use strict";return this.$SearchableEntry8;};e.exports=k;},null);
__d("SnowflakePermalinkUtils",["URI"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=/\/[^/]+\/(albums\/([^/]+)|posts\/([a-zA-Z]+[^/]+))\/([^/]+\/)?/,i=/\/[^/]+\/(albums|posts)\/([^/]+)\/([^/]+\/)?/,j={isPermalinkURI:function(k){k=g(k);return h.test(k.getPath());},parseURI:function(k){if(!this.isPermalinkURI(k))return {};k=g(k);var l=k.getPath().match(i);return {setToken:l[2],entIdentifierToken:l[3],photoID:k.getQueryData().photo_id};}};e.exports=j;},null);
__d("Sticker.react",["Arbiter","React","StickerConfig","StickerConstants","emptyFunction","getElementPosition","getObjectValues"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=h,o=n.PropTypes,p=83,q=5000,r=10,s={CLICK:'click',HOVER:'hover',LOAD_AND_HOVER:'load_and_hover'},t=h.createClass({displayName:"Sticker",propTypes:{animationTrigger:o.oneOf(m(s)),frameCount:o.number.isRequired,frameRate:o.number,framesPerCol:o.number.isRequired,framesPerRow:o.number.isRequired,onStickerClick:o.func,packID:o.string,sourceURI:o.string.isRequired,sourceWidth:o.number.isRequired,sourceHeight:o.number.isRequired,spriteURI:o.string,stickerID:o.string,subscribedThreadID:o.string},getInitialState:function(){return {index:0,hasAnimated:false,unsubscribeID:null};},getDefaultProps:function(){return {frameRate:p,onStickerClick:k,packID:null};},componentDidMount:function(){this._stopIntervalID=0;if(this.props.animationTrigger===s.LOAD_AND_HOVER&&this.props.frameCount>1&&this.props.spriteURI)this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount>1){var u=g.subscribe(this.props.subscribedThreadID,function(v,w){this.isScrolledIntoView(w.scrollTop,w.viewHeight,w.top);}.bind(this));this.setState({unsubscribeID:u});}},componentWillUnmount:function(){if(this.state.unsubscribeID)g.unsubscribe(this.state.unsubscribeID);if(this.isAnimating())clearInterval(this._stopIntervalID);},isAnimating:function(){return !!this._stopIntervalID;},getWidth:function(){return Math.floor(this.props.sourceWidth);},getHeight:function(){return Math.floor(this.props.sourceHeight);},preloadSprite:function(){var u=new Image();u.onload=function(){if(this.isMounted()&&!this.state.hasAnimated){this.setState({hasAnimated:true});this._stopIntervalID=setInterval(this.incrementFrameIndex,this.props.frameRate);}}.bind(this);if(i.ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){u.src=this.props.paddedSpriteURI;}else u.src=this.props.spriteURI;},isScrolledIntoView:function(u,v,w){var x=l(h.findDOMNode(this)),y=u+x.y-w,z=u+v,aa=y+x.height;if(this.props.frameCount>1&&!this.state.hasAnimated&&aa-r<=z&&y+r>=u)this.startAnimation();},startAnimation:function(){if(!this.state.hasAnimated&&this.props.spriteURI){this.preloadSprite();}else if(!this.isAnimating()){this.setState({hasAnimated:true});this._stopIntervalID=setInterval(this.incrementFrameIndex,this.props.frameRate);}},stopAnimation:function(){this.setState({index:0});clearInterval(this._stopIntervalID);this._stopIntervalID=0;},toggleAnimation:function(){if(this.isAnimating()){this.stopAnimation();}else this.startAnimation();},shouldStopAnimating:function(){var u=this.state.index%this.props.frameCount;if(!(u===0&&this.state.index*this.props.frameRate>q))return false;if(this.props.animationTrigger===s.CLICK)return true;return !this.state.isHovered;},incrementFrameIndex:function(){if(this.shouldStopAnimating()){this.stopAnimation();}else this.setState({index:this.state.index+1});},getStyle:function(){var u=0,v=this.props.spriteURI;if(i.ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){v=this.props.paddedSpriteURI;var w=240/Math.min(this.getHeight(),this.getWidth());u=Math.floor(j.SPRITE_PADDING/w);}var x=this.state.index%this.props.frameCount,y=(x%this.props.framesPerRow)*(this.getWidth()+u*2)+u,z=Math.floor(x/this.props.framesPerRow)*(this.getHeight()+u*2)+u,aa=(this.props.frameCount>1&&this.props.animationTrigger===s.CLICK)||this._isStickerClickable(this.props.packID),ba;if(this.props.style&&this.props.style.cursor){ba=this.props.style.cursor;}else ba=aa?'pointer':'default';if(!this.state.hasAnimated||!this.props.spriteURI){return {backgroundImage:'url('+this.props.sourceURI+')',backgroundRepeat:'no-repeat',backgroundSize:this.getWidth()+'px '+this.getHeight()+'px',cursor:ba,height:this.getHeight(),width:this.getWidth()};}else return {backgroundImage:'url('+v+')',backgroundPosition:(-y)+'px '+(-z)+'px',backgroundSize:(this.getWidth()+u*2)*this.props.framesPerRow+'px '+(this.getHeight()+u*2)*this.props.framesPerCol+'px',cursor:ba,height:this.getHeight(),width:this.getWidth()};},_isStickerClickable:function(u){return u&&u!=j.MOBILE_LIKE_STICKER_PACK_ID&&u!=j.GRAVEYARD_PACK_ID;},onStickerClick:function(){if(!this._isStickerClickable(this.props.packID))return;if(this.props.onStickerClick)this.props.onStickerClick(this.props.packID,this.props.stickerID);},mouseLeft:function(){this.setState({isHovered:false});},mouseEntered:function(){this.setState({isHovered:true});if(!this.isAnimating())this.startAnimation();},render:function(){var u,v;if(this.props.animationTrigger===s.CLICK&&this.props.frameCount>1&&this.props.spriteURI){u=true;}else if((this.props.animationTrigger===s.HOVER||this.props.animationTrigger===s.LOAD_AND_HOVER)&&this.props.frameCount>1&&this.props.spriteURI)v=true;var w=u?this.toggleAnimation:null;if(this.props.packID)w=this.onStickerClick;return (h.createElement("div",h.__spread({tabIndex:"0"},this.props,{style:Object.assign({},(this.props.style||{}),this.getStyle()),onClick:w,onMouseEnter:v?this.mouseEntered:null,onMouseLeave:v?this.mouseLeft:null})));}});e.exports=t;},null);
__d("UFIClassNames",["cx"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();e.exports={ACTOR_IMAGE:"img UFIActorImage _54ru",ROW:"UFIRow",UNSEEN_ITEM:"UFIUnseenItem"};},null);
__d("ImageBlock.react",["LeftRight.react","React","cx","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();function l(o){j(o.children&&(o.children.length===2||o.children.length===3));}function m(o){return (("img")+(' '+"_8o")+(o==='small'?' '+"_8r":'')+(o==='medium'?' '+"_8s":'')+(o==='large'?' '+"_8t":''));}var n=h.createClass({displayName:"ImageBlock",render:function(){l(this.props);var o=this.props.children[0],p=this.props.children[1],q=this.props.children[2],r=this.props.spacing||'small',s={className:k(o.props.className,m(r),this.props.imageClassName)};if(o.type==='img'){if(o.props.alt===(void 0))s.alt='';}else if((o.type==='a'||o.type==='link')&&o.props.tabIndex===(void 0)&&o.props.title===(void 0)&&o.props['aria-label']===(void 0)){s.tabIndex='-1';s['aria-hidden']='true';}o=h.cloneElement(o,s);var t=k(this.props.contentClassName,(("_42ef")+(r==='small'?' '+"_8u":''))),u;if(!q){u=h.createElement("div",{className:t},p);}else u=h.createElement(g,{className:t,direction:g.DIRECTION.right},p,q);return (h.createElement(g,h.__spread({},this.props,{direction:g.DIRECTION.left}),o,u));}});e.exports=n;},null);
__d("UFIImageBlock.react",["ImageBlock.react","React","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=h.createClass({displayName:"UFIImageBlock",render:function(){return (h.createElement(g,h.__spread({},this.props,{imageClassName:"UFIImageBlockImage",contentClassName:"UFIImageBlockContent"}),this.props.children));}});e.exports=j;},null);
__d("UFIStickerButton.react",["Bootloader","ContextualLayerAutoFlip","Link.react","React","ReactLayeredComponentMixin","StickerInterfaces","cx","fbt","getObjectValues"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=j,q=p.PropTypes,r=j.createClass({displayName:"UFIStickerButton",propTypes:{onStickerFlyoutShow:q.func,onStickerSelected:q.func.isRequired,onEmoticonSelected:q.func,showTooltip:q.bool,stickerInterface:q.oneOf(o(l))},mixins:[k],getDefaultProps:function(){return {showTooltip:true,stickerInterface:l.COMMENTS};},getInitialState:function(){return {renderFlyout:null,flyoutShown:false};},render:function(){var s=n._("Envoyer un autocollant");return (j.createElement(i,{"aria-label":(this.props.showTooltip)?s:null,className:"UFICommentStickerButton","data-hover":"tooltip","data-tooltip-alignh":"center",onClick:this._onLinkClicked,onMouseDown:this._prepareForClick},j.createElement("div",{ref:"icon",tabIndex:0,className:"UFICommentStickerIcon"}),this.props.children));},renderLayers:function(){return !this.state.renderFlyout?{}:this.state.renderFlyout();},_hideFlyout:function(){this.setState({flyoutShown:false});},_prepareForClick:function(){this._clickGuard=this.state.flyoutShown;},_onLinkClicked:function(){if(this.state.renderFlyout!==null){if(!this._clickGuard){this.props.onStickerFlyoutShow&&this.props.onStickerFlyoutShow();this.setState({flyoutShown:true});}return;}g.loadModules(["XUIContextualDialog.react","StickersFlyout.react"],function(s,t){this.setState({flyoutShown:true,renderFlyout:function(){return {contextualDialog:j.createElement(s,{alignment:"right",behaviors:{flip:h},className:"_5e-r",contextRef:"icon",onBlur:this._hideFlyout,position:"above",shown:this.state.flyoutShown,hasActionableContext:true,width:278},j.createElement("div",null,j.createElement(t,{onPackSelect:function(u){this.setState({packID:u});}.bind(this),onEscKeyDown:this._hideFlyout,onStickerSelect:this._onStickerSelected,onEmoticonSelect:this._onEmoticonSelected,stickerInterface:this.props.stickerInterface,packID:this.state.packID,shown:this.state.flyoutShown})))};}.bind(this)});this.props.onStickerFlyoutShow&&this.props.onStickerFlyoutShow();}.bind(this));},_onStickerSelected:function(s,event){this.props.onStickerSelected(s,event);this._hideFlyout();},_onEmoticonSelected:function(s){this.props.onEmoticonSelected(s);this._hideFlyout();}});e.exports=r;},null);
__d("XFeedNUXSaveSeenStateController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/feed\/nux\/seen\/save\/",{link_id:{type:"String"},key:{type:"String",required:true},seen:{type:"Bool",defaultValue:false}});},null);
__d("XUFIRecommendedMentionFriendsAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/ufi\/recommended_mention_friends\/",{cursor:{type:"String"},limit:{type:"Int"}});},null);
__d("UFIAddComment.react",["ActorURI","Arbiter","AsyncRequest","Bootloader","ClipboardPhotoUploader","CloseButton.react","DOM","DOMContainer.react","getActiveElement","Event","PagingFacepile.react","Focus","HTML","Keys","LegacyMentionsInput.react","Link.react","LitestandStoryInsertionStatus","LoadingIndicator.react","PageAdminSignatureMonitor","PageAdminSignatureSettings","React","ReactLayeredComponentMixin","Run","SearchableEntry","SnowflakePermalinkUtils","Sticker.react","TrackingNodes","UFIClassNames","UFIConfig","UFIConstants","UFIImageBlock.react","UFIStickerButton.react","URI","XFeedNUXSaveSeenStateController","XUIGrayText.react","XUFIRecommendedMentionFriendsAsyncController","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa){b.__markCompiled&&b.__markCompiled();var ta=aa,ua=ta.PropTypes,va=ra._("\u00c9crire un commentaire..."),wa=ra._("Votre r\u00e9ponse..."),xa="fcg fss UFICommentTip",ya=10,za=5,ab=19,bb='/ajax/ufi/upload/',cb=80,db='/ajax/ufi/sticker_preview/',eb=aa.createClass({displayName:"UFIAddComment",mixins:[ba],propTypes:{contextArgs:ua.object.isRequired,viewerActor:ua.object.isRequired,allowPhotoAttachments:ua.bool,allowStickerAttachments:ua.bool,attachedPhoto:ua.object,attachedSticker:ua.object,feedbackIsRanked:ua.bool,hide:ua.bool,initialData:ua.object,isEditing:ua.bool,isFirstComponent:ua.bool,isLastComponent:ua.bool,isSnowlift:ua.bool,isQAndA:ua.bool,mentionsDataSource:ua.object,onCancel:ua.func,onCommentSubmit:ua.func,onTypingStateChange:ua.func,replyCommentID:ua.string,useAddCommentFacepile:ua.bool,showSendOnEnterTip:ua.bool,subtitle:ua.any,targetID:ua.string,withoutSeparator:ua.bool},getInitialState:function(){if(this.props.attachedPhoto)this.props.contextArgs.attachedphoto=this.props.attachedPhoto;if(this.props.attachedSticker)this.props.contextArgs.attachedsticker=this.props.attachedSticker;return {attachedPhoto:this.props.attachedPhoto?this.props.attachedPhoto:null,attachedSticker:this.props.attachedSticker?this.props.attachedSticker:null,facepileMentionedIDs:[],facepileSize:this.props.isSnowlift?za:ya,fileInput:null,fileUploader:null,isCommenting:false,isLoadingPhoto:false,mentionFriendsCursor:null,fetchingRecommendedMentionFriends:false,renderedProfiles:[],renderStickerNUX:null,facepileFirstIndex:0,showFacepile:false,stickerNUXVisible:false,signatureContext:new z(this.props.contextArgs.pagesAdminSignatureSettings,this.props.viewerActor.id)};},_onKeyDown:function(event){if(this.props.isEditing&&p.getKeyCode(event.nativeEvent)===t.ESC)this.props.onCancel();if(this.isMounted()&&!this._isOnBeforeUnloadListenerAdded){ca.onBeforeUnload(this._handleUnsavedChanges);this._isOnBeforeUnloadListenerAdded=true;}var fb=o();if(p.getKeyCode(event.nativeEvent)===t.ESC)fb.blur();},_handleUnsavedChanges:function(){var fb=a.PageTransitions;if(fb){var gb=ma.getNextURI(),hb=fb.getMostRecentURI();if(gb.getQueryData().hasOwnProperty('theater')||hb.getQueryData().hasOwnProperty('theater')||ea.isPermalinkURI(gb)||ea.isPermalinkURI(hb))return;var ib=a.DialogNavigationStack;if(ib&&ib.isActiveURI(gb))return;}if(this.refs&&this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return ra._("Vous n\u2019avez pas termin\u00e9 votre commentaire. Voulez-vous quitter sans terminer\u00a0?");},_blur:function(){this.setState({stickerNUXVisible:false});if(this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return;this.setState({isCommenting:false});},_onPaste:function(event){var fb=new k(bb,this._getPhotoUploadData());this._cancelCurrentSubscriptions();this._subscriptions=[fb.subscribe('upload_start',this._prepareForAttachedPhotoPreview),fb.subscribe('upload_error',this._onRemoveAttachedPhotoPreviewClicked),fb.subscribe('upload_success',function(gb,hb){this._onPhotoUploadComplete(hb);}.bind(this))];fb.handlePaste(event);},_onEnterSubmit:function(fb,event){fb.facepileMentionedIDs=this.state.facepileMentionedIDs.slice();this.setState({showFacepile:false,facepileMentionedIDs:[]});var gb=this.state.attachedPhoto||this.state.attachedSticker,hb=this.props.isEditing||gb;if(this.state.isLoadingPhoto){return false;}else if(!fb.encodedValue.trim()&&!hb)return false;fb.encodedValue=fb.encodedValue.trim();if(gb){fb.attachedPhoto=this.state.attachedPhoto;fb.attachedSticker=this.state.attachedSticker;this.setState({isLoadingPhoto:false,attachedPhoto:null,attachedSticker:null});}else{fb.attachedPhoto=null;fb.attachedSticker=null;}this.props.onCommentSubmit(fb,event);return true;},_cancelCurrentSubscriptions:function(){if(this._subscriptions)this._subscriptions.forEach(function(fb){fb.unsubscribe();});},componentWillMount:function(){this._isOnBeforeUnloadListenerAdded=false;this._storyInsertionBlocker=w.registerBlocker(function(){return this.state.isCommenting;}.bind(this));},componentWillUnmount:function(){this._cancelCurrentSubscriptions();this._storyInsertionBlocker&&this._storyInsertionBlocker.unsubscribe();this._storyInsertionBlocker=null;},focus:function(){var fb={isCommenting:true};if(this.props.allowStickerAttachments&&ia.shouldShowStickerNUX){var gb=na.getURIBuilder().setString('key','sticker_comments').setBool('seen',true).getURI();new i(gb).send();if(this.state.renderStickerNUX===null)j.loadModules(["XUIAmbientNUX.react"],function(hb){fb.renderStickerNUX=function(){return {ambientNUX:aa.createElement(hb,{contextRef:"sticker_button",shown:this.state.stickerNUXVisible,position:"above",width:"auto",alignment:"right",onCloseButtonClick:this._hideStickerNUX},ra._("Vous pouvez maintenant commenter avec un autocollant\u00a0!"))};}.bind(this);}.bind(this));ia.shouldShowStickerNUX=false;fb.stickerNUXVisible=true;}if(this.props.useAddCommentFacepile&&!this.props.replyCommentID&&!this.state.showFacepile){this._fetchRecommendedMentionFriends();fb.showFacepile=true;}y.handleReactInputFieldFocusForSignature(this.refs.mentionsinput,this.state.signatureContext,this.state.signatureContext.getShouldAttachToComment());this.setState(fb);},renderLayers:function(){return !this.state.renderStickerNUX?{}:this.state.renderStickerNUX();},renderFacepile:function(){if(this.state.showFacepile&&this.state.renderedProfiles.length>0)return (aa.createElement("div",{className:(("_2phz")+(' '+"_t9s")+(this.props.isSnowlift?' '+"_1_4j":''))},aa.createElement(oa,{className:"_t9u",shade:"light"},ra._("Mention some friends:")),aa.createElement("div",{className:"_t9v"},aa.createElement(q,{pageSize:this.state.facepileSize,onPageChange:this.onFacepilePageChange,className:"_t9w",profiles:this.state.renderedProfiles,size:"medium",onFaceClick:this.insertFacepileMention}))));},render:function(){var fb=!this.props.contextArgs.collapseaddcomment||this.state.isCommenting,gb=null;if(this.props.subtitle){gb=aa.createElement("span",{className:xa},this.props.subtitle);}else if(this.props.isEditing){gb=aa.createElement("span",{className:xa},ra._("Appuyez sur \u00c9chap pour {cancel}.",[ra.param("cancel",aa.createElement(v,{onClick:this.props.onCancel},ra._("annuler")))]));}else if(this.props.showSendOnEnterTip)gb=aa.createElement("span",{className:xa},ra._("Appuyez sur Entr\u00e9e pour publier."));var hb=null,ib=null,jb=this.state.attachedPhoto||this.state.attachedSticker,kb=null;if(this.props.allowStickerAttachments&&!jb)ib=aa.createElement(la,{ref:"sticker_button",onStickerSelected:this.onStickerSelected,onEmoticonSelected:this._insertEmoticonIntoCommentText});if(this.props.allowPhotoAttachments){kb=this._onPaste;var lb=jb?"UFICommentPhotoAttachedIcon":"UFICommentPhotoIcon",mb="UFIPhotoAttachLinkWrapper _m";hb=aa.createElement("div",{ref:"PhotoInputContainer",className:mb,"data-hover":"tooltip","data-tooltip-alignh":"center","aria-label":ra._("Joindre une photo")},aa.createElement("i",{ref:"PhotoInputControl",className:lb}));}var nb=ga.getTrackingInfo(ga.types.ADD_COMMENT_BOX),ob=sa(ha.ACTOR_IMAGE,((!fb?"hidden_elem":''))),pb=aa.createElement("div",{className:"UFIReplyActorPhotoWrapper",onClick:this.focus},aa.createElement("img",{className:ob,src:this.props.viewerActor.thumbSrc,alt:this.props.viewerActor.name})),qb=sa(ha.ROW,((this.props.hide?"noDisplay":'')+(' '+"UFIComponent")+(' '+"UFIAddComment")+(this.props.allowPhotoAttachments?' '+"UFIAddCommentWithPhotoAttacher":'')+(this.props.withoutSeparator?' '+"UFIAddCommentWithoutSeparator":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),rb;if(!!this.props.replyCommentID){rb=wa;}else if(this.props.isQAndA){rb=ra._("Posez une question...");}else if(this.props.source===ja.UFIFeedbackSourceType.TOPIC_CONVERSATION){rb=ra._("Discuss this topic...");}else rb=va;var sb=this.props.contextArgs.viewoptionstypeobjects,tb=this.props.contextArgs.viewoptionstypeobjectsorder,ub=null;if(this.state.attachedSticker){var vb=this._getScaledDimensions(jb.metadata.height,jb.metadata.width),wb=null,xb=null;if(window.devicePixelRatio&&window.devicePixelRatio>1){wb=jb.metadata.sprite_uri_2x;xb=jb.metadata.source_uri_2x;}else{wb=jb.metadata.sprite_uri;xb=jb.metadata.source_uri;}ub=aa.createElement(fa,{animationTrigger:"load_and_hover",frameCount:jb.metadata.frameCount,framesPerCol:jb.metadata.framesPerCol,framesPerRow:jb.metadata.framesPerRow,spriteURI:wb,sourceHeight:vb.height,sourceURI:xb,sourceWidth:vb.width});}else if(this.state.attachedPhoto){var yb=jb.markupPreview;if(s.isHTML(yb.markup))yb=s.replaceJSONWrapper(yb.markup).getRootNode();ub=aa.createElement(n,null,yb);if(!this.props.subtitle)gb=null;}else if(this.state.isLoadingPhoto)ub=aa.createElement(x,{color:"white",className:"UFICommentPhotoAttachedPreviewLoadingIndicator",size:"medium"});var zb,ac=this.state.attachedPhoto?this._onRemoveAttachedPhotoPreviewClicked:this._onRemoveAttachedStickerPreviewClicked;if(ub!=null){var bc=null;if(this.state.attachedSticker){bc=ra._("Supprimer l\u2019autocollant");}else if(this.state.attachedPhoto)bc=ra._("Supprimer la photo");zb=aa.createElement("div",{className:"UFICommentPhotoAttachedPreview pas"},ub,aa.createElement(l,{tooltip:bc,onClick:ac}));}var cc=this.props.allowStickerAttachments?sa("UFIMentionsInputWrap","UFIStickersEnabledInput"):"UFIMentionsInputWrap",dc,ec,fc;if(this.props.contextArgs.mentionsinput){var gc=this.props.contextArgs.mentionsinput;dc=gc.inputComponent;ec=gc.viewComponent;fc=gc.viewProps;}else dc=u;return (aa.createElement("li",{className:qb,onKeyDown:this._onKeyDown,"data-ft":nb},aa.createElement(ka,{className:cc},pb,aa.createElement("div",{className:"UFICommentContainer"},aa.createElement("div",{className:"UFIInputContainer"},aa.createElement(dc,{replyCommentID:this.props.replyCommentID,initialData:this.props.initialData,placeholder:rb,datasource:this.props.mentionsDataSource,ref:"mentionsinput",viewComponent:ec,viewProps:fc,viewOptionsTypeObjects:sb,viewOptionsTypeObjectsOrder:tb,hashtags:this.props.contextArgs.sht,autoflip:this.props.contextArgs.addcommentautoflip,monitorHeight:this.props.contextArgs.monitorHeight,onEnterSubmit:this._onEnterSubmit,onFocus:this.focus,onBlur:this._blur,onTypingStateChange:this.props.onTypingStateChange,onPaste:kb}),aa.createElement("div",{className:"UFICommentAttachmentButtons clearfix"},hb,ib)),this.renderFacepile(),zb,gb))));},componentDidUpdate:function(fb,gb,hb){if(!gb.attachedPhoto&&this.state.attachedPhoto||!gb.attachedSticker&&this.state.attachedSticker||!gb.isCommenting&&this.state.isCommenting)this.refs.mentionsinput.focus();if(fb.viewerActor.id!==this.props.viewerActor.id){if(this.state.fileInput)this.state.fileInput.clear();if(this.state.fileUploader)this.state.fileUploader.setData(this._getPhotoUploadData());this._onRemoveAttachedPhotoPreviewClicked();}},componentDidMount:function(){if(!this.props.allowPhotoAttachments)return;var fb=aa.findDOMNode(this.refs.PhotoInputContainer),gb=aa.findDOMNode(this.refs.PhotoInputControl),hb=ra._("Joindre une photo"),ib=m.create('input',{accept:'image/*',className:"_n",name:'file',type:'file',title:hb,'aria-label':hb});m.appendContent(gb,ib);var jb=p.listen(fb,'click',function(event){j.loadModules(["FileInput","FileInputUploader","Input"],function(kb,lb,mb){var nb=new kb(fb,gb,ib),ob=new lb().setAllowCrossPageTransition(true).setURI(bb).setData(this._getPhotoUploadData());nb.subscribe('change',function(event){if(nb.getValue()){this._prepareForAttachedPhotoPreview();ob.setInput(nb.getInput()).send();}}.bind(this));ob.subscribe('success',function(pb,qb){nb.clear();this._onPhotoUploadComplete(qb.response);}.bind(this));ob.subscribe('failure',function(pb,qb){nb.clear();this._onPhotoUploadComplete(qb.response);}.bind(this));r.setWithoutOutline(gb);this.setState({fileInput:nb,fileUploader:ob});}.bind(this));jb.remove();}.bind(this));},insertMention:function(fb){if(this.refs.mentionsinput&&this.refs.mentionsinput.insertMention)this.refs.mentionsinput.insertMention(fb);},insertFacepileMention:function(fb,gb){var hb=this.state.renderedProfiles.slice();hb.splice(gb,1);this.setState({renderedProfiles:hb});var ib=new da({uniqueID:fb.uniqueID,title:fb.name,type:'user'});this.insertMention(ib);var jb=this.state.facepileMentionedIDs;jb.push(fb.uniqueID);this.setState({facepileMentionedIDs:jb});this._maybeFetchRecommendedMentionFriends(this.state.facepileFirstIndex,hb.length);},onFacepileRendered:function(){if(this.props.isSnowlift)h.inform('ufi/addCommentFacepileRendered');},onFacepilePageChange:function(fb){this.setState({facepileFirstIndex:fb});this._maybeFetchRecommendedMentionFriends(fb,this.state.renderedProfiles.length);},_maybeFetchRecommendedMentionFriends:function(fb,gb){if(fb+2*this.state.facepileSize>gb)this._fetchRecommendedMentionFriends();},_fetchRecommendedMentionFriends:function(){if(this.state.fetchingRecommendedMentionFriends)return;this.setState({fetchingRecommendedMentionFriends:true});var fb=pa.getURIBuilder().setString('cursor',this.state.mentionFriendsCursor).setInt('limit',3*this.state.facepileSize).getURI();new i(fb).setMethod('GET').setReadOnly(true).setHandler(this._setRecommendedMentionFriends).send();},_setRecommendedMentionFriends:function(fb){var gb=fb.getPayload();if(gb.profiles.length===0)return;var hb=this.state.renderedProfiles;hb=hb.concat(gb.profiles);this.setState({fetchingRecommendedMentionFriends:false,renderedProfiles:hb,mentionFriendsCursor:gb.cursor});},_getScaledDimensions:function(fb,gb){var hb,ib,jb;if(gb>fb){jb=cb/gb;hb=fb*jb;ib=gb*jb;}else{jb=cb/fb;hb=fb*jb;ib=gb*jb;}return {height:Math.round(hb),width:Math.round(ib)};},_getPhotoUploadData:function(){var fb=this.props.viewerActor.id,gb={profile_id:fb,target_id:this.props.targetID,source:ab};gb[g.PARAMETER_ACTOR]=fb;return gb;},_onPhotoUploadComplete:function(fb){if(!this.state.isLoadingPhoto)return;var gb=fb.getPayload();if(gb&&gb.fbid){this.props.contextArgs.attachedphoto=gb;this.setState({attachedPhoto:gb,isLoadingPhoto:false});}else this._onRemoveAttachedPhotoPreviewClicked(null);},_onRemoveAttachedPhotoPreviewClicked:function(event){this.props.contextArgs.attachedphoto=null;this.setState({attachedPhoto:null,isLoadingPhoto:false});},_prepareForAttachedPhotoPreview:function(){this.props.contextArgs.attachedphoto=null;this.setState({attachedPhoto:null,isLoadingPhoto:true});},_onStickerUploadComplete:function(fb){if(!this.state.isLoadingPhoto)return;var gb=fb.getPayload();if(gb&&gb.fbid){this.props.contextArgs.attachedsticker=gb;this.setState({attachedSticker:gb,isLoadingPhoto:false});}else{j.loadModules(["Dialog"],function(hb){var ib=ra._("\u00c9chec de l\u2019autocollant"),jb=ra._("Un probl\u00e8me est survenu lors de l\u2019ajout de l\u2019autocollant.");new hb().setTitle(ib).setBody(jb).setButtons(hb.OK).show();});this._onRemoveAttachedStickerPreviewClicked(null);}},_onRemoveAttachedStickerPreviewClicked:function(event){this.props.contextArgs.attachedsticker=null;this.setState({attachedSticker:null,isLoadingPhoto:false});},onStickerSelected:function(fb,event){if(this.props.isEditing||this.refs.mentionsinput.hasEnteredText()){this._prepareForAttachedStickerPreview(fb);return;}this.sendSticker(fb,event);},_prepareForAttachedStickerPreview:function(fb){this.props.contextArgs.attachedsticker=null;this.setState({attachedSticker:null,isLoadingPhoto:true});new i(db).setData({sticker_id:fb}).setErrorHandler(this._onRemoveAttachedStickerPreviewClicked).setHandler(this._onStickerUploadComplete).send();},sendSticker:function(fb,event){var gb={encodedValue:'',visibleValue:''};this.props.contextArgs.attachedsticker={fbid:fb};this.props.onCommentSubmit(gb,event);},_insertEmoticonIntoCommentText:function(fb){j.loadModules(["EmoticonsList","EmoticonUtils","TextAreaControl","SelectionPosition"],function(gb,hb,ib,jb){var kb=gb.symbols[fb];if(!kb)return;if(this.props.contextArgs.mentionsinput){this.refs.mentionsinput.insertEmoticon(kb);return;}if(!this._selectionPosition)this._selectionPosition=new jb(aa.findDOMNode(this.refs.mentionsinput.refs.textarea));var lb=this.refs.mentionsinput.refs.getTextFieldDOM(),mb=ib.getInstance(lb),nb=mb.getValue(),ob=hb.insertEmoticon(kb,nb,this._selectionPosition.getPos());mb.setValue(ob.result);this._selectionPosition.setPos(ob.start,ob.end);}.bind(this));},_hideStickerNUX:function(){this.setState({stickerNUXVisible:false});}});e.exports=eb;},null);
__d("UFIAddCommentController",["Arbiter","copyProperties","MentionsInputUtils","Parent","UFIAddComment.react","React","ShortProfiles","UFICentralUpdates","UFIComments","UFIFeedbackTargets","UFIInstanceState","UFIUIEvents","UFIUserActions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();function t(u,v,w,x){this.id=v;this._ufiInstanceID=x.instanceid;this._contextArgs=x;this._replyCommentID=w;if(u){this.root=u;if(!this._contextArgs.rootid)this._contextArgs.rootid=u.id;this.render();n.subscribe('instance-updated',function(y,z){var aa=z.updates;if(this._ufiInstanceID in aa)this.render();}.bind(this));n.subscribe('feedback-updated',function(y,z){var aa=z.updates;if(this.id in aa)this.render();}.bind(this));}n.subscribe('feedback-id-changed',function(y,z){var aa=z.updates;if(this.id in aa)this.id=aa[this.id];}.bind(this));}h(t.prototype,{_onCommentSubmit:function(u,event){s.addComment(this.id,u.visibleValue,u.encodedValue,{source:this._contextArgs.source,ufiinstanceid:this._ufiInstanceID,target:event.target,replyid:this._replyCommentID,timelinelogdata:this._contextArgs.timelinelogdata,rootid:this._contextArgs.rootid,attachedphoto:this._contextArgs.attachedphoto,attachedsticker:this._contextArgs.attachedsticker,giftoccasion:this._contextArgs.giftoccasion,facepileMentionedIDs:u.facepileMentionedIDs,feedcontext:this._contextArgs.feedcontext});this._contextArgs.attachedphoto=null;this._contextArgs.attachedsticker=null;p.getFeedbackTarget(this.id,function(v){var w=j.byTag(this.root,'form');if(w)g.inform('ufi/comment',{form:w,isranked:v.isranked});if(v.showtopicconversationcreationpivot)g.inform(r.UFIActionAddComment,{feedback:v,target:event.target});}.bind(this));return false;},_onTypingStateChange:function(u,v){},renderAddComment:function(u,v,w,x,y,z,aa,ba,ca,da){var ea=this._contextArgs.logtyping?this._onTypingStateChange.bind(this):null,fa=null,ga=q.getKeyForInstance(this._ufiInstanceID,'isediting')&&!this._replyCommentID;p.getFeedbackTarget(this.id,function(ha){this._contextArgs.feedbackisranked=ha.isranked;}.bind(this));return (l.createElement(k,{hide:ga,replyCommentID:this._replyCommentID,viewerActor:u,targetID:v,initialData:fa,ref:y,withoutSeparator:z,onCommentSubmit:this._onCommentSubmit.bind(this),mentionsDataSource:w,onTypingStateChange:ea,showSendOnEnterTip:x,allowPhotoAttachments:ba,allowStickerAttachments:ca,source:this._contextArgs.source,contextArgs:this._contextArgs,subtitle:aa,isQAndA:da,isSnowlift:this._contextArgs.issnowlift,feedbackIsRanked:this._contextArgs.feedbackisranked,useAddCommentFacepile:this._contextArgs.useaddcommentfacepile}));},renderEditComment:function(u,v,w,x,y,z,aa,ba,ca){var da=o.getComment(w),ea;if(da.attachment)ea=da.attachment.type=='sticker'?da.attachment:null;var fa=i.generateDataFromTextWithEntities(da.body);return (l.createElement(k,{viewerActor:u,targetID:v,initialData:fa,onCommentSubmit:y,onCancel:z,mentionsDataSource:x,source:this._contextArgs.source,contextArgs:this._contextArgs,isEditing:true,editingCommentID:w,attachedPhoto:da.photo_comment,attachedSticker:ea,allowPhotoAttachments:aa,allowStickerAttachments:ba,isQAndA:ca}));},render:function(){if(!this.root)throw new Error('render called on UFIAddCommentController with no root');p.getFeedbackTarget(this.id,function(u){if(u.cancomment&&u.actorforpost)m.get(u.actorforpost,function(v){var w=this.renderAddComment(v,u.ownerid,u.mentionsdatasource,u.showsendonentertip,null,null,u.subtitle,u.allowphotoattachments,u.allowstickerattachments,u.isqanda);this._addComment=l.render(w,this.root);}.bind(this));}.bind(this));}});e.exports=t;},null);
__d("ScrollableArea.react",["Bootloader","React","Style","cx","joinClasses","Scrollable"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();b('Scrollable');var l=h,m=l.PropTypes,n="uiScrollableArea native",o="uiScrollableAreaWrap scrollable",p="uiScrollableAreaBody",q="uiScrollableAreaContent",r=h.createClass({displayName:"ReactScrollableArea",propTypes:{width:m.number,height:m.oneOfType([m.number,m.string]),onScroll:m.func,shadow:m.bool,fade:m.bool,persistent:m.bool},render:function(){var s={height:this.props.height};return (h.createElement("div",h.__spread({},this.props,{className:k(this.props.className,n),ref:"root",style:Object.assign({},(this.props.style||{}),s)}),h.createElement("div",{className:o,ref:"wrap"},h.createElement("div",{className:p,ref:"body"},h.createElement("div",{className:q},this.props.children)))));},getArea:function(){return this._area;},componentDidMount:function(){g.loadModules(["ScrollableArea"],this._loadScrollableArea);},componentDidUpdate:function(s){if(s.width!==this.props.width){this._setWidthFromProps();var t=this.getArea(),u=t.getScrollHeight();t.setScrollTop(u,false);}},_loadScrollableArea:function(s){this._area=s.fromNative(h.findDOMNode(this.refs.root),{fade:this.props.fade,persistent:this.props.persistent,shadow:this.props.shadow===undefined?true:this.props.shadow});this._setWidthFromProps();this.props.onScroll&&this._area.subscribe('scroll',this.props.onScroll);},_setWidthFromProps:function(){var s=h.findDOMNode(this.refs.body);i.set(s,'width',this.props.width+'px');}});e.exports=r;},null);
__d("TypeaheadViewItem",["React","SearchableEntry"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.PropTypes,k={entry:j.instanceOf(h).isRequired,highlighted:j.bool,role:j.string,selected:j.bool,onSelect:j.func.isRequired,onHighlight:j.func,onRenderHighlight:j.func},l={_onSelect:function(m){this.props.onSelect(this.props.entry,m);},_onHighlight:function(m){if(this.props.onHighlight)this.props.onHighlight(this.props.entry,m);},getDefaultProps:function(){return {role:'option'};},shouldComponentUpdate:function(m){return (this.props.entry.getUniqueID()!==m.entry.getUniqueID()||this.props.highlighted!==m.highlighted||this.props.selected!==m.selected);},componentDidMount:function(){if(this.props.highlighted&&this.props.onRenderHighlight)this.props.onRenderHighlight(g.findDOMNode(this));},componentDidUpdate:function(){if(this.props.highlighted&&this.props.onRenderHighlight)this.props.onRenderHighlight(g.findDOMNode(this));}};e.exports={propTypes:k,Mixin:l};},null);
__d("Badge.react",["BadgeHelper","React"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=h,j=i.PropTypes,k=h.createClass({displayName:"Badge",propTypes:{size:j.oneOf(g.sizes),type:j.oneOf(['verified','topcommenter','work'])},getDefaultProps:function(){return {size:'xsmall',type:'verified'};},render:function(){return (h.createElement("span",{className:g.getClasses(this.props.size,this.props.type)}));}});e.exports=k;},null);
__d("immutable",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();(function(g,h){typeof f==='object'?e.exports=h():typeof define==='function'&&define.amd?define([],h):g.Immutable=h();}(this,function(){'use strict';var g=Array.prototype.slice;function h(th,uh){if(uh)th.prototype=Object.create(uh.prototype);th.prototype.constructor=th;}var i='delete',j=5,k=1<<j,l=k-1,m={},n={value:false},o={value:false};function p(th){th.value=false;return th;}function q(th){th&&(th.value=true);}function r(){}function s(th,uh){uh=uh||0;var vh=Math.max(0,th.length-uh),wh=new Array(vh);for(var xh=0;xh<vh;xh++)wh[xh]=th[xh+uh];return wh;}function t(th){if(th.size===(void 0))th.size=th.__iterate(v);return th.size;}function u(th,uh){return uh>=0?(+uh):t(th)+(+uh);}function v(){return true;}function w(th,uh,vh){return (th===0||(vh!==(void 0)&&th<=-vh))&&(uh===(void 0)||(vh!==(void 0)&&uh>=vh));}function x(th,uh){return z(th,uh,0);}function y(th,uh){return z(th,uh,uh);}function z(th,uh,vh){return th===(void 0)?vh:th<0?Math.max(0,uh+th):uh===(void 0)?th:Math.min(uh,th);}function aa(th){return ea(th)?th:bb(th);}h(ba,aa);function ba(th){return fa(th)?th:cb(th);}h(ca,aa);function ca(th){return ga(th)?th:db(th);}h(da,aa);function da(th){return ea(th)&&!ha(th)?th:eb(th);}function ea(th){return !!(th&&th[ja]);}function fa(th){return !!(th&&th[ka]);}function ga(th){return !!(th&&th[la]);}function ha(th){return fa(th)||ga(th);}function ia(th){return !!(th&&th[ma]);}aa.isIterable=ea;aa.isKeyed=fa;aa.isIndexed=ga;aa.isAssociative=ha;aa.isOrdered=ia;aa.Keyed=ba;aa.Indexed=ca;aa.Set=da;var ja='@@__IMMUTABLE_ITERABLE__@@',ka='@@__IMMUTABLE_KEYED__@@',la='@@__IMMUTABLE_INDEXED__@@',ma='@@__IMMUTABLE_ORDERED__@@',na=0,oa=1,pa=2,qa=typeof Symbol==='function'&&Symbol.iterator,ra='@@iterator',sa=qa||ra;function ta(th){this.next=th;}ta.prototype.toString=function(){return '[Iterator]';};ta.KEYS=na;ta.VALUES=oa;ta.ENTRIES=pa;ta.prototype.inspect=ta.prototype.toSource=function(){return this.toString();};ta.prototype[sa]=function(){return this;};function ua(th,uh,vh,wh){var xh=th===0?uh:th===1?vh:[uh,vh];wh?(wh.value=xh):(wh={value:xh,done:false});return wh;}function va(){return {value:(void 0),done:true};}function wa(th){return !!za(th);}function xa(th){return th&&typeof th.next==='function';}function ya(th){var uh=za(th);return uh&&uh.call(th);}function za(th){var uh=th&&((qa&&th[qa])||th[ra]);if(typeof uh==='function')return uh;}function ab(th){return th&&typeof th.length==='number';}h(bb,aa);function bb(th){return th===null||th===(void 0)?mb():ea(th)?th.toSeq():pb(th);}bb.of=function(){return bb(arguments);};bb.prototype.toSeq=function(){return this;};bb.prototype.toString=function(){return this.__toString('Seq {','}');};bb.prototype.cacheResult=function(){if(!this._cache&&this.__iterateUncached){this._cache=this.entrySeq().toArray();this.size=this._cache.length;}return this;};bb.prototype.__iterate=function(th,uh){return rb(this,th,uh,true);};bb.prototype.__iterator=function(th,uh){return sb(this,th,uh,true);};h(cb,bb);function cb(th){return th===null||th===(void 0)?mb().toKeyedSeq():ea(th)?(fa(th)?th.toSeq():th.fromEntrySeq()):nb(th);}cb.of=function(){return cb(arguments);};cb.prototype.toKeyedSeq=function(){return this;};cb.prototype.toSeq=function(){return this;};h(db,bb);function db(th){return th===null||th===(void 0)?mb():!ea(th)?ob(th):fa(th)?th.entrySeq():th.toIndexedSeq();}db.of=function(){return db(arguments);};db.prototype.toIndexedSeq=function(){return this;};db.prototype.toString=function(){return this.__toString('Seq [',']');};db.prototype.__iterate=function(th,uh){return rb(this,th,uh,false);};db.prototype.__iterator=function(th,uh){return sb(this,th,uh,false);};h(eb,bb);function eb(th){return (th===null||th===(void 0)?mb():!ea(th)?ob(th):fa(th)?th.entrySeq():th).toSetSeq();}eb.of=function(){return eb(arguments);};eb.prototype.toSetSeq=function(){return this;};bb.isSeq=kb;bb.Keyed=cb;bb.Set=eb;bb.Indexed=db;var fb='@@__IMMUTABLE_SEQ__@@';bb.prototype[fb]=true;h(gb,db);function gb(th){this._array=th;this.size=th.length;}gb.prototype.get=function(th,uh){return this.has(th)?this._array[u(this,th)]:uh;};gb.prototype.__iterate=function(th,uh){var vh=this._array,wh=vh.length-1;for(var xh=0;xh<=wh;xh++)if(th(vh[uh?wh-xh:xh],xh,this)===false)return xh+1;return xh;};gb.prototype.__iterator=function(th,uh){var vh=this._array,wh=vh.length-1,xh=0;return new ta(function(){return xh>wh?va():ua(th,xh,vh[uh?wh-xh++:xh++]);});};h(hb,cb);function hb(th){var uh=Object.keys(th);this._object=th;this._keys=uh;this.size=uh.length;}hb.prototype.get=function(th,uh){if(uh!==(void 0)&&!this.has(th))return uh;return this._object[th];};hb.prototype.has=function(th){return this._object.hasOwnProperty(th);};hb.prototype.__iterate=function(th,uh){var vh=this._object,wh=this._keys,xh=wh.length-1;for(var yh=0;yh<=xh;yh++){var zh=wh[uh?xh-yh:yh];if(th(vh[zh],zh,this)===false)return yh+1;}return yh;};hb.prototype.__iterator=function(th,uh){var vh=this._object,wh=this._keys,xh=wh.length-1,yh=0;return new ta(function(){var zh=wh[uh?xh-yh:yh];return yh++>xh?va():ua(th,zh,vh[zh]);});};hb.prototype[ma]=true;h(ib,db);function ib(th){this._iterable=th;this.size=th.length||th.size;}ib.prototype.__iterateUncached=function(th,uh){if(uh)return this.cacheResult().__iterate(th,uh);var vh=this._iterable,wh=ya(vh),xh=0;if(xa(wh)){var yh;while(!(yh=wh.next()).done)if(th(yh.value,xh++,this)===false)break;}return xh;};ib.prototype.__iteratorUncached=function(th,uh){if(uh)return this.cacheResult().__iterator(th,uh);var vh=this._iterable,wh=ya(vh);if(!xa(wh))return new ta(va);var xh=0;return new ta(function(){var yh=wh.next();return yh.done?yh:ua(th,xh++,yh.value);});};h(jb,db);function jb(th){this._iterator=th;this._iteratorCache=[];}jb.prototype.__iterateUncached=function(th,uh){if(uh)return this.cacheResult().__iterate(th,uh);var vh=this._iterator,wh=this._iteratorCache,xh=0;while(xh<wh.length)if(th(wh[xh],xh++,this)===false)return xh;var yh;while(!(yh=vh.next()).done){var zh=yh.value;wh[xh]=zh;if(th(zh,xh++,this)===false)break;}return xh;};jb.prototype.__iteratorUncached=function(th,uh){if(uh)return this.cacheResult().__iterator(th,uh);var vh=this._iterator,wh=this._iteratorCache,xh=0;return new ta(function(){if(xh>=wh.length){var yh=vh.next();if(yh.done)return yh;wh[xh]=yh.value;}return ua(th,xh,wh[xh++]);});};function kb(th){return !!(th&&th[fb]);}var lb;function mb(){return lb||(lb=new gb([]));}function nb(th){var uh=Array.isArray(th)?new gb(th).fromEntrySeq():xa(th)?new jb(th).fromEntrySeq():wa(th)?new ib(th).fromEntrySeq():typeof th==='object'?new hb(th):(void 0);if(!uh)throw new TypeError('Expected Array or iterable object of [k, v] entries, '+'or keyed object: '+th);return uh;}function ob(th){var uh=qb(th);if(!uh)throw new TypeError('Expected Array or iterable object of values: '+th);return uh;}function pb(th){var uh=qb(th)||(typeof th==='object'&&new hb(th));if(!uh)throw new TypeError('Expected Array or iterable object of values, or keyed object: '+th);return uh;}function qb(th){return (ab(th)?new gb(th):xa(th)?new jb(th):wa(th)?new ib(th):(void 0));}function rb(th,uh,vh,wh){var xh=th._cache;if(xh){var yh=xh.length-1;for(var zh=0;zh<=yh;zh++){var ai=xh[vh?yh-zh:zh];if(uh(ai[1],wh?ai[0]:zh,th)===false)return zh+1;}return zh;}return th.__iterateUncached(uh,vh);}function sb(th,uh,vh,wh){var xh=th._cache;if(xh){var yh=xh.length-1,zh=0;return new ta(function(){var ai=xh[vh?yh-zh:zh];return zh++>yh?va():ua(uh,wh?ai[0]:zh-1,ai[1]);});}return th.__iteratorUncached(uh,vh);}h(tb,aa);function tb(){throw TypeError('Abstract');}h(ub,tb);function ub(){}h(vb,tb);function vb(){}h(wb,tb);function wb(){}tb.Keyed=ub;tb.Indexed=vb;tb.Set=wb;function xb(th,uh){if(th===uh||(th!==th&&uh!==uh))return true;if(!th||!uh)return false;if(typeof th.valueOf==='function'&&typeof uh.valueOf==='function'){th=th.valueOf();uh=uh.valueOf();}return typeof th.equals==='function'&&typeof uh.equals==='function'?th.equals(uh):th===uh||(th!==th&&uh!==uh);}function yb(th,uh){return uh?zb(uh,th,'',{'':th}):ac(th);}function zb(th,uh,vh,wh){if(Array.isArray(uh))return th.call(wh,vh,db(uh).map(function(xh,yh){return zb(th,xh,yh,uh);}));if(bc(uh))return th.call(wh,vh,cb(uh).map(function(xh,yh){return zb(th,xh,yh,uh);}));return uh;}function ac(th){if(Array.isArray(th))return db(th).map(ac).toList();if(bc(th))return cb(th).map(ac).toMap();return th;}function bc(th){return th&&th.constructor===Object;}var cc=typeof Math.imul==='function'&&Math.imul(4294967295,2)===-2?Math.imul:function th(uh,vh){uh=uh|0;vh=vh|0;var wh=uh&65535,xh=vh&65535;return (wh*xh)+((((uh>>>16)*xh+wh*(vh>>>16))<<16)>>>0)|0;};function dc(th){return ((th>>>1)&1073741824)|(th&3221225471);}function ec(th){if(th===false||th===null||th===(void 0))return 0;if(typeof th.valueOf==='function'){th=th.valueOf();if(th===false||th===null||th===(void 0))return 0;}if(th===true)return 1;var uh=typeof th;if(uh==='number'){var vh=th|0;if(vh!==th)vh^=th*4294967295;while(th>4294967295){th/=4294967295;vh^=th;}return dc(vh);}if(uh==='string')return th.length>nc?fc(th):gc(th);if(typeof th.hashCode==='function')return th.hashCode();return hc(th);}function fc(th){var uh=qc[th];if(uh===(void 0)){uh=gc(th);if(pc===oc){pc=0;qc={};}pc++;qc[th]=uh;}return uh;}function gc(th){var uh=0;for(var vh=0;vh<th.length;vh++)uh=31*uh+th.charCodeAt(vh)|0;return dc(uh);}function hc(th){var uh=kc&&kc.get(th);if(uh)return uh;uh=th[mc];if(uh)return uh;if(!ic){uh=th.propertyIsEnumerable&&th.propertyIsEnumerable[mc];if(uh)return uh;uh=jc(th);if(uh)return uh;}if(Object.isExtensible&&!Object.isExtensible(th))throw new Error('Non-extensible objects are not allowed as keys.');uh=++lc;if(lc&1073741824)lc=0;if(kc){kc.set(th,uh);}else if(ic){Object.defineProperty(th,mc,{enumerable:false,configurable:false,writable:false,value:uh});}else if(th.propertyIsEnumerable&&th.propertyIsEnumerable===th.constructor.prototype.propertyIsEnumerable){th.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments);};th.propertyIsEnumerable[mc]=uh;}else if(th.nodeType){th[mc]=uh;}else throw new Error('Unable to set a non-enumerable property on object.');return uh;}var ic=(function(){try{Object.defineProperty({},'x',{});return true;}catch(th){return false;}}());function jc(th){if(th&&th.nodeType>0)switch(th.nodeType){case 1:return th.uniqueID;case 9:return th.documentElement&&th.documentElement.uniqueID;}}var kc=typeof WeakMap==='function'&&new WeakMap(),lc=0,mc='__immutablehash__';if(typeof Symbol==='function')mc=Symbol(mc);var nc=16,oc=255,pc=0,qc={};function rc(th,uh){if(!th)throw new Error(uh);}function sc(th){rc(th!==Infinity);}h(tc,cb);function tc(th,uh){this._iter=th;this._useKeys=uh;this.size=th.size;}tc.prototype.get=function(th,uh){return this._iter.get(th,uh);};tc.prototype.has=function(th){return this._iter.has(th);};tc.prototype.valueSeq=function(){return this._iter.valueSeq();};tc.prototype.reverse=function(){var th=this,uh=zc(this,true);if(!this._useKeys)uh.valueSeq=function(){return th._iter.toSeq().reverse();};return uh;};tc.prototype.map=function(th,uh){var vh=this,wh=yc(this,th,uh);if(!this._useKeys)wh.valueSeq=function(){return vh._iter.toSeq().map(th,uh);};return wh;};tc.prototype.__iterate=function(th,uh){var vh=this,wh;return this._iter.__iterate(this._useKeys?function(xh,yh){return th(xh,yh,vh);}:((wh=uh?qd(this):0),function(xh){return th(xh,uh?--wh:wh++,vh);}),uh);};tc.prototype.__iterator=function(th,uh){if(this._useKeys)return this._iter.__iterator(th,uh);var vh=this._iter.__iterator(oa,uh),wh=uh?qd(this):0;return new ta(function(){var xh=vh.next();return xh.done?xh:ua(th,uh?--wh:wh++,xh.value,xh);});};tc.prototype[ma]=true;h(uc,db);function uc(th){this._iter=th;this.size=th.size;}uc.prototype.contains=function(th){return this._iter.contains(th);};uc.prototype.__iterate=function(th,uh){var vh=this,wh=0;return this._iter.__iterate(function(xh){return th(xh,wh++,vh);},uh);};uc.prototype.__iterator=function(th,uh){var vh=this._iter.__iterator(oa,uh),wh=0;return new ta(function(){var xh=vh.next();return xh.done?xh:ua(th,wh++,xh.value,xh);});};h(vc,eb);function vc(th){this._iter=th;this.size=th.size;}vc.prototype.has=function(th){return this._iter.contains(th);};vc.prototype.__iterate=function(th,uh){var vh=this;return this._iter.__iterate(function(wh){return th(wh,wh,vh);},uh);};vc.prototype.__iterator=function(th,uh){var vh=this._iter.__iterator(oa,uh);return new ta(function(){var wh=vh.next();return wh.done?wh:ua(th,wh.value,wh.value,wh);});};h(wc,cb);function wc(th){this._iter=th;this.size=th.size;}wc.prototype.entrySeq=function(){return this._iter.toSeq();};wc.prototype.__iterate=function(th,uh){var vh=this;return this._iter.__iterate(function(wh){if(wh){pd(wh);return th(wh[1],wh[0],vh);}},uh);};wc.prototype.__iterator=function(th,uh){var vh=this._iter.__iterator(oa,uh);return new ta(function(){while(true){var wh=vh.next();if(wh.done)return wh;var xh=wh.value;if(xh){pd(xh);return th===pa?wh:ua(th,xh[0],xh[1],wh);}}});};uc.prototype.cacheResult=tc.prototype.cacheResult=vc.prototype.cacheResult=wc.prototype.cacheResult=td;function xc(th){var uh=sd(th);uh._iter=th;uh.size=th.size;uh.flip=function(){return th;};uh.reverse=function(){var vh=th.reverse.apply(this);vh.flip=function(){return th.reverse();};return vh;};uh.has=function(vh){return th.contains(vh);};uh.contains=function(vh){return th.has(vh);};uh.cacheResult=td;uh.__iterateUncached=function(vh,wh){var xh=this;return th.__iterate(function(yh,zh){return vh(zh,yh,xh)!==false;},wh);};uh.__iteratorUncached=function(vh,wh){if(vh===pa){var xh=th.__iterator(vh,wh);return new ta(function(){var yh=xh.next();if(!yh.done){var zh=yh.value[0];yh.value[0]=yh.value[1];yh.value[1]=zh;}return yh;});}return th.__iterator(vh===oa?na:oa,wh);};return uh;}function yc(th,uh,vh){var wh=sd(th);wh.size=th.size;wh.has=function(xh){return th.has(xh);};wh.get=function(xh,yh){var zh=th.get(xh,m);return zh===m?yh:uh.call(vh,zh,xh,th);};wh.__iterateUncached=function(xh,yh){var zh=this;return th.__iterate(function(ai,bi,ci){return xh(uh.call(vh,ai,bi,ci),bi,zh)!==false;},yh);};wh.__iteratorUncached=function(xh,yh){var zh=th.__iterator(pa,yh);return new ta(function(){var ai=zh.next();if(ai.done)return ai;var bi=ai.value,ci=bi[0];return ua(xh,ci,uh.call(vh,bi[1],ci,th),ai);});};return wh;}function zc(th,uh){var vh=sd(th);vh._iter=th;vh.size=th.size;vh.reverse=function(){return th;};if(th.flip)vh.flip=function(){var wh=xc(th);wh.reverse=function(){return th.flip();};return wh;};vh.get=function(wh,xh){return th.get(uh?wh:-1-wh,xh);};vh.has=function(wh){return th.has(uh?wh:-1-wh);};vh.contains=function(wh){return th.contains(wh);};vh.cacheResult=td;vh.__iterate=function(wh,xh){var yh=this;return th.__iterate(function(zh,ai){return wh(zh,ai,yh);},!xh);};vh.__iterator=function(wh,xh){return th.__iterator(wh,!xh);};return vh;}function ad(th,uh,vh,wh){var xh=sd(th);if(wh){xh.has=function(yh){var zh=th.get(yh,m);return zh!==m&&!!uh.call(vh,zh,yh,th);};xh.get=function(yh,zh){var ai=th.get(yh,m);return ai!==m&&uh.call(vh,ai,yh,th)?ai:zh;};}xh.__iterateUncached=function(yh,zh){var ai=this,bi=0;th.__iterate(function(ci,di,ei){if(uh.call(vh,ci,di,ei)){bi++;return yh(ci,wh?di:bi-1,ai);}},zh);return bi;};xh.__iteratorUncached=function(yh,zh){var ai=th.__iterator(pa,zh),bi=0;return new ta(function(){while(true){var ci=ai.next();if(ci.done)return ci;var di=ci.value,ei=di[0],fi=di[1];if(uh.call(vh,fi,ei,th))return ua(yh,wh?ei:bi++,fi,ci);}});};return xh;}function bd(th,uh,vh){var wh=wd().asMutable();th.__iterate(function(xh,yh){wh.update(uh.call(vh,xh,yh,th),0,function(zh){return zh+1;});});return wh.asImmutable();}function cd(th,uh,vh){var wh=fa(th),xh=(ia(th)?vf():wd()).asMutable();th.__iterate(function(zh,ai){xh.update(uh.call(vh,zh,ai,th),function(bi){return (bi=bi||[],bi.push(wh?[ai,zh]:zh),bi);});});var yh=rd(th);return xh.map(function(zh){return od(th,yh(zh));});}function dd(th,uh,vh,wh){var xh=th.size;if(w(uh,vh,xh))return th;var yh=x(uh,xh),zh=y(vh,xh);if(yh!==yh||zh!==zh)return dd(th.toSeq().cacheResult(),uh,vh,wh);var ai=zh-yh;if(ai<0)ai=0;var bi=sd(th);bi.size=ai===0?ai:th.size&&ai||(void 0);if(!wh&&kb(th)&&ai>=0)bi.get=function(ci,di){ci=u(this,ci);return ci>=0&&ci<ai?th.get(ci+yh,di):di;};bi.__iterateUncached=function(ci,di){var ei=this;if(ai===0)return 0;if(di)return this.cacheResult().__iterate(ci,di);var fi=0,gi=true,hi=0;th.__iterate(function(ii,ji){if(!(gi&&(gi=fi++<yh))){hi++;return ci(ii,wh?ji:hi-1,ei)!==false&&hi!==ai;}});return hi;};bi.__iteratorUncached=function(ci,di){if(ai&&di)return this.cacheResult().__iterator(ci,di);var ei=ai&&th.__iterator(ci,di),fi=0,gi=0;return new ta(function(){while(fi++!==yh)ei.next();if(++gi>ai)return va();var hi=ei.next();if(wh||ci===oa){return hi;}else if(ci===na){return ua(ci,gi-1,(void 0),hi);}else return ua(ci,gi-1,hi.value[1],hi);});};return bi;}function ed(th,uh,vh){var wh=sd(th);wh.__iterateUncached=function(xh,yh){var zh=this;if(yh)return this.cacheResult().__iterate(xh,yh);var ai=0;th.__iterate(function(bi,ci,di){return uh.call(vh,bi,ci,di)&&++ai&&xh(bi,ci,zh);});return ai;};wh.__iteratorUncached=function(xh,yh){var zh=this;if(yh)return this.cacheResult().__iterator(xh,yh);var ai=th.__iterator(pa,yh),bi=true;return new ta(function(){if(!bi)return va();var ci=ai.next();if(ci.done)return ci;var di=ci.value,ei=di[0],fi=di[1];if(!uh.call(vh,fi,ei,zh)){bi=false;return va();}return xh===pa?ci:ua(xh,ei,fi,ci);});};return wh;}function fd(th,uh,vh,wh){var xh=sd(th);xh.__iterateUncached=function(yh,zh){var ai=this;if(zh)return this.cacheResult().__iterate(yh,zh);var bi=true,ci=0;th.__iterate(function(di,ei,fi){if(!(bi&&(bi=uh.call(vh,di,ei,fi)))){ci++;return yh(di,wh?ei:ci-1,ai);}});return ci;};xh.__iteratorUncached=function(yh,zh){var ai=this;if(zh)return this.cacheResult().__iterator(yh,zh);var bi=th.__iterator(pa,zh),ci=true,di=0;return new ta(function(){var ei,fi,gi;do{ei=bi.next();if(ei.done)if(wh||yh===oa){return ei;}else if(yh===na){return ua(yh,di++,(void 0),ei);}else return ua(yh,di++,ei.value[1],ei);var hi=ei.value;fi=hi[0];gi=hi[1];ci&&(ci=uh.call(vh,gi,fi,ai));}while(ci);return yh===pa?ei:ua(yh,fi,gi,ei);});};return xh;}function gd(th,uh){var vh=fa(th),wh=[th].concat(uh).map(function(zh){if(!ea(zh)){zh=vh?nb(zh):ob(Array.isArray(zh)?zh:[zh]);}else if(vh)zh=ba(zh);return zh;}).filter(function(zh){return zh.size!==0;});if(wh.length===0)return th;if(wh.length===1){var xh=wh[0];if(xh===th||vh&&fa(xh)||ga(th)&&ga(xh))return xh;}var yh=new gb(wh);if(vh){yh=yh.toKeyedSeq();}else if(!ga(th))yh=yh.toSetSeq();yh=yh.flatten(true);yh.size=wh.reduce(function(zh,ai){if(zh!==(void 0)){var bi=ai.size;if(bi!==(void 0))return zh+bi;}},0);return yh;}function hd(th,uh,vh){var wh=sd(th);wh.__iterateUncached=function(xh,yh){var zh=0,ai=false;function bi(ci,di){var ei=this;ci.__iterate(function(fi,gi){if((!uh||di<uh)&&ea(fi)){bi(fi,di+1);}else if(xh(fi,vh?gi:zh++,ei)===false)ai=true;return !ai;},yh);}bi(th,0);return zh;};wh.__iteratorUncached=function(xh,yh){var zh=th.__iterator(xh,yh),ai=[],bi=0;return new ta(function(){while(zh){var ci=zh.next();if(ci.done!==false){zh=ai.pop();continue;}var di=ci.value;if(xh===pa)di=di[1];if((!uh||ai.length<uh)&&ea(di)){ai.push(zh);zh=di.__iterator(xh,yh);}else return vh?ci:ua(xh,bi++,di,ci);}return va();});};return wh;}function id(th,uh,vh){var wh=rd(th);return th.toSeq().map(function(xh,yh){return wh(uh.call(vh,xh,yh,th));}).flatten(true);}function jd(th,uh){var vh=sd(th);vh.size=th.size&&th.size*2-1;vh.__iterateUncached=function(wh,xh){var yh=this,zh=0;th.__iterate(function(ai,bi){return (!zh||wh(uh,zh++,yh)!==false)&&wh(ai,zh++,yh)!==false;},xh);return zh;};vh.__iteratorUncached=function(wh,xh){var yh=th.__iterator(oa,xh),zh=0,ai;return new ta(function(){if(!ai||zh%2){ai=yh.next();if(ai.done)return ai;}return zh%2?ua(wh,zh++,uh):ua(wh,zh++,ai.value,ai);});};return vh;}function kd(th,uh,vh){if(!uh)uh=ud;var wh=fa(th),xh=0,yh=th.toSeq().map(function(zh,ai){return [ai,zh,xh++,vh?vh(zh,ai,th):zh];}).toArray();yh.sort(function(zh,ai){return uh(zh[3],ai[3])||zh[2]-ai[2];}).forEach(wh?function(zh,ai){yh[ai].length=2;}:function(zh,ai){yh[ai]=zh[1];});return wh?cb(yh):ga(th)?db(yh):eb(yh);}function ld(th,uh,vh){if(!uh)uh=ud;if(vh){var wh=th.toSeq().map(function(xh,yh){return [xh,vh(xh,yh,th)];}).reduce(function(xh,yh){return md(uh,xh[1],yh[1])?yh:xh;});return wh&&wh[0];}else return th.reduce(function(xh,yh){return md(uh,xh,yh)?yh:xh;});}function md(th,uh,vh){var wh=th(vh,uh);return (wh===0&&vh!==uh&&(vh===(void 0)||vh===null||vh!==vh))||wh>0;}function nd(th,uh,vh){var wh=sd(th);wh.size=new gb(vh).map(function(xh){return xh.size;}).min();wh.__iterate=function(xh,yh){var zh=this.__iterator(oa,yh),ai,bi=0;while(!(ai=zh.next()).done)if(xh(ai.value,bi++,this)===false)break;return bi;};wh.__iteratorUncached=function(xh,yh){var zh=vh.map(function(ci){return (ci=aa(ci),ya(yh?ci.reverse():ci));}),ai=0,bi=false;return new ta(function(){var ci;if(!bi){ci=zh.map(function(di){return di.next();});bi=ci.some(function(di){return di.done;});}if(bi)return va();return ua(xh,ai++,uh.apply(null,ci.map(function(di){return di.value;})));});};return wh;}function od(th,uh){return kb(th)?uh:th.constructor(uh);}function pd(th){if(th!==Object(th))throw new TypeError('Expected [K, V] tuple: '+th);}function qd(th){sc(th.size);return t(th);}function rd(th){return fa(th)?ba:ga(th)?ca:da;}function sd(th){return Object.create((fa(th)?cb:ga(th)?db:eb).prototype);}function td(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this;}else return bb.prototype.cacheResult.call(this);}function ud(th,uh){return th>uh?1:th<uh?-1:0;}function vd(th){var uh=ya(th);if(!uh){if(!ab(th))throw new TypeError('Expected iterable or array-like: '+th);uh=ya(aa(th));}return uh;}h(wd,ub);function wd(th){return th===null||th===(void 0)?ke():xd(th)?th:ke().withMutations(function(uh){var vh=ba(th);sc(vh.size);vh.forEach(function(wh,xh){return uh.set(xh,wh);});});}wd.prototype.toString=function(){return this.__toString('Map {','}');};wd.prototype.get=function(th,uh){return this._root?this._root.get(0,(void 0),th,uh):uh;};wd.prototype.set=function(th,uh){return le(this,th,uh);};wd.prototype.setIn=function(th,uh){return this.updateIn(th,m,function(){return uh;});};wd.prototype.remove=function(th){return le(this,th,m);};wd.prototype.deleteIn=function(th){return this.updateIn(th,function(){return m;});};wd.prototype.update=function(th,uh,vh){return arguments.length===1?th(this):this.updateIn([th],uh,vh);};wd.prototype.updateIn=function(th,uh,vh){if(!vh){vh=uh;uh=(void 0);}var wh=ve(this,vd(th),uh,vh);return wh===m?(void 0):wh;};wd.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=(void 0);this.__altered=true;return this;}return ke();};wd.prototype.merge=function(){return se(this,(void 0),arguments);};wd.prototype.mergeWith=function(th){var uh=g.call(arguments,1);return se(this,th,uh);};wd.prototype.mergeIn=function(th){var uh=g.call(arguments,1);return this.updateIn(th,ke(),function(vh){return vh.merge.apply(vh,uh);});};wd.prototype.mergeDeep=function(){return se(this,te((void 0)),arguments);};wd.prototype.mergeDeepWith=function(th){var uh=g.call(arguments,1);return se(this,te(th),uh);};wd.prototype.mergeDeepIn=function(th){var uh=g.call(arguments,1);return this.updateIn(th,ke(),function(vh){return vh.mergeDeep.apply(vh,uh);});};wd.prototype.sort=function(th){return vf(kd(this,th));};wd.prototype.sortBy=function(th,uh){return vf(kd(this,uh,th));};wd.prototype.withMutations=function(th){var uh=this.asMutable();th(uh);return uh.wasAltered()?uh.__ensureOwner(this.__ownerID):this;};wd.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new r());};wd.prototype.asImmutable=function(){return this.__ensureOwner();};wd.prototype.wasAltered=function(){return this.__altered;};wd.prototype.__iterator=function(th,uh){return new fe(this,th,uh);};wd.prototype.__iterate=function(th,uh){var vh=this,wh=0;this._root&&this._root.iterate(function(xh){wh++;return th(xh[1],xh[0],vh);},uh);return wh;};wd.prototype.__ensureOwner=function(th){if(th===this.__ownerID)return this;if(!th){this.__ownerID=th;this.__altered=false;return this;}return ie(this.size,this._root,th,this.__hash);};function xd(th){return !!(th&&th[yd]);}wd.isMap=xd;var yd='@@__IMMUTABLE_MAP__@@',zd=wd.prototype;zd[yd]=true;zd[i]=zd.remove;zd.removeIn=zd.deleteIn;function ae(th,uh){this.ownerID=th;this.entries=uh;}ae.prototype.get=function(th,uh,vh,wh){var xh=this.entries;for(var yh=0,zh=xh.length;yh<zh;yh++)if(xb(vh,xh[yh][0]))return xh[yh][1];return wh;};ae.prototype.update=function(th,uh,vh,wh,xh,yh,zh){var ai=xh===m,bi=this.entries,ci=0;for(var di=bi.length;ci<di;ci++)if(xb(wh,bi[ci][0]))break;var ei=ci<di;if(ei?bi[ci][1]===xh:ai)return this;q(zh);(ai||!ei)&&q(yh);if(ai&&bi.length===1)return;if(!ei&&!ai&&bi.length>=af)return pe(th,bi,wh,xh);var fi=th&&th===this.ownerID,gi=fi?bi:s(bi);if(ei){if(ai){ci===di-1?gi.pop():(gi[ci]=gi.pop());}else gi[ci]=[wh,xh];}else gi.push([wh,xh]);if(fi){this.entries=gi;return this;}return new ae(th,gi);};function be(th,uh,vh){this.ownerID=th;this.bitmap=uh;this.nodes=vh;}be.prototype.get=function(th,uh,vh,wh){if(uh===(void 0))uh=ec(vh);var xh=(1<<((th===0?uh:uh>>>th)&l)),yh=this.bitmap;return (yh&xh)===0?wh:this.nodes[we(yh&(xh-1))].get(th+j,uh,vh,wh);};be.prototype.update=function(th,uh,vh,wh,xh,yh,zh){if(vh===(void 0))vh=ec(wh);var ai=(uh===0?vh:vh>>>uh)&l,bi=1<<ai,ci=this.bitmap,di=(ci&bi)!==0;if(!di&&xh===m)return this;var ei=we(ci&(bi-1)),fi=this.nodes,gi=di?fi[ei]:(void 0),hi=me(gi,th,uh+j,vh,wh,xh,yh,zh);if(hi===gi)return this;if(!di&&hi&&fi.length>=bf)return re(th,fi,ci,ai,hi);if(di&&!hi&&fi.length===2&&ne(fi[ei^1]))return fi[ei^1];if(di&&hi&&fi.length===1&&ne(hi))return hi;var ii=th&&th===this.ownerID,ji=di?hi?ci:ci^bi:ci|bi,ki=di?hi?xe(fi,ei,hi,ii):ze(fi,ei,ii):ye(fi,ei,hi,ii);if(ii){this.bitmap=ji;this.nodes=ki;return this;}return new be(th,ji,ki);};function ce(th,uh,vh){this.ownerID=th;this.count=uh;this.nodes=vh;}ce.prototype.get=function(th,uh,vh,wh){if(uh===(void 0))uh=ec(vh);var xh=(th===0?uh:uh>>>th)&l,yh=this.nodes[xh];return yh?yh.get(th+j,uh,vh,wh):wh;};ce.prototype.update=function(th,uh,vh,wh,xh,yh,zh){if(vh===(void 0))vh=ec(wh);var ai=(uh===0?vh:vh>>>uh)&l,bi=xh===m,ci=this.nodes,di=ci[ai];if(bi&&!di)return this;var ei=me(di,th,uh+j,vh,wh,xh,yh,zh);if(ei===di)return this;var fi=this.count;if(!di){fi++;}else if(!ei){fi--;if(fi<cf)return qe(th,ci,fi,ai);}var gi=th&&th===this.ownerID,hi=xe(ci,ai,ei,gi);if(gi){this.count=fi;this.nodes=hi;return this;}return new ce(th,fi,hi);};function de(th,uh,vh){this.ownerID=th;this.keyHash=uh;this.entries=vh;}de.prototype.get=function(th,uh,vh,wh){var xh=this.entries;for(var yh=0,zh=xh.length;yh<zh;yh++)if(xb(vh,xh[yh][0]))return xh[yh][1];return wh;};de.prototype.update=function(th,uh,vh,wh,xh,yh,zh){if(vh===(void 0))vh=ec(wh);var ai=xh===m;if(vh!==this.keyHash){if(ai)return this;q(zh);q(yh);return oe(this,th,uh,vh,[wh,xh]);}var bi=this.entries,ci=0;for(var di=bi.length;ci<di;ci++)if(xb(wh,bi[ci][0]))break;var ei=ci<di;if(ei?bi[ci][1]===xh:ai)return this;q(zh);(ai||!ei)&&q(yh);if(ai&&di===2)return new ee(th,this.keyHash,bi[ci^1]);var fi=th&&th===this.ownerID,gi=fi?bi:s(bi);if(ei){if(ai){ci===di-1?gi.pop():(gi[ci]=gi.pop());}else gi[ci]=[wh,xh];}else gi.push([wh,xh]);if(fi){this.entries=gi;return this;}return new de(th,this.keyHash,gi);};function ee(th,uh,vh){this.ownerID=th;this.keyHash=uh;this.entry=vh;}ee.prototype.get=function(th,uh,vh,wh){return xb(vh,this.entry[0])?this.entry[1]:wh;};ee.prototype.update=function(th,uh,vh,wh,xh,yh,zh){var ai=xh===m,bi=xb(wh,this.entry[0]);if(bi?xh===this.entry[1]:ai)return this;q(zh);if(ai){q(yh);return;}if(bi){if(th&&th===this.ownerID){this.entry[1]=xh;return this;}return new ee(th,this.keyHash,[wh,xh]);}q(yh);return oe(this,th,uh,ec(wh),[wh,xh]);};ae.prototype.iterate=de.prototype.iterate=function(th,uh){var vh=this.entries;for(var wh=0,xh=vh.length-1;wh<=xh;wh++)if(th(vh[uh?xh-wh:wh])===false)return false;};be.prototype.iterate=ce.prototype.iterate=function(th,uh){var vh=this.nodes;for(var wh=0,xh=vh.length-1;wh<=xh;wh++){var yh=vh[uh?xh-wh:wh];if(yh&&yh.iterate(th,uh)===false)return false;}};ee.prototype.iterate=function(th,uh){return th(this.entry);};h(fe,ta);function fe(th,uh,vh){this._type=uh;this._reverse=vh;this._stack=th._root&&he(th._root);}fe.prototype.next=function(){var th=this._type,uh=this._stack;while(uh){var vh=uh.node,wh=uh.index++,xh;if(vh.entry){if(wh===0)return ge(th,vh.entry);}else if(vh.entries){xh=vh.entries.length-1;if(wh<=xh)return ge(th,vh.entries[this._reverse?xh-wh:wh]);}else{xh=vh.nodes.length-1;if(wh<=xh){var yh=vh.nodes[this._reverse?xh-wh:wh];if(yh){if(yh.entry)return ge(th,yh.entry);uh=this._stack=he(yh,uh);}continue;}}uh=this._stack=this._stack.__prev;}return va();};function ge(th,uh){return ua(th,uh[0],uh[1]);}function he(th,uh){return {node:th,index:0,__prev:uh};}function ie(th,uh,vh,wh){var xh=Object.create(zd);xh.size=th;xh._root=uh;xh.__ownerID=vh;xh.__hash=wh;xh.__altered=false;return xh;}var je;function ke(){return je||(je=ie(0));}function le(th,uh,vh){var wh,xh;if(!th._root){if(vh===m)return th;xh=1;wh=new ae(th.__ownerID,[[uh,vh]]);}else{var yh=p(n),zh=p(o);wh=me(th._root,th.__ownerID,0,(void 0),uh,vh,yh,zh);if(!zh.value)return th;xh=th.size+(yh.value?vh===m?-1:1:0);}if(th.__ownerID){th.size=xh;th._root=wh;th.__hash=(void 0);th.__altered=true;return th;}return wh?ie(xh,wh):ke();}function me(th,uh,vh,wh,xh,yh,zh,ai){if(!th){if(yh===m)return th;q(ai);q(zh);return new ee(uh,wh,[xh,yh]);}return th.update(uh,vh,wh,xh,yh,zh,ai);}function ne(th){return th.constructor===ee||th.constructor===de;}function oe(th,uh,vh,wh,xh){if(th.keyHash===wh)return new de(uh,wh,[th.entry,xh]);var yh=(vh===0?th.keyHash:th.keyHash>>>vh)&l,zh=(vh===0?wh:wh>>>vh)&l,ai,bi=yh===zh?[oe(th,uh,vh+j,wh,xh)]:((ai=new ee(uh,wh,xh)),yh<zh?[th,ai]:[ai,th]);return new be(uh,(1<<yh)|(1<<zh),bi);}function pe(th,uh,vh,wh){if(!th)th=new r();var xh=new ee(th,ec(vh),[vh,wh]);for(var yh=0;yh<uh.length;yh++){var zh=uh[yh];xh=xh.update(th,0,(void 0),zh[0],zh[1]);}return xh;}function qe(th,uh,vh,wh){var xh=0,yh=0,zh=new Array(vh);for(var ai=0,bi=1,ci=uh.length;ai<ci;ai++,bi<<=1){var di=uh[ai];if(di!==(void 0)&&ai!==wh){xh|=bi;zh[yh++]=di;}}return new be(th,xh,zh);}function re(th,uh,vh,wh,xh){var yh=0,zh=new Array(k);for(var ai=0;vh!==0;ai++,vh>>>=1)zh[ai]=vh&1?uh[yh++]:(void 0);zh[wh]=xh;return new ce(th,yh+1,zh);}function se(th,uh,vh){var wh=[];for(var xh=0;xh<vh.length;xh++){var yh=vh[xh],zh=ba(yh);if(!ea(yh))zh=zh.map(function(ai){return yb(ai);});wh.push(zh);}return ue(th,uh,wh);}function te(th){return function(uh,vh){return uh&&uh.mergeDeepWith&&ea(vh)?uh.mergeDeepWith(th,vh):th?th(uh,vh):vh;};}function ue(th,uh,vh){vh=vh.filter(function(wh){return wh.size!==0;});if(vh.length===0)return th;if(th.size===0&&vh.length===1)return th.constructor(vh[0]);return th.withMutations(function(wh){var xh=uh?function(zh,ai){wh.update(ai,m,function(bi){return bi===m?zh:uh(bi,zh);});}:function(zh,ai){wh.set(ai,zh);};for(var yh=0;yh<vh.length;yh++)vh[yh].forEach(xh);});}function ve(th,uh,vh,wh){var xh=th===m,yh=uh.next();if(yh.done){var zh=xh?vh:th,ai=wh(zh);return ai===zh?th:ai;}rc(xh||(th&&th.set));var bi=yh.value,ci=xh?m:th.get(bi,m),di=ve(ci,uh,vh,wh);return di===ci?th:di===m?th.remove(bi):(xh?ke():th).set(bi,di);}function we(th){th=th-((th>>1)&1431655765);th=(th&858993459)+((th>>2)&858993459);th=(th+(th>>4))&252645135;th=th+(th>>8);th=th+(th>>16);return th&127;}function xe(th,uh,vh,wh){var xh=wh?th:s(th);xh[uh]=vh;return xh;}function ye(th,uh,vh,wh){var xh=th.length+1;if(wh&&uh+1===xh){th[uh]=vh;return th;}var yh=new Array(xh),zh=0;for(var ai=0;ai<xh;ai++)if(ai===uh){yh[ai]=vh;zh=-1;}else yh[ai]=th[ai+zh];return yh;}function ze(th,uh,vh){var wh=th.length-1;if(vh&&uh===wh){th.pop();return th;}var xh=new Array(wh),yh=0;for(var zh=0;zh<wh;zh++){if(zh===uh)yh=1;xh[zh]=th[zh+yh];}return xh;}var af=k/4,bf=k/2,cf=k/4;h(df,vb);function df(th){var uh=nf();if(th===null||th===(void 0))return uh;if(ef(th))return th;var vh=ca(th),wh=vh.size;if(wh===0)return uh;sc(wh);if(wh>0&&wh<k)return lf(0,wh,j,null,new hf(vh.toArray()));return uh.withMutations(function(xh){xh.setSize(wh);vh.forEach(function(yh,zh){return xh.set(zh,yh);});});}df.of=function(){return this(arguments);};df.prototype.toString=function(){return this.__toString('List [',']');};df.prototype.get=function(th,uh){th=u(this,th);if(th<0||th>=this.size)return uh;th+=this._origin;var vh=rf(this,th);return vh&&vh.array[th&l];};df.prototype.set=function(th,uh){return of(this,th,uh);};df.prototype.remove=function(th){return !this.has(th)?this:th===0?this.shift():th===this.size-1?this.pop():this.splice(th,1);};df.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=j;this._root=this._tail=null;this.__hash=(void 0);this.__altered=true;return this;}return nf();};df.prototype.push=function(){var th=arguments,uh=this.size;return this.withMutations(function(vh){sf(vh,0,uh+th.length);for(var wh=0;wh<th.length;wh++)vh.set(uh+wh,th[wh]);});};df.prototype.pop=function(){return sf(this,0,-1);};df.prototype.unshift=function(){var th=arguments;return this.withMutations(function(uh){sf(uh,-th.length);for(var vh=0;vh<th.length;vh++)uh.set(vh,th[vh]);});};df.prototype.shift=function(){return sf(this,1);};df.prototype.merge=function(){return tf(this,(void 0),arguments);};df.prototype.mergeWith=function(th){var uh=g.call(arguments,1);return tf(this,th,uh);};df.prototype.mergeDeep=function(){return tf(this,te((void 0)),arguments);};df.prototype.mergeDeepWith=function(th){var uh=g.call(arguments,1);return tf(this,te(th),uh);};df.prototype.setSize=function(th){return sf(this,0,th);};df.prototype.slice=function(th,uh){var vh=this.size;if(w(th,uh,vh))return this;return sf(this,x(th,vh),y(uh,vh));};df.prototype.__iterator=function(th,uh){var vh=0,wh=kf(this,uh);return new ta(function(){var xh=wh();return xh===jf?va():ua(th,vh++,xh);});};df.prototype.__iterate=function(th,uh){var vh=0,wh=kf(this,uh),xh;while((xh=wh())!==jf)if(th(xh,vh++,this)===false)break;return vh;};df.prototype.__ensureOwner=function(th){if(th===this.__ownerID)return this;if(!th){this.__ownerID=th;return this;}return lf(this._origin,this._capacity,this._level,this._root,this._tail,th,this.__hash);};function ef(th){return !!(th&&th[ff]);}df.isList=ef;var ff='@@__IMMUTABLE_LIST__@@',gf=df.prototype;gf[ff]=true;gf[i]=gf.remove;gf.setIn=zd.setIn;gf.deleteIn=gf.removeIn=zd.removeIn;gf.update=zd.update;gf.updateIn=zd.updateIn;gf.mergeIn=zd.mergeIn;gf.mergeDeepIn=zd.mergeDeepIn;gf.withMutations=zd.withMutations;gf.asMutable=zd.asMutable;gf.asImmutable=zd.asImmutable;gf.wasAltered=zd.wasAltered;function hf(th,uh){this.array=th;this.ownerID=uh;}hf.prototype.removeBefore=function(th,uh,vh){if(vh===uh?1<<uh:this.array.length===0)return this;var wh=(vh>>>uh)&l;if(wh>=this.array.length)return new hf([],th);var xh=wh===0,yh;if(uh>0){var zh=this.array[wh];yh=zh&&zh.removeBefore(th,uh-j,vh);if(yh===zh&&xh)return this;}if(xh&&!yh)return this;var ai=qf(this,th);if(!xh)for(var bi=0;bi<wh;bi++)ai.array[bi]=(void 0);if(yh)ai.array[wh]=yh;return ai;};hf.prototype.removeAfter=function(th,uh,vh){if(vh===uh?1<<uh:this.array.length===0)return this;var wh=((vh-1)>>>uh)&l;if(wh>=this.array.length)return this;var xh=wh===this.array.length-1,yh;if(uh>0){var zh=this.array[wh];yh=zh&&zh.removeAfter(th,uh-j,vh);if(yh===zh&&xh)return this;}if(xh&&!yh)return this;var ai=qf(this,th);if(!xh)ai.array.pop();if(yh)ai.array[wh]=yh;return ai;};var jf={};function kf(th,uh){var vh=th._origin,wh=th._capacity,xh=uf(wh),yh=th._tail;return zh(th._root,th._level,0);function zh(ci,di,ei){return di===0?ai(ci,ei):bi(ci,di,ei);}function ai(ci,di){var ei=di===xh?yh&&yh.array:ci&&ci.array,fi=di>vh?0:vh-di,gi=wh-di;if(gi>k)gi=k;return function(){if(fi===gi)return jf;var hi=uh?--gi:fi++;return ei&&ei[hi];};}function bi(ci,di,ei){var fi,gi=ci&&ci.array,hi=ei>vh?0:(vh-ei)>>di,ii=((wh-ei)>>di)+1;if(ii>k)ii=k;return function(){do{if(fi){var ji=fi();if(ji!==jf)return ji;fi=null;}if(hi===ii)return jf;var ki=uh?--ii:hi++;fi=zh(gi&&gi[ki],di-j,ei+(ki<<di));}while(true);};}}function lf(th,uh,vh,wh,xh,yh,zh){var ai=Object.create(gf);ai.size=uh-th;ai._origin=th;ai._capacity=uh;ai._level=vh;ai._root=wh;ai._tail=xh;ai.__ownerID=yh;ai.__hash=zh;ai.__altered=false;return ai;}var mf;function nf(){return mf||(mf=lf(0,0,j));}function of(th,uh,vh){uh=u(th,uh);if(uh>=th.size||uh<0)return th.withMutations(function(zh){uh<0?sf(zh,uh).set(0,vh):sf(zh,0,uh+1).set(uh,vh);});uh+=th._origin;var wh=th._tail,xh=th._root,yh=p(o);if(uh>=uf(th._capacity)){wh=pf(wh,th.__ownerID,0,uh,vh,yh);}else xh=pf(xh,th.__ownerID,th._level,uh,vh,yh);if(!yh.value)return th;if(th.__ownerID){th._root=xh;th._tail=wh;th.__hash=(void 0);th.__altered=true;return th;}return lf(th._origin,th._capacity,th._level,xh,wh);}function pf(th,uh,vh,wh,xh,yh){var zh=(wh>>>vh)&l,ai=th&&zh<th.array.length;if(!ai&&xh===(void 0))return th;var bi;if(vh>0){var ci=th&&th.array[zh],di=pf(ci,uh,vh-j,wh,xh,yh);if(di===ci)return th;bi=qf(th,uh);bi.array[zh]=di;return bi;}if(ai&&th.array[zh]===xh)return th;q(yh);bi=qf(th,uh);if(xh===(void 0)&&zh===bi.array.length-1){bi.array.pop();}else bi.array[zh]=xh;return bi;}function qf(th,uh){if(uh&&th&&uh===th.ownerID)return th;return new hf(th?th.array.slice():[],uh);}function rf(th,uh){if(uh>=uf(th._capacity))return th._tail;if(uh<1<<(th._level+j)){var vh=th._root,wh=th._level;while(vh&&wh>0){vh=vh.array[(uh>>>wh)&l];wh-=j;}return vh;}}function sf(th,uh,vh){var wh=th.__ownerID||new r(),xh=th._origin,yh=th._capacity,zh=xh+uh,ai=vh===(void 0)?yh:vh<0?yh+vh:xh+vh;if(zh===xh&&ai===yh)return th;if(zh>=ai)return th.clear();var bi=th._level,ci=th._root,di=0;while(zh+di<0){ci=new hf(ci&&ci.array.length?[(void 0),ci]:[],wh);bi+=j;di+=1<<bi;}if(di){zh+=di;xh+=di;ai+=di;yh+=di;}var ei=uf(yh),fi=uf(ai);while(fi>=1<<(bi+j)){ci=new hf(ci&&ci.array.length?[ci]:[],wh);bi+=j;}var gi=th._tail,hi=fi<ei?rf(th,ai-1):fi>ei?new hf([],wh):gi;if(gi&&fi>ei&&zh<yh&&gi.array.length){ci=qf(ci,wh);var ii=ci;for(var ji=bi;ji>j;ji-=j){var ki=(ei>>>ji)&l;ii=ii.array[ki]=qf(ii.array[ki],wh);}ii.array[(ei>>>j)&l]=gi;}if(ai<yh)hi=hi&&hi.removeAfter(wh,0,ai);if(zh>=fi){zh-=fi;ai-=fi;bi=j;ci=null;hi=hi&&hi.removeBefore(wh,0,zh);}else if(zh>xh||fi<ei){di=0;while(ci){var li=(zh>>>bi)&l;if(li!==(fi>>>bi)&l)break;if(li)di+=(1<<bi)*li;bi-=j;ci=ci.array[li];}if(ci&&zh>xh)ci=ci.removeBefore(wh,bi,zh-di);if(ci&&fi<ei)ci=ci.removeAfter(wh,bi,fi-di);if(di){zh-=di;ai-=di;}}if(th.__ownerID){th.size=ai-zh;th._origin=zh;th._capacity=ai;th._level=bi;th._root=ci;th._tail=hi;th.__hash=(void 0);th.__altered=true;return th;}return lf(zh,ai,bi,ci,hi);}function tf(th,uh,vh){var wh=[],xh=0;for(var yh=0;yh<vh.length;yh++){var zh=vh[yh],ai=ca(zh);if(ai.size>xh)xh=ai.size;if(!ea(zh))ai=ai.map(function(bi){return yb(bi);});wh.push(ai);}if(xh>th.size)th=th.setSize(xh);return ue(th,uh,wh);}function uf(th){return th<k?0:(((th-1)>>>j)<<j);}h(vf,wd);function vf(th){return th===null||th===(void 0)?zf():wf(th)?th:zf().withMutations(function(uh){var vh=ba(th);sc(vh.size);vh.forEach(function(wh,xh){return uh.set(xh,wh);});});}vf.of=function(){return this(arguments);};vf.prototype.toString=function(){return this.__toString('OrderedMap {','}');};vf.prototype.get=function(th,uh){var vh=this._map.get(th);return vh!==(void 0)?this._list.get(vh)[1]:uh;};vf.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this;}return zf();};vf.prototype.set=function(th,uh){return ag(this,th,uh);};vf.prototype.remove=function(th){return ag(this,th,m);};vf.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered();};vf.prototype.__iterate=function(th,uh){var vh=this;return this._list.__iterate(function(wh){return wh&&th(wh[1],wh[0],vh);},uh);};vf.prototype.__iterator=function(th,uh){return this._list.fromEntrySeq().__iterator(th,uh);};vf.prototype.__ensureOwner=function(th){if(th===this.__ownerID)return this;var uh=this._map.__ensureOwner(th),vh=this._list.__ensureOwner(th);if(!th){this.__ownerID=th;this._map=uh;this._list=vh;return this;}return xf(uh,vh,th,this.__hash);};function wf(th){return xd(th)&&ia(th);}vf.isOrderedMap=wf;vf.prototype[ma]=true;vf.prototype[i]=vf.prototype.remove;function xf(th,uh,vh,wh){var xh=Object.create(vf.prototype);xh.size=th?th.size:0;xh._map=th;xh._list=uh;xh.__ownerID=vh;xh.__hash=wh;return xh;}var yf;function zf(){return yf||(yf=xf(ke(),nf()));}function ag(th,uh,vh){var wh=th._map,xh=th._list,yh=wh.get(uh),zh=yh!==(void 0),ai,bi;if(vh===m){if(!zh)return th;if(xh.size>=k&&xh.size>=wh.size*2){bi=xh.filter(function(ci,di){return ci!==(void 0)&&yh!==di;});ai=bi.toKeyedSeq().map(function(ci){return ci[0];}).flip().toMap();if(th.__ownerID)ai.__ownerID=bi.__ownerID=th.__ownerID;}else{ai=wh.remove(uh);bi=yh===xh.size-1?xh.pop():xh.set(yh,(void 0));}}else if(zh){if(vh===xh.get(yh)[1])return th;ai=wh;bi=xh.set(yh,[uh,vh]);}else{ai=wh.set(uh,xh.size);bi=xh.set(xh.size,[uh,vh]);}if(th.__ownerID){th.size=ai.size;th._map=ai;th._list=bi;th.__hash=(void 0);return th;}return xf(ai,bi);}h(bg,vb);function bg(th){return th===null||th===(void 0)?hg():cg(th)?th:hg().unshiftAll(th);}bg.of=function(){return this(arguments);};bg.prototype.toString=function(){return this.__toString('Stack [',']');};bg.prototype.get=function(th,uh){var vh=this._head;while(vh&&th--)vh=vh.next;return vh?vh.value:uh;};bg.prototype.peek=function(){return this._head&&this._head.value;};bg.prototype.push=function(){if(arguments.length===0)return this;var th=this.size+arguments.length,uh=this._head;for(var vh=arguments.length-1;vh>=0;vh--)uh={value:arguments[vh],next:uh};if(this.__ownerID){this.size=th;this._head=uh;this.__hash=(void 0);this.__altered=true;return this;}return fg(th,uh);};bg.prototype.pushAll=function(th){th=ca(th);if(th.size===0)return this;sc(th.size);var uh=this.size,vh=this._head;th.reverse().forEach(function(wh){uh++;vh={value:wh,next:vh};});if(this.__ownerID){this.size=uh;this._head=vh;this.__hash=(void 0);this.__altered=true;return this;}return fg(uh,vh);};bg.prototype.pop=function(){return this.slice(1);};bg.prototype.unshift=function(){return this.push.apply(this,arguments);};bg.prototype.unshiftAll=function(th){return this.pushAll(th);};bg.prototype.shift=function(){return this.pop.apply(this,arguments);};bg.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=(void 0);this.__hash=(void 0);this.__altered=true;return this;}return hg();};bg.prototype.slice=function(th,uh){if(w(th,uh,this.size))return this;var vh=x(th,this.size),wh=y(uh,this.size);if(wh!==this.size)return vb.prototype.slice.call(this,th,uh);var xh=this.size-vh,yh=this._head;while(vh--)yh=yh.next;if(this.__ownerID){this.size=xh;this._head=yh;this.__hash=(void 0);this.__altered=true;return this;}return fg(xh,yh);};bg.prototype.__ensureOwner=function(th){if(th===this.__ownerID)return this;if(!th){this.__ownerID=th;this.__altered=false;return this;}return fg(this.size,this._head,th,this.__hash);};bg.prototype.__iterate=function(th,uh){if(uh)return this.toSeq().cacheResult.__iterate(th,uh);var vh=0,wh=this._head;while(wh){if(th(wh.value,vh++,this)===false)break;wh=wh.next;}return vh;};bg.prototype.__iterator=function(th,uh){if(uh)return this.toSeq().cacheResult().__iterator(th,uh);var vh=0,wh=this._head;return new ta(function(){if(wh){var xh=wh.value;wh=wh.next;return ua(th,vh++,xh);}return va();});};function cg(th){return !!(th&&th[dg]);}bg.isStack=cg;var dg='@@__IMMUTABLE_STACK__@@',eg=bg.prototype;eg[dg]=true;eg.withMutations=zd.withMutations;eg.asMutable=zd.asMutable;eg.asImmutable=zd.asImmutable;eg.wasAltered=zd.wasAltered;function fg(th,uh,vh,wh){var xh=Object.create(eg);xh.size=th;xh._head=uh;xh.__ownerID=vh;xh.__hash=wh;xh.__altered=false;return xh;}var gg;function hg(){return gg||(gg=fg(0));}h(ig,wb);function ig(th){return th===null||th===(void 0)?pg():jg(th)?th:pg().withMutations(function(uh){var vh=da(th);sc(vh.size);vh.forEach(function(wh){return uh.add(wh);});});}ig.of=function(){return this(arguments);};ig.fromKeys=function(th){return this(ba(th).keySeq());};ig.prototype.toString=function(){return this.__toString('Set {','}');};ig.prototype.has=function(th){return this._map.has(th);};ig.prototype.add=function(th){return mg(this,this._map.set(th,true));};ig.prototype.remove=function(th){return mg(this,this._map.remove(th));};ig.prototype.clear=function(){return mg(this,this._map.clear());};ig.prototype.union=function(){var th=g.call(arguments,0);th=th.filter(function(uh){return uh.size!==0;});if(th.length===0)return this;if(this.size===0&&th.length===1)return this.constructor(th[0]);return this.withMutations(function(uh){for(var vh=0;vh<th.length;vh++)da(th[vh]).forEach(function(wh){return uh.add(wh);});});};ig.prototype.intersect=function(){var th=g.call(arguments,0);if(th.length===0)return this;th=th.map(function(vh){return da(vh);});var uh=this;return this.withMutations(function(vh){uh.forEach(function(wh){if(!th.every(function(xh){return xh.contains(wh);}))vh.remove(wh);});});};ig.prototype.subtract=function(){var th=g.call(arguments,0);if(th.length===0)return this;th=th.map(function(vh){return da(vh);});var uh=this;return this.withMutations(function(vh){uh.forEach(function(wh){if(th.some(function(xh){return xh.contains(wh);}))vh.remove(wh);});});};ig.prototype.merge=function(){return this.union.apply(this,arguments);};ig.prototype.mergeWith=function(th){var uh=g.call(arguments,1);return this.union.apply(this,uh);};ig.prototype.sort=function(th){return qg(kd(this,th));};ig.prototype.sortBy=function(th,uh){return qg(kd(this,uh,th));};ig.prototype.wasAltered=function(){return this._map.wasAltered();};ig.prototype.__iterate=function(th,uh){var vh=this;return this._map.__iterate(function(wh,xh){return th(xh,xh,vh);},uh);};ig.prototype.__iterator=function(th,uh){return this._map.map(function(vh,wh){return wh;}).__iterator(th,uh);};ig.prototype.__ensureOwner=function(th){if(th===this.__ownerID)return this;var uh=this._map.__ensureOwner(th);if(!th){this.__ownerID=th;this._map=uh;return this;}return this.__make(uh,th);};function jg(th){return !!(th&&th[kg]);}ig.isSet=jg;var kg='@@__IMMUTABLE_SET__@@',lg=ig.prototype;lg[kg]=true;lg[i]=lg.remove;lg.mergeDeep=lg.merge;lg.mergeDeepWith=lg.mergeWith;lg.withMutations=zd.withMutations;lg.asMutable=zd.asMutable;lg.asImmutable=zd.asImmutable;lg.__empty=pg;lg.__make=ng;function mg(th,uh){if(th.__ownerID){th.size=uh.size;th._map=uh;return th;}return uh===th._map?th:uh.size===0?th.__empty():th.__make(uh);}function ng(th,uh){var vh=Object.create(lg);vh.size=th?th.size:0;vh._map=th;vh.__ownerID=uh;return vh;}var og;function pg(){return og||(og=ng(ke()));}h(qg,ig);function qg(th){return th===null||th===(void 0)?vg():rg(th)?th:vg().withMutations(function(uh){var vh=da(th);sc(vh.size);vh.forEach(function(wh){return uh.add(wh);});});}qg.of=function(){return this(arguments);};qg.fromKeys=function(th){return this(ba(th).keySeq());};qg.prototype.toString=function(){return this.__toString('OrderedSet {','}');};function rg(th){return jg(th)&&ia(th);}qg.isOrderedSet=rg;var sg=qg.prototype;sg[ma]=true;sg.__empty=vg;sg.__make=tg;function tg(th,uh){var vh=Object.create(sg);vh.size=th?th.size:0;vh._map=th;vh.__ownerID=uh;return vh;}var ug;function vg(){return ug||(ug=tg(zf()));}h(wg,ub);function wg(th,uh){var vh=function zh(ai){if(!(this instanceof vh))return new vh(ai);this._map=wd(ai);},wh=Object.keys(th),xh=vh.prototype=Object.create(xg);xh.constructor=vh;uh&&(xh._name=uh);xh._defaultValues=th;xh._keys=wh;xh.size=wh.length;try{wh.forEach(function(zh){Object.defineProperty(vh.prototype,zh,{get:function(){return this.get(zh);},set:function(ai){rc(this.__ownerID);this.set(zh,ai);}});});}catch(yh){}return vh;}wg.prototype.toString=function(){return this.__toString(zg(this)+' {','}');};wg.prototype.has=function(th){return this._defaultValues.hasOwnProperty(th);};wg.prototype.get=function(th,uh){if(!this.has(th))return uh;var vh=this._defaultValues[th];return this._map?this._map.get(th,vh):vh;};wg.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this;}var th=Object.getPrototypeOf(this).constructor;return th._empty||(th._empty=yg(this,ke()));};wg.prototype.set=function(th,uh){if(!this.has(th))throw new Error('Cannot set unknown key "'+th+'" on '+zg(this));var vh=this._map&&this._map.set(th,uh);if(this.__ownerID||vh===this._map)return this;return yg(this,vh);};wg.prototype.remove=function(th){if(!this.has(th))return this;var uh=this._map&&this._map.remove(th);if(this.__ownerID||uh===this._map)return this;return yg(this,uh);};wg.prototype.wasAltered=function(){return this._map.wasAltered();};wg.prototype.__iterator=function(th,uh){var vh=this;return ba(this._defaultValues).map(function(wh,xh){return vh.get(xh);}).__iterator(th,uh);};wg.prototype.__iterate=function(th,uh){var vh=this;return ba(this._defaultValues).map(function(wh,xh){return vh.get(xh);}).__iterate(th,uh);};wg.prototype.__ensureOwner=function(th){if(th===this.__ownerID)return this;var uh=this._map&&this._map.__ensureOwner(th);if(!th){this.__ownerID=th;this._map=uh;return this;}return yg(this,uh,th);};var xg=wg.prototype;xg[i]=xg.remove;xg.deleteIn=xg.removeIn=zd.removeIn;xg.merge=zd.merge;xg.mergeWith=zd.mergeWith;xg.mergeIn=zd.mergeIn;xg.mergeDeep=zd.mergeDeep;xg.mergeDeepWith=zd.mergeDeepWith;xg.mergeDeepIn=zd.mergeDeepIn;xg.setIn=zd.setIn;xg.update=zd.update;xg.updateIn=zd.updateIn;xg.withMutations=zd.withMutations;xg.asMutable=zd.asMutable;xg.asImmutable=zd.asImmutable;function yg(th,uh,vh){var wh=Object.create(Object.getPrototypeOf(th));wh._map=uh;wh.__ownerID=vh;return wh;}function zg(th){return th._name||th.constructor.name;}function ah(th,uh){if(th===uh)return true;if(!ea(uh)||th.size!==(void 0)&&uh.size!==(void 0)&&th.size!==uh.size||th.__hash!==(void 0)&&uh.__hash!==(void 0)&&th.__hash!==uh.__hash||fa(th)!==fa(uh)||ga(th)!==ga(uh)||ia(th)!==ia(uh))return false;if(th.size===0&&uh.size===0)return true;var vh=!ha(th);if(ia(th)){var wh=th.entries();return uh.every(function(bi,ci){var di=wh.next().value;return di&&xb(di[1],bi)&&(vh||xb(di[0],ci));})&&wh.next().done;}var xh=false;if(th.size===(void 0))if(uh.size===(void 0)){th.cacheResult();}else{xh=true;var yh=th;th=uh;uh=yh;}var zh=true,ai=uh.__iterate(function(bi,ci){if(vh?!th.has(bi):xh?!xb(bi,th.get(ci,m)):!xb(th.get(ci,m),bi)){zh=false;return false;}});return zh&&th.size===ai;}h(bh,db);function bh(th,uh,vh){if(!(this instanceof bh))return new bh(th,uh,vh);rc(vh!==0);th=th||0;if(uh===(void 0))uh=Infinity;vh=vh===(void 0)?1:Math.abs(vh);if(uh<th)vh=-vh;this._start=th;this._end=uh;this._step=vh;this.size=Math.max(0,Math.ceil((uh-th)/vh-1)+1);if(this.size===0){if(ch)return ch;ch=this;}}bh.prototype.toString=function(){if(this.size===0)return 'Range []';return 'Range [ '+this._start+'...'+this._end+(this._step>1?' by '+this._step:'')+' ]';};bh.prototype.get=function(th,uh){return this.has(th)?this._start+u(this,th)*this._step:uh;};bh.prototype.contains=function(th){var uh=(th-this._start)/this._step;return uh>=0&&uh<this.size&&uh===Math.floor(uh);};bh.prototype.slice=function(th,uh){if(w(th,uh,this.size))return this;th=x(th,this.size);uh=y(uh,this.size);if(uh<=th)return new bh(0,0);return new bh(this.get(th,this._end),this.get(uh,this._end),this._step);};bh.prototype.indexOf=function(th){var uh=th-this._start;if(uh%this._step===0){var vh=uh/this._step;if(vh>=0&&vh<this.size)return vh;}return -1;};bh.prototype.lastIndexOf=function(th){return this.indexOf(th);};bh.prototype.__iterate=function(th,uh){var vh=this.size-1,wh=this._step,xh=uh?this._start+vh*wh:this._start;for(var yh=0;yh<=vh;yh++){if(th(xh,yh,this)===false)return yh+1;xh+=uh?-wh:wh;}return yh;};bh.prototype.__iterator=function(th,uh){var vh=this.size-1,wh=this._step,xh=uh?this._start+vh*wh:this._start,yh=0;return new ta(function(){var zh=xh;xh+=uh?-wh:wh;return yh>vh?va():ua(th,yh++,zh);});};bh.prototype.equals=function(th){return th instanceof bh?this._start===th._start&&this._end===th._end&&this._step===th._step:ah(this,th);};var ch;h(dh,db);function dh(th,uh){if(!(this instanceof dh))return new dh(th,uh);this._value=th;this.size=uh===(void 0)?Infinity:Math.max(0,uh);if(this.size===0){if(eh)return eh;eh=this;}}dh.prototype.toString=function(){if(this.size===0)return 'Repeat []';return 'Repeat [ '+this._value+' '+this.size+' times ]';};dh.prototype.get=function(th,uh){return this.has(th)?this._value:uh;};dh.prototype.contains=function(th){return xb(this._value,th);};dh.prototype.slice=function(th,uh){var vh=this.size;return w(th,uh,vh)?this:new dh(this._value,y(uh,vh)-x(th,vh));};dh.prototype.reverse=function(){return this;};dh.prototype.indexOf=function(th){if(xb(this._value,th))return 0;return -1;};dh.prototype.lastIndexOf=function(th){if(xb(this._value,th))return this.size;return -1;};dh.prototype.__iterate=function(th,uh){for(var vh=0;vh<this.size;vh++)if(th(this._value,vh,this)===false)return vh+1;return vh;};dh.prototype.__iterator=function(th,uh){var vh=this,wh=0;return new ta(function(){return wh<vh.size?ua(th,wh++,vh._value):va();});};dh.prototype.equals=function(th){return th instanceof dh?xb(this._value,th._value):ah(th);};var eh;function fh(th,uh){var vh=function(wh){th.prototype[wh]=uh[wh];};Object.keys(uh).forEach(vh);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(uh).forEach(vh);return th;}aa.Iterator=ta;fh(aa,{toArray:function(){sc(this.size);var th=new Array(this.size||0);this.valueSeq().__iterate(function(uh,vh){th[vh]=uh;});return th;},toIndexedSeq:function(){return new uc(this);},toJS:function(){return this.toSeq().map(function(th){return th&&typeof th.toJS==='function'?th.toJS():th;}).__toJS();},toJSON:function(){return this.toSeq().map(function(th){return th&&typeof th.toJSON==='function'?th.toJSON():th;}).__toJS();},toKeyedSeq:function(){return new tc(this,true);},toMap:function(){return wd(this.toKeyedSeq());},toObject:function(){sc(this.size);var th={};this.__iterate(function(uh,vh){th[vh]=uh;});return th;},toOrderedMap:function(){return vf(this.toKeyedSeq());},toOrderedSet:function(){return qg(fa(this)?this.valueSeq():this);},toSet:function(){return ig(fa(this)?this.valueSeq():this);},toSetSeq:function(){return new vc(this);},toSeq:function(){return ga(this)?this.toIndexedSeq():fa(this)?this.toKeyedSeq():this.toSetSeq();},toStack:function(){return bg(fa(this)?this.valueSeq():this);},toList:function(){return df(fa(this)?this.valueSeq():this);},toString:function(){return '[Iterable]';},__toString:function(th,uh){if(this.size===0)return th+uh;return th+' '+this.toSeq().map(this.__toStringMapper).join(', ')+' '+uh;},concat:function(){var th=g.call(arguments,0);return od(this,gd(this,th));},contains:function(th){return this.some(function(uh){return xb(uh,th);});},entries:function(){return this.__iterator(pa);},every:function(th,uh){sc(this.size);var vh=true;this.__iterate(function(wh,xh,yh){if(!th.call(uh,wh,xh,yh)){vh=false;return false;}});return vh;},filter:function(th,uh){return od(this,ad(this,th,uh,true));},find:function(th,uh,vh){var wh=vh;this.__iterate(function(xh,yh,zh){if(th.call(uh,xh,yh,zh)){wh=xh;return false;}});return wh;},forEach:function(th,uh){sc(this.size);return this.__iterate(uh?th.bind(uh):th);},join:function(th){sc(this.size);th=th!==(void 0)?''+th:',';var uh='',vh=true;this.__iterate(function(wh){vh?(vh=false):(uh+=th);uh+=wh!==null&&wh!==(void 0)?wh:'';});return uh;},keys:function(){return this.__iterator(na);},map:function(th,uh){return od(this,yc(this,th,uh));},reduce:function(th,uh,vh){sc(this.size);var wh,xh;if(arguments.length<2){xh=true;}else wh=uh;this.__iterate(function(yh,zh,ai){if(xh){xh=false;wh=yh;}else wh=th.call(vh,wh,yh,zh,ai);});return wh;},reduceRight:function(th,uh,vh){var wh=this.toKeyedSeq().reverse();return wh.reduce.apply(wh,arguments);},reverse:function(){return od(this,zc(this,true));},slice:function(th,uh){return od(this,dd(this,th,uh,true));},some:function(th,uh){return !this.every(kh(th),uh);},sort:function(th){return od(this,kd(this,th));},values:function(){return this.__iterator(oa);},butLast:function(){return this.slice(0,-1);},isEmpty:function(){return this.size!==(void 0)?this.size===0:!this.some(function(){return true;});},count:function(th,uh){return t(th?this.toSeq().filter(th,uh):this);},countBy:function(th,uh){return bd(this,th,uh);},equals:function(th){return ah(this,th);},entrySeq:function(){var th=this;if(th._cache)return new gb(th._cache);var uh=th.toSeq().map(jh).toIndexedSeq();uh.fromEntrySeq=function(){return th.toSeq();};return uh;},filterNot:function(th,uh){return this.filter(kh(th),uh);},findLast:function(th,uh,vh){return this.toKeyedSeq().reverse().find(th,uh,vh);},first:function(){return this.find(v);},flatMap:function(th,uh){return od(this,id(this,th,uh));},flatten:function(th){return od(this,hd(this,th,true));},fromEntrySeq:function(){return new wc(this);},get:function(th,uh){return this.find(function(vh,wh){return xb(wh,th);},(void 0),uh);},getIn:function(th,uh){var vh=this,wh=vd(th),xh;while(!(xh=wh.next()).done){var yh=xh.value;vh=vh&&vh.get?vh.get(yh,m):m;if(vh===m)return uh;}return vh;},groupBy:function(th,uh){return cd(this,th,uh);},has:function(th){return this.get(th,m)!==m;},hasIn:function(th){return this.getIn(th,m)!==m;},isSubset:function(th){th=typeof th.contains==='function'?th:aa(th);return this.every(function(uh){return th.contains(uh);});},isSuperset:function(th){return th.isSubset(this);},keySeq:function(){return this.toSeq().map(ih).toIndexedSeq();},last:function(){return this.toSeq().reverse().first();},max:function(th){return ld(this,th);},maxBy:function(th,uh){return ld(this,uh,th);},min:function(th){return ld(this,th?lh(th):oh);},minBy:function(th,uh){return ld(this,uh?lh(uh):oh,th);},rest:function(){return this.slice(1);},skip:function(th){return this.slice(Math.max(0,th));},skipLast:function(th){return od(this,this.toSeq().reverse().skip(th).reverse());},skipWhile:function(th,uh){return od(this,fd(this,th,uh,true));},skipUntil:function(th,uh){return this.skipWhile(kh(th),uh);},sortBy:function(th,uh){return od(this,kd(this,uh,th));},take:function(th){return this.slice(0,Math.max(0,th));},takeLast:function(th){return od(this,this.toSeq().reverse().take(th).reverse());},takeWhile:function(th,uh){return od(this,ed(this,th,uh));},takeUntil:function(th,uh){return this.takeWhile(kh(th),uh);},valueSeq:function(){return this.toIndexedSeq();},hashCode:function(){return this.__hash||(this.__hash=ph(this));}});var gh=aa.prototype;gh[ja]=true;gh[sa]=gh.values;gh.__toJS=gh.toArray;gh.__toStringMapper=mh;gh.inspect=gh.toSource=function(){return this.toString();};gh.chain=gh.flatMap;(function(){try{Object.defineProperty(gh,'length',{get:function(){if(!aa.noLengthWarning){var uh;try{throw new Error();}catch(vh){uh=vh.stack;}if(uh.indexOf('_wrapObject')===-1){console&&emptyFunction&&false;return this.size;}}}});}catch(th){}})();fh(ba,{flip:function(){return od(this,xc(this));},findKey:function(th,uh){var vh;this.__iterate(function(wh,xh,yh){if(th.call(uh,wh,xh,yh)){vh=xh;return false;}});return vh;},findLastKey:function(th,uh){return this.toSeq().reverse().findKey(th,uh);},keyOf:function(th){return this.findKey(function(uh){return xb(uh,th);});},lastKeyOf:function(th){return this.toSeq().reverse().keyOf(th);},mapEntries:function(th,uh){var vh=this,wh=0;return od(this,this.toSeq().map(function(xh,yh){return th.call(uh,[yh,xh],wh++,vh);}).fromEntrySeq());},mapKeys:function(th,uh){var vh=this;return od(this,this.toSeq().flip().map(function(wh,xh){return th.call(uh,wh,xh,vh);}).flip());}});var hh=ba.prototype;hh[ka]=true;hh[sa]=gh.entries;hh.__toJS=gh.toObject;hh.__toStringMapper=function(th,uh){return uh+': '+mh(th);};fh(ca,{toKeyedSeq:function(){return new tc(this,false);},filter:function(th,uh){return od(this,ad(this,th,uh,false));},findIndex:function(th,uh){var vh=this.toKeyedSeq().findKey(th,uh);return vh===(void 0)?-1:vh;},indexOf:function(th){var uh=this.toKeyedSeq().keyOf(th);return uh===(void 0)?-1:uh;},lastIndexOf:function(th){var uh=this.toKeyedSeq().lastKeyOf(th);return uh===(void 0)?-1:uh;},reverse:function(){return od(this,zc(this,false));},slice:function(th,uh){return od(this,dd(this,th,uh,false));},splice:function(th,uh){var vh=arguments.length;uh=Math.max(uh|0,0);if(vh===0||(vh===2&&!uh))return this;th=x(th,this.size);var wh=this.slice(0,th);return od(this,vh===1?wh:wh.concat(s(arguments,2),this.slice(th+uh)));},findLastIndex:function(th,uh){var vh=this.toKeyedSeq().findLastKey(th,uh);return vh===(void 0)?-1:vh;},first:function(){return this.get(0);},flatten:function(th){return od(this,hd(this,th,false));},get:function(th,uh){th=u(this,th);return (th<0||(this.size===Infinity||(this.size!==(void 0)&&th>this.size)))?uh:this.find(function(vh,wh){return wh===th;},(void 0),uh);},has:function(th){th=u(this,th);return th>=0&&(this.size!==(void 0)?this.size===Infinity||th<this.size:this.indexOf(th)!==-1);},interpose:function(th){return od(this,jd(this,th));},interleave:function(){var th=[this].concat(s(arguments)),uh=nd(this.toSeq(),db.of,th),vh=uh.flatten(true);if(uh.size)vh.size=uh.size*th.length;return od(this,vh);},last:function(){return this.get(-1);},skipWhile:function(th,uh){return od(this,fd(this,th,uh,false));},zip:function(){var th=[this].concat(s(arguments));return od(this,nd(this,nh,th));},zipWith:function(th){var uh=s(arguments);uh[0]=this;return od(this,nd(this,th,uh));}});ca.prototype[la]=true;ca.prototype[ma]=true;fh(da,{get:function(th,uh){return this.has(th)?th:uh;},contains:function(th){return this.has(th);},keySeq:function(){return this.valueSeq();}});da.prototype.has=gh.contains;fh(cb,ba.prototype);fh(db,ca.prototype);fh(eb,da.prototype);fh(ub,ba.prototype);fh(vb,ca.prototype);fh(wb,da.prototype);function ih(th,uh){return uh;}function jh(th,uh){return [uh,th];}function kh(th){return function(){return !th.apply(this,arguments);};}function lh(th){return function(){return -th.apply(this,arguments);};}function mh(th){return typeof th==='string'?JSON.stringify(th):th;}function nh(){return s(arguments);}function oh(th,uh){return th<uh?1:th>uh?-1:0;}function ph(th){if(th.size===Infinity)return 0;var uh=ia(th),vh=fa(th),wh=uh?1:0,xh=th.__iterate(vh?uh?function(yh,zh){wh=31*wh+rh(ec(yh),ec(zh))|0;}:function(yh,zh){wh=wh+rh(ec(yh),ec(zh))|0;}:uh?function(yh){wh=31*wh+ec(yh)|0;}:function(yh){wh=wh+ec(yh)|0;});return qh(xh,wh);}function qh(th,uh){uh=cc(uh,3432918353);uh=cc(uh<<15|uh>>>-15,461845907);uh=cc(uh<<13|uh>>>-13,5);uh=(uh+3864292196|0)^th;uh=cc(uh^uh>>>16,2246822507);uh=cc(uh^uh>>>13,3266489909);uh=dc(uh^uh>>>16);return uh;}function rh(th,uh){return th^uh+2654435769+(th<<6)+(th>>2)|0;}var sh={Iterable:aa,Seq:bb,Collection:tb,Map:wd,OrderedMap:vf,List:df,Stack:bg,Set:ig,OrderedSet:qg,Record:wg,Range:bh,Repeat:dh,is:xb,fromJS:yb};return sh;}));},null);
__d("ES6StringUtils",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={fromCodePoint:function(){for(var h=[],i=0,j=arguments.length;i<j;i++)h.push(arguments[i]);if(String.fromCodePoint)return String.fromCodePoint.apply(this,h);var k=[];for(var l=0;l<h.length;l++){var m=Number(h[l]);if(!isFinite(m)||m<0||1114111<m||Math.floor(m)!=m)throw RangeError('Invalid code point: '+h[l]);if(m<65536){k.push(String.fromCharCode(m));}else{m-=65536;k.push(String.fromCharCode((m>>10)+55296),String.fromCharCode((m%1024)+56320));}}return k.join('');},codePointAt:function(h){"use strict";if(String.prototype.codePointAt)return String.prototype.codePointAt.call(this,h);if(this===null||this===(void 0))throw TypeError('Invalid context: '+this);var i=String(this),j=i.length;h=h?Number(h):0;if(h!=h)h=0;if(h<0||j<=h)return (void 0);var k=i.charCodeAt(h);if(55296<=k&&k<=56319&&j>h+1){var l=i.charCodeAt(h+1);if(56320<=l&&l<=57343)return (k-55296)*1024+l-56320+65536;}return k;}};e.exports=g;},null);
__d("UnicodeUtils",["ES6StringUtils"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();"use strict";var h=55296,i=57343,j=/[\uD800-\uDFFF]/;function k(s){return h<=s&&s<=i;}function l(s){return j.test(s);}function m(s,t){return 1+k(s.charCodeAt(t));}function n(s){if(!l(s))return s.length;var t=0;for(var u=0;u<s.length;u+=m(s,u))t++;return t;}function o(s,t,u){t=t||0;u=(u===(void 0))?Infinity:(u||0);if(!l(s))return s.substr(t,u);var v=s.length;if(v<=0||t>v||u<=0)return '';var w=0;if(t>0){for(;t>0&&w<v;t--)w+=m(s,w);if(w>=v)return '';}else if(t<0){for(w=v;t<0&&0<w;t++)w-=m(s,w-1);if(w<0)w=0;}var x=v;if(u<v)for(x=w;u>0&&x<v;u--)x+=m(s,x);return s.substring(w,x);}function p(s,t,u){t=t||0;u=(u===(void 0))?Infinity:(u||0);if(t<0)t=0;if(u<0)u=0;var v=Math.abs(u-t);t=(t<u)?t:u;return o(s,t,v);}function q(s){var t=[];for(var u=0;u<s.length;u+=m(s,u)){var v=g.codePointAt.call(s,u);t.push(v);}return t;}var r={isCodeUnitInSurrogateRange:k,getUTF16Length:m,strlen:n,substr:o,substring:p,getCodePoints:q};e.exports=r;},null);
__d("UFIAddCommentLink.react",["React","UFIClassNames","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g,m=l.PropTypes,n=g.createClass({displayName:"UFIAddCommentLink",propTypes:{'data-ft':m.string,isFirstCommentComponent:m.bool,isFirstComponent:m.bool,isLastCommentComponent:m.bool,isLastComponent:m.bool,isQAndA:m.bool,onClick:m.func},render:function(){var o=k(h.ROW,(("UFIAddCommentLink")+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),p;if(this.props.isQAndA){p=j._("Posez une question...");}else p=j._("\u00c9crire un commentaire...");return (g.createElement("li",{className:o,"data-ft":this.props['data-ft']},g.createElement("a",{className:"UFICommentLink",onClick:this.props.onClick,href:"#",role:"button"},p)));}});e.exports=n;},null);
__d("HovercardLink",["Bootloader","URI"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={getBaseURI:function(){return h('/ajax/hovercard/hovercard.php');},constructEndpoint:function(j,k){return i.constructEndpointWithGroupAndLocation(j,k,null);},constructEndpointWithLocation:function(j,k){return i.constructEndpointWithGroupAndLocation(j,null,k);},constructEndpointWithGroupAndLocation:function(j,k,l,m){g.loadModules(["Hovercard"],function(){});var n=new h(i.getBaseURI()).setQueryData({id:j.id}),o={};if((j.weakreference||m)&&k)o.group_id=k;if(l)o.hc_location=l;n.addQueryData({extragetparams:JSON.stringify(o)});return n;}};e.exports=i;},null);
__d("Newline.react",["React"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g.createClass({displayName:"Newline",render:function(){return g.createElement("br",g.__spread({},this.props));}});e.exports=h;},null);
__d("Text.react",["React"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g.createClass({displayName:"Text",render:function(){return (g.createElement("span",g.__spread({},this.props),this.props.children));}});e.exports=h;},null);
__d("BaseTextWithEntities.react",["Newline.react","React","ReactFragment","Text.react","UnicodeUtils"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();"use strict";var l=h,m=l.PropTypes;function n(r,s){return r.offset-s.offset;}var o=/(\r\n|[\r\n])/,p=m.shape({length:m.number.isRequired,offset:m.number.isRequired}),q=h.createClass({displayName:"BaseTextWithEntities",propTypes:{aggregatedRanges:m.array,imageRanges:m.array,ranges:m.arrayOf(p),rangeRenderer:m.func.isRequired,text:m.string.isRequired,textRenderer:m.func.isRequired},_getSortedRanges:function(){var r=[];[this.props.ranges,this.props.aggregatedRanges,this.props.imageRanges].filter(function(s){return s!=null;}).forEach(function(s){return r=r.concat(s);});return r.sort(n);},_renderText:function(r){var s=r.split(o),t={};for(var u=0;u<s.length;u++){var v=s[u];if(v)if(u%2===1){t[u]=h.createElement(g,null);}else t[u]=this.props.textRenderer(s[u]);}return i.create(t);},render:function(){var r=0,s=this.props.text,t=this._getSortedRanges(),u={},v=t.length;for(var w=0,x=v;w<x;w++){var y=t[w];if(y.offset<r)continue;if(y.offset>r)u['text'+w]=this._renderText(k.substring(s,r,y.offset));var z=k.substr(s,y.offset,y.length);u['range'+w]=this.props.rangeRenderer(z,y);r=y.offset+y.length;}if(s.length>r)u.end=this._renderText(k.substr(s,r));return (h.createElement(j,{className:this.props.className,style:this.props.style},i.create(u)));}});e.exports=q;},null);
__d("TransformTextToDOMMixin",["DOMQuery","createArrayFromMixed","flattenArray"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=3,k={transform:function(l,m){return i(l.map(function(n){if(!g.isElementNode(n)){var o=n,p=[],q=this.MAX_ITEMS||j;while(q--){var r=m?[o].concat(m):[o],s=this.match.apply(this,r);if(!s)break;p.push(o.substring(0,s.startIndex));p.push(s.element);o=o.substring(s.endIndex);}o&&p.push(o);return p;}return n;}.bind(this)));},params:function(){var l=this;return {__params:true,obj:l,params:h(arguments)};}};e.exports=k;},null);
__d("Utf16",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={decode:function(h){switch(h.length){case 1:return h.charCodeAt(0);case 2:return 65536|((h.charCodeAt(0)-55296)*1024)|(h.charCodeAt(1)-56320);}},encode:function(h){if(h<65536){return String.fromCharCode(h);}else return String.fromCharCode(55296+((h-65536)>>10))+String.fromCharCode(56320+(h%1024));}};e.exports=g;},null);
__d("SupportedEmoji",["cx","Utf16"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=new RegExp("([\u203C\u2049\u2100-\u21FF\u2300-\u27FF"+"\u2900-\u29FF\u2B00-\u2BFF\u3000-\u30FF\u3200-\u32FF]|"+"\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDEFF])([\uFE00-\uFE0F])?"),j={126980:"_4_o0",127378:"_4_o1",127385:"_4_o2",127386:"_4_o3",127489:"_4_o4",127490:"_4_o5",127514:"_4_o6",127535:"_4_o7",127539:"_4_o8",127541:"_4_o9",127542:"_4_oa",127543:"_4_ob",127544:"_4_oc",127545:"_4_od",127546:"_4_oe",127568:"_4_of",127744:"_2b_",127746:"_2c0",127747:"_4_og",127748:"_4_oh",127749:"_4_oi",127750:"_4_oj",127751:"_4_ok",127752:"_4_ol",127754:"_2c1",127769:"_2c2",127775:"_2c3",127793:"_2c4",127796:"_2c5",127797:"_2c6",127799:"_2c7",127800:"_2c8",127801:"_2c9",127802:"_2ca",127803:"_2cb",127806:"_2cc",127808:"_2cd",127809:"_2ce",127810:"_2cf",127811:"_2cg",127813:"_4_om",127814:"_4_on",127817:"_4_oo",127818:"_2ch",127822:"_2ci",127827:"_2cj",127828:"_2ck",127832:"_4_op",127833:"_4_oq",127834:"_4_or",127835:"_4_os",127836:"_4_ot",127837:"_4_ou",127838:"_4_ov",127839:"_4_ow",127841:"_4_ox",127842:"_4_oy",127843:"_4_oz",127846:"_4_o-",127847:"_4_o_",127856:"_4_p0",127857:"_4_p1",127858:"_4_p2",127859:"_4_p3",127860:"_4_p4",127861:"_4_p5",127862:"_4_p6",127864:"_2cl",127866:"_2cm",127867:"_4_p7",127872:"_4_p8",127873:"_2cn",127875:"_2co",127876:"_2cp",127877:"_2cq",127880:"_2cr",127881:"_2cs",127884:"_4_p9",127885:"_2ct",127886:"_2cu",127887:"_2cv",127888:"_2cw",127890:"_4_pa",127891:"_2cx",127905:"_4_pb",127906:"_4_pc",127908:"_4_pd",127909:"_4_pe",127910:"_4_pf",127911:"_4_pg",127912:"_4_ph",127913:"_4_pi",127915:"_4_pj",127916:"_4_pk",127917:"_4_pl",127919:"_4_pm",127921:"_4_pn",127925:"_2cy",127926:"_2cz",127927:"_4_po",127928:"_4_pp",127930:"_4_pq",127932:"_2c-",127934:"_4_pr",127935:"_4_ps",127936:"_4_pt",127937:"_4_pu",127942:"_4_pv",127944:"_4_pw",127968:"_4_px",127969:"_4_py",127970:"_4_pz",127971:"_4_p-",127973:"_4_p_",127974:"_4_q0",127975:"_4_q1",127976:"_4_q2",127977:"_4_q3",127978:"_4_q4",127979:"_4_q5",127980:"_4_q6",127981:"_4_q7",127983:"_4_q8",127984:"_4_q9",128013:"_2c_",128014:"_2d0",128017:"_2d1",128018:"_2d2",128020:"_2d3",128023:"_2d4",128024:"_2d5",128025:"_2d6",128026:"_2d7",128027:"_2d8",128031:"_2d9",128032:"_2da",128033:"_2db",128037:"_2dc",128038:"_2dd",128039:"_2de",128040:"_2df",128041:"_2dg",128043:"_2dh",128044:"_2di",128045:"_2dj",128046:"_2dk",128047:"_2dl",128048:"_2dm",128049:"_2dn",128051:"_2do",128052:"_2dp",128053:"_2dq",128054:"_491",128055:"_2dr",128056:"_2ds",128057:"_2dt",128058:"_2du",128059:"_2dv",128062:"_2dw",128064:"_2dx",128066:"_2dy",128067:"_2dz",128068:"_2d-",128069:"_2d_",128070:"_2e0",128071:"_2e1",128072:"_2e2",128073:"_2e3",128074:"_2e4",128075:"_2e5",128076:"_2e6",128077:"_2e7",128078:"_2e8",128079:"_2e9",128080:"_2ea",128081:"_4_qa",128082:"_4_qb",128084:"_4_qc",128085:"_4_qd",128087:"_4_qe",128088:"_4_qf",128089:"_4_qg",128092:"_4_qh",128095:"_4_qi",128096:"_4_qj",128097:"_4_qk",128098:"_4_ql",128102:"_2eb",128103:"_2ec",128104:"_2ed",128105:"_2ee",128107:"_2ef",128110:"_2eg",128111:"_2eh",128113:"_2ei",128114:"_2ej",128115:"_2ek",128116:"_2el",128117:"_2em",128118:"_2en",128119:"_2eo",128120:"_2ep",128123:"_2eq",128124:"_2er",128125:"_2es",128126:"_2et",128127:"_2eu",128128:"_2ev",128130:"_2ew",128131:"_2ex",128132:"_4_qm",128133:"_2ey",128136:"_4_qn",128137:"_4_qo",128138:"_4_qp",128139:"_2ez",128140:"_4_qq",128141:"_4_qr",128142:"_4_qs",128143:"_2e-",128144:"_2e_",128145:"_2f0",128146:"_4_qt",128147:"_2f1",128148:"_2f2",128150:"_2f3",128151:"_2f4",128152:"_2f5",128153:"_2f6",128154:"_2f7",128155:"_2f8",128156:"_2f9",128157:"_2fa",128158:"_4_qu",128159:"_4_qv",128160:"_4_qw",128161:"_4_qx",128162:"_2fb",128163:"_4_qy",128164:"_2fc",128166:"_2fd",128167:"_4_qz",128168:"_2fe",128169:"_2ff",128170:"_2fg",128176:"_4_q-",128178:"_4_q_",128180:"_4_r0",128181:"_4_r1",128186:"_4_r2",128187:"_2fh",128188:"_4_r3",128189:"_2fi",128190:"_2fj",128191:"_2fk",128192:"_2fl",128214:"_4_r4",128221:"_4_r5",128222:"_2fm",128224:"_2fn",128225:"_4_r6",128226:"_4_r7",128227:"_4_r8",128232:"_4_r9",128233:"_4_ra",128234:"_4_rb",128235:"_4_rc",128236:"_4_rd",128237:"_4_re",128238:"_4_rf",128241:"_2fo",128242:"_2fp",128243:"_4_rg",128244:"_4_rh",128246:"_4_ri",128247:"_4_rj",128250:"_2fq",128251:"_4_rk",128252:"_4_rl",128264:"_4_rm",128269:"_4_rn",128270:"_4_ro",128271:"_4_rp",128272:"_4_rq",128273:"_4_rr",128274:"_4_rs",128275:"_4_rt",128276:"_2fr",128286:"_4_ru",128293:"_492",128296:"_4_rv",128299:"_4_rw",128304:"_4_rx",128305:"_4_ry",128306:"_4_rz",128307:"_4_r-",128308:"_4_r_",128309:"_4_s0",128310:"_4_s1",128311:"_4_s2",128312:"_4_s3",128313:"_4_s4",128507:"_4_s5",128508:"_4_s6",128509:"_4_s7",128513:"_2fs",128514:"_2ft",128515:"_2fu",128516:"_2fv",128518:"_2fw",128521:"_2fx",128522:"_1q3y",128524:"_2fz",128525:"_2f-",128527:"_2f_",128530:"_2g0",128531:"_2g1",128532:"_2g2",128534:"_2g3",128536:"_2g4",128538:"_2g5",128540:"_2g6",128541:"_2g7",128542:"_2g8",128544:"_2g9",128545:"_2ga",128546:"_2gb",128547:"_2gc",128548:"_2gd",128549:"_2ge",128552:"_2gf",128553:"_2gg",128554:"_2gh",128555:"_2gi",128557:"_2gj",128560:"_2gk",128561:"_2gl",128562:"_2gm",128563:"_2gn",128565:"_2go",128567:"_2gp",128568:"_2gq",128569:"_2gr",128570:"_2gs",128571:"_2gt",128572:"_2gu",128573:"_2gv",128575:"_2gw",128576:"_2gx",128587:"_2gy",128588:"_2gz",128589:"_2g-",128591:"_2g_",128640:"_4_s8",128643:"_4_s9",128644:"_4_sa",128645:"_4_sb",128649:"_4_sc",128652:"_4_sd",128655:"_4_se",128657:"_4_sf",128658:"_4_sg",128659:"_4_sh",128661:"_4_si",128663:"_4_sj",128665:"_4_sk",128666:"_4_sl",128674:"_4_sm",128676:"_4_sn",128677:"_4_so",128679:"_4_sp",128684:"_4_sq",128685:"_4_sr",128690:"_4_ss",128697:"_4_st",128698:"_4_su",128699:"_4_sv",128700:"_4_sw",128701:"_4_sx",128702:"_4_sy",128704:"_4_sz",9642:"_4_s-",9643:"_4_s_",9723:"_4_t0",9724:"_4_t1",9725:"_4_t2",9726:"_4_t3",9742:"_4_t4",9757:"_2h0",9786:"_2h1",9855:"_4_t5",9888:"_4_t6",9889:"_2h2",9898:"_4_t7",9899:"_4_t8",9917:"_4_t9",9918:"_4_ta",9924:"_2h3",9940:"_4_tb",9962:"_4_tc",9970:"_4_td",9971:"_4_te",9973:"_4_tf",9978:"_4_tg",9981:"_4_th",9994:"_2h4",9995:"_2h5",9996:"_2h6",10060:"_4_ti",10062:"_4_tj",10145:"_4_tk",10175:"_4_tl",11013:"_4_tm",11014:"_4_tn",11015:"_4_to",11035:"_4_tp",11036:"_4_tq",11088:"_4_tr",11093:"_4_ts",12349:"_4_tt",8598:"_4_tu",8599:"_4_tv",8600:"_4_tw",8601:"_4_tx",9728:"_2h7",9729:"_2h8",9748:"_2h9",9749:"_2ha",9824:"_4_ty",9827:"_4_tz",9829:"_4_t-",9830:"_4_t_",9832:"_4_u0",9986:"_4_u1",9992:"_4_u2",9993:"_4_u3",10006:"_4_u4",10024:"_2hb",10035:"_4_u5",10036:"_4_u6",10067:"_4_u7",10068:"_4_u8",10069:"_4_u9",10071:"_4_ua",10084:"_2hc",10548:"_4_ub",10549:"_4_uc",12951:"_4_ud",12953:"_4_ue"},k=function(l){var m=0;while(l.length>0){var n=i.exec(l);if(!n||!n.length)return false;var o=n[1],p=n.index,q=h.decode(o),r=j[q];if(!r){m+=p+1;l=l.substr(p+1);continue;}n.index+=m;n.emoji=r;return n;}return false;};e.exports={findEmoji:k,emoji:j,_utf16Regex:i};},null);
__d("DOMEmoji",["CSS","JSXDOM","TransformTextToDOMMixin","SupportedEmoji","copyProperties","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m={MAX_ITEMS:40,match:function(n){var o=j.findEmoji(n);if(!o||!o.length)return false;var p=o[0],q=o.index,r=o.emoji;return {startIndex:q,endIndex:q+p.length,element:this._element(r)};},_element:function(n){var o=h.span(null);g.addClass(o,"_1az");g.addClass(o,"_1a-");g.addClass(o,n);return o;}};e.exports=k(m,i);},null);
__d("EmoticonsList",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={emotes:{":)":"smile",":-)":"smile",":]":"smile","=)":"smile","(:":"smile","(=":"smile",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",":poop:":"poop",":putnam:":"putnam",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue","=D":"grin",":-D":"grin",":D":"grin",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp",";)":"wink",";-)":"wink","8-)":"glasses","B-)":"glasses","B|":"sunglasses","8-|":"sunglasses","8|":"sunglasses","B-|":"sunglasses",">:(":"grumpy",">:-(":"grumpy",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",":'(":"cry","3:)":"devil","3:-)":"devil","O:)":"angel","O:-)":"angel",":*":"kiss",":-*":"kiss","<3":"heart","&lt;3":"heart","":"heart","^_^":"kiki","-_-":"squint","o.O":"confused","O.o":"confused_rev",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",">_<":"upset",">.<":"upset",":v":"pacman",":|]":"robot",":3":"colonthree","<(\")":"penguin","(^^^)":"shark","(y)":"like",":like:":"like","(Y)":"like"},symbols:{smile:":)",frown:":(",poop:":poop:",putnam:":putnam:",tongue:":P",grin:"=D",gasp:":o",wink:";)",glasses:"8-)",sunglasses:"B|",grumpy:">:(",unsure:":/",cry:":'(",devil:"3:)",angel:"O:)",kiss:":*",heart:"<3",kiki:"^_^",squint:"-_-",confused:"o.O",confused_rev:"O.o",upset:">:o",pacman:":v",robot:":|]",colonthree:":3",penguin:"<(\")",shark:"(^^^)",like:"(y)"},regexp:/(^|[\s'".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|:poop:|:putnam:|:P|:\-P|:\-p|:p|=P|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\||8\-\||8\||B\-\||>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:'\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|:\*|:\-\*|<3|&lt;3|\u2665|\^_\^|\-_\-|o\.O|O\.o|>:o|>:O|>:\-O|>:\-o|>_<|>\.<|:v|:\|\]|:3|<\("\)(?!\))|\(\^\^\^\)(?!\))|\(y\)(?!\))|:like:|\(Y\)(?!\)))([\s'".,!?]|<br>|$)/,noncapturingRegexp:/(?:^|[\s'".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|:poop:|:putnam:|:P|:\-P|:\-p|:p|=P|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\||8\-\||8\||B\-\||>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:'\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|:\*|:\-\*|<3|&lt;3|\u2665|\^_\^|\-_\-|o\.O|O\.o|>:o|>:O|>:\-O|>:\-o|>_<|>\.<|:v|:\|\]|:3|<\("\)(?!\))|\(\^\^\^\)(?!\))|\(y\)(?!\))|:like:|\(Y\)(?!\)))(?:[\s'".,!?]|<br>|$)/};},null);
__d("DOMEmote",["CSS","EmoticonsList","JSXDOM","TransformTextToDOMMixin","fbt","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m={MAX_ITEMS:40,match:function(n){var o=h.regexp.exec(n);if(!o||!o.length)return false;var p=o[2],q=o.index+o[1].length;return {startIndex:q,endIndex:q+p.length,element:this._element(p,h.emotes[p])};},_element:function(n,o){var p=k._("\u00e9motic\u00f4ne {emoticonName}",[k.param("emoticonName",o)]),q=i.span({className:"emoticon_text","aria-hidden":"true"},p),r=i.span({title:n,className:"emoticon"});g.addClass(r,'emoticon_'+o);return [q,r];}};e.exports=l(m,j);},null);
__d("transformTextToDOM",["createArrayFromMixed"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j){var k=[i];j=g(j);j.forEach(function(l){var m,n=l;if(l.__params){m=l.params;n=l.obj;}k=n.transform(k,m);});return k;}e.exports=h;},null);
__d("emojiAndEmote",["DOMEmoji","DOMEmote","transformTextToDOM"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=function(k){var l=[g,h];return i(k,l);};e.exports=j;},null);
__d("Emoji",["DOMEmoji","JSXDOM","emojiAndEmote","transformTextToDOM"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k={htmlEmojiAndEmote:function(l,m){return (h.span(null,i(l))).innerHTML;},htmlEmojiAndEmoteWithoutFBID:function(l,m){return (h.span(null,i(l,false))).innerHTML;},htmlEmoji:function(l){return (h.span(null,j(l,g))).innerHTML;}};e.exports=k;},null);
__d("TextWithEmoticons.react",["Emoji","Emote","React"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=i.createClass({displayName:"ReactTextWithEmoticons",render:function(){if(!this.props.renderEmoticons&&!this.props.renderEmoji)return i.createElement("span",null,this.props.text);var k;if(this.props.renderEmoticons&&this.props.renderEmoji){k=g.htmlEmojiAndEmoteWithoutFBID(this.props.text);}else if(this.props.renderEmoticons){k=h.htmlEmoteWithoutFBID(this.props.text);}else k=g.htmlEmoji(this.props.text);return i.createElement("span",{dangerouslySetInnerHTML:{__html:k}});}});e.exports=j;},null);
__d("TextWithEntities.react",["Link.react","React","BaseTextWithEntities.react","TextWithEmoticons.react"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();"use strict";function k(m){return (m).replace(/<3\b|&hearts;/g,'\u2665');}var l=h.createClass({displayName:"TextWithEntities",_renderText:function(m){if(this.props.renderEmoticons||this.props.renderEmoji){return (h.createElement(j,{text:m,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}));}else return k(m);},_renderRange:function(m,n){if(this.props.interpolator){return this.props.interpolator(m,n);}else return (h.createElement(g,{href:n.entity},m));},render:function(){return (h.createElement(i,h.__spread({},this.props,{textRenderer:this._renderText,rangeRenderer:this._renderRange,ranges:this.props.ranges,imageRanges:this.props.imageRanges,aggregatedRanges:this.props.aggregatedRanges,text:this.props.text})));}});e.exports=l;},null);
__d("UFICommentLikeCount.react",["NumberFormat","ProfileBrowserLink","ProfileBrowserTypes","React","URI","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=j,n=m.PropTypes,o=function(q,r){var s=new k('/ajax/like/tooltip.php').setQueryData({comment_fbid:q.fbid,comment_from:q.author,comment_likecount:q.likecount||0,comment_id:q.id,cache_buster:q.likeconfirmhash||0});if(r)s.addQueryData({viewas:r});return s;},p=j.createClass({displayName:"UFICommentLikeCount",propTypes:{comment:n.object.isRequired,contextArgs:n.object.isRequired},render:function(){var q=this.props.comment,r=g.formatIntegerWithDelimiter(q.likecount||0,this.props.contextArgs.numberdelimiter),s=i.LIKES,t={id:q.fbid},u=o(this.props.comment,this.props.contextArgs.viewas),v=j.createElement("i",{className:"UFICommentLikeIcon"}),w=j.createElement("span",null,r),x=(("UFICommentLikeButton")+(this.props.comment.hasviewerliked?' '+"UFICommentLikedButton":''));return (j.createElement("a",{ajaxify:h.constructDialogURI(s,t).toString(),className:x,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":u.toString(),href:h.constructPageURI(s,t).toString(),rel:"dialog",role:"button"},v,w));}});e.exports=p;},null);
__d("Timestamp.react",["LiveTimer","React","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=h,k=j.PropTypes,l=h.createClass({displayName:"Timestamp",propTypes:{autoUpdate:k.bool},getDefaultProps:function(){return {autoUpdate:false};},componentDidMount:function(){if(this.props.autoUpdate)g.addTimeStamps(h.findDOMNode(this));},componentDidUpdate:function(m,n){if(this.props.autoUpdate&&this.props.time!==m.time)g.loop();},render:function(){var m=g.renderRelativeTimeToServer(this.props.time,this.props.shorten);return (h.createElement("abbr",h.__spread({},this.props,{className:i(this.props.className,"livetimestamp"),title:this.props.verbose,"data-utime":this.props.time,"data-shorten":this.props.shorten?true:null}),m.text||this.props.text));}});e.exports=l;},null);
__d("HelpLink.react",["React","joinClasses","TooltipLink.react"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g.createClass({displayName:"HelpLink",render:function(){return (g.createElement(i,g.__spread({},this.props,{className:h(this.props.className,"uiHelpLink mls")}),(void 0)));}});e.exports=j;},null);
__d("UFICreatorInfo.react",["HelpLink.react","React","URI","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();"use strict";var l=h,m=l.PropTypes,n=h.createClass({displayName:"UFICreatorInfo",propTypes:{creatorID:m.string.isRequired,creatorType:m.string.isRequired,creatorName:m.string.isRequired,labelType:m.string.isRequired,pageID:m.string.isRequired,profileURI:m.string},render:function(){var o,p=this.getCreatorLink();switch(this.props.labelType){case 'commented':o=k._("Comment\u00e9 par {creator}",[k.param("creator",p)]);break;case 'edited_comment':o=k._("Modifi\u00e9 par {creator}",[k.param("creator",p)]);break;case 'sent_message':o=k._("Envoy\u00e9 par {creator}",[k.param("creator",p)]);break;default:return;}return (h.createElement("span",null,o,h.createElement(g,{tooltip:this.getHelpText()})));},getCreatorLink:function(){switch(this.props.creatorType){case 'application':case 'gray_account':case 'indirect_admin':return (h.createElement("a",{className:"uiLinkSubtle","aria-label":this.getTooltipText(),"data-hover":"tooltip"},this.props.creatorName));case 'business_admin':return (h.createElement("a",{className:"uiLinkSubtle",href:this.props.profileURI},this.props.creatorName));case 'direct_admin':return this.getProfileLinkWithHovercard();case 'former_admin':return (h.createElement("span",{className:"uiLinkSubtle"},h.createElement("img",{src:"/images/privacy/cant-see.png",width:9,height:9,className:"_3-8_"}),this.getProfileLinkWithHovercard()));default:return (h.createElement("span",{className:"uiLinkSubtle"},this.props.creatorName));}},getTooltipText:function(){switch(this.props.creatorType){case 'application':return this.getApplicationText();case 'gray_account':return this.getGrayAccountText();case 'indirect_admin':return this.getIndirectAdminText();}},getProfileLinkWithHovercard:function(){if(!this.props.profileURI)return h.createElement("span",null,this.props.creatorName);var o=new i('/ajax/hovercard/user.php').setQueryData({id:this.props.creatorID}).addQueryData({type:'page_admin',extragetparams:JSON.stringify({directed_target_id:this.props.pageID})});return (h.createElement("a",{className:"uiLinkSubtle","data-hovercard":o,href:this.props.profileURI},this.props.creatorName));},getApplicationText:function(){switch(this.props.labelType){case 'commented':return (k._("Ceci a \u00e9t\u00e9 comment\u00e9 par quelqu\u2019un qui utilise {application}.",[k.param("application",this.props.creatorName)]));case 'edited_comment':return (k._("Ceci a \u00e9t\u00e9 modifi\u00e9 par quelqu\u2019un qui utilise {application}.",[k.param("application",this.props.creatorName)]));case 'sent_message':return (k._("Ceci a \u00e9t\u00e9 envoy\u00e9 par quelqu\u2019un depuis {application}.",[k.param("application",this.props.creatorName)]));}},getIndirectAdminText:function(){switch(this.props.labelType){case 'commented':return (k._("Ceci a \u00e9t\u00e9 comment\u00e9 par quelqu\u2019un de {page}.",[k.param("page",this.props.creatorName)]));case 'edited_comment':return (k._("Ceci a \u00e9t\u00e9 modifi\u00e9 par quelqu\u2019un de {page}.",[k.param("page",this.props.creatorName)]));case 'sent_message':return (k._("Ceci a \u00e9t\u00e9 envoy\u00e9 par quelqu\u2019un depuis {page}.",[k.param("page",this.props.creatorName)]));}},getGrayAccountText:function(){switch(this.props.labelType){case 'commented':return (k._("Ceci a \u00e9t\u00e9 comment\u00e9 par quelqu\u2019un qui n\u2019a pas de compte personnel Facebook."));case 'edited_comment':return (k._("Ceci a \u00e9t\u00e9 modifi\u00e9 par quelqu\u2019un qui n\u2019a pas de compte personnel Facebook."));case 'sent_message':return (k._("Ceci a \u00e9t\u00e9 envoy\u00e9 par quelqu\u2019un qui ne poss\u00e8de pas de compte Facebook."));}},getHelpText:function(){switch(this.props.labelType){case 'commented':return (k._("Seuls les gestionnaires de cette Page peuvent voir qui a publi\u00e9 un commentaire"));case 'edited_comment':return (k._("Seuls les gestionnaires de cette Page peuvent voir qui a modifi\u00e9 un commentaire"));case 'sent_message':return (k._("Seuls ceux qui administrent cette Page peuvent voir qui a envoy\u00e9 un message"));}}});e.exports=n;},null);
__d("UFICommentMetadata.react",["Bootloader","React","Timestamp.react","TrackingNodes","UFIConstants","URI","UFICreatorInfo.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();"use strict";var p=h,q=p.PropTypes,r=k.UFIStatus,s=' \u00b7 ',t="UFIFailureMessageIcon",u="UFIFailureMessage",v="uiLinkSubtle",w=function(y){var z=y.status;return z===r.FAILED_ADD||z===r.FAILED_EDIT;},x=h.createClass({displayName:"UFICommentMetadata",propTypes:{comment:q.object.isRequired,onRetrySubmit:q.func,permalink:q.string,shortenTimestamp:q.bool,showPermalink:q.bool,permalinkTarget:q.string},render:function(){var y=this.props.comment,z=this.props.onRetrySubmit,aa,ba;if(w(y)){aa=[h.createElement("span",{key:"failure",className:u},h.createElement("i",{className:t}),o._("Impossible de publier ce commentaire.")),y.allowRetry&&z?[' ',h.createElement("a",{key:"rety-submit",onClick:z,href:"#",role:"button"},o._("Veuillez r\u00e9essayer"))]:null];}else{var ca=j.getTrackingInfo(j.types.SOURCE);ba=h.createElement(i,{shorten:this.props.shortenTimestamp,time:y.timestamp.time,text:y.timestamp.text,verbose:y.timestamp.verbose});if(this.props.showPermalink)ba=h.createElement("a",{key:"timestamp-message",className:v,href:this.props.permalink,"data-ft":ca,target:this.props.permalinkTarget},ba);}var da=null;if(y.originalTimestamp){var ea=new l('/ajax/edits/browser/comment').addQueryData({comment_token:y.id}).toString();da=[s,h.createElement("a",{ajaxify:ea,"aria-label":o._("Afficher l\u2019historique des modifications"),className:"uiLinkSubtle","data-hover":"tooltip",href:"#",key:"edit-link",ref:"EditLink",rel:"dialog",role:"button",title:o._("Afficher l\u2019historique des modifications")},o._("Modifi\u00e9"))];}var fa=null;if(y.creator_data)fa=[h.createElement(m,{creatorID:y.creator_data.creatorID,creatorType:y.creator_data.creatorType,creatorName:y.creator_data.creatorName,labelType:y.creator_data.labelType,pageID:y.creator_data.pageID,profileURI:y.creator_data.profileURI}),s];return (h.createElement("span",null,fa,ba,aa,da));},componentWillUpdate:function(y){var z=this.props.comment,aa=y.comment;if(!z.editnux&&!!aa.editnux)g.loadModules(["LegacyContextualDialog"],function(ba){var ca=new ba();ca.init(aa.editnux).setContext(h.findDOMNode(this.refs.EditLink)).setWidth(300).setPosition('below').show();}.bind(this));}});e.exports=x;},null);
__d("UFIReplyLink.react",["React","fbt"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g,j=i.PropTypes,k=g.createClass({displayName:"UFIReplyLink",propTypes:{onClick:j.func},render:function(){return (g.createElement("a",{className:"UFIReplyLink",href:"#",onClick:this.props.onClick},h._("R\u00e9pondre")));}});e.exports=k;},null);
__d("UFISpamCount",["UFISpamCountImpl"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b('UFISpamCountImpl').module||{enabled:false};},null);
__d("UFICommentActions.react",["React","ReactFragment","TrackingNodes","UFICommentLikeCount.react","UFICommentMetadata.react","UFIConstants","UFIPrivateReplyLink.react","UFIReplyLink.react","UFISpamCount","cx","fbt","PagesPrivateReplyConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=b('PagesPrivateReplyConstants').Status,s=g,t=s.PropTypes,u=l.UFIStatus,v=' \u00b7 ',w="fsm fwn fcg UFICommentActions",x="UFIDeletedMessageIcon",y="UFIDeletedMessage",z=g.createClass({displayName:"UFICommentActions",propTypes:{comment:t.object.isRequired,contextArgs:t.object.isRequired,feedback:t.object.isRequired,hideAsSpamForPageAdmin:t.bool,markedAsSpamHere:t.bool,onCommentLikeToggle:t.func,onCommentReply:t.func,onMarkAsNotSpam:t.func,onPreviewRemove:t.func,onRetrySubmit:t.func,permalink:t.string,shortenTimestamp:t.bool,showPermalink:t.bool,showReplyLink:t.bool,viewerCanMarkNotSpam:t.bool},render:function(){var aa=this.props,ba=aa.comment,ca=aa.permalink,da=aa.feedback,ea=aa.markedAsSpamHere,fa=ba.status===u.SPAM_DISPLAY,ga=aa.showReplyLink,ha=aa.hideAsSpamForPageAdmin,ia,ja,ka,la,ma,na,oa,pa=!ba.islocal&&ba.status!==u.LIVE_DELETED;if(pa){if(fa&&!ea){if(aa.viewerCanMarkNotSpam)ia=g.createElement("a",{onClick:aa.onMarkAsNotSpam,className:"UFICommentNotSpamLink",href:"#",role:"button"},q._("Afficher"));if(ha&&da.isthreaded&&ba.cancomment&&ga)ma=g.createElement(n,{comment:ba,onClick:aa.onCommentReply,contextArgs:aa.contextArgs});}else{if(ba.viewercanlike){var qa=i.getTrackingInfo(ba.hasviewerliked?i.types.UNLIKE_LINK:i.types.LIKE_LINK),ra=ba.hasviewerliked?q._("Je n\u2019aime plus ce commentaire"):q._("J\u2019aime ce commentaire");ja=g.createElement("a",{className:"UFILikeLink","data-ft":qa,href:"#",onClick:aa.onCommentLikeToggle,role:"button",title:ra},ba.hasviewerliked?q._("Je n\u2019aime plus"):q._("J\u2019aime"));}if((this.props.contextArgs.simplereply&&this.props.feedback.cancomment)||(da.isthreaded&&ba.cancomment&&ga))ma=g.createElement(n,{comment:ba,contextArgs:aa.contextArgs,onClick:aa.onCommentReply});if(ba.likecount>0)ka=g.createElement(j,{comment:ba,contextArgs:aa.contextArgs});if(ba.spamcount&&o.enabled)la=g.createElement(o,{count:ba.spamcount});if(ba.messagereply&&(ba.messagereply.hasReplyPermission||(ba.messagereply.status===r.ALREADY_REPLIED)))na=g.createElement(m,{activityID:ba.id,context:ba.messagereply});}if(ba.attachment&&ba.attachment.type=="share"&&ba.canremove)oa=g.createElement("a",{href:"#",onClick:aa.onPreviewRemove,role:"button"},q._("Supprimer l\u2019aper\u00e7u"));}var sa=g.createElement(k,{comment:ba,onRetrySubmit:aa.onRetrySubmit,permalink:ca,shortenTimestamp:aa.shortenTimestamp,showPermalink:aa.showPermalink}),ta;if(da.isqanda){ta={likeCount:ka,spamCount:la,likeToggle:ja,commentReply:ma,messageReply:na,spamToggle:ia,metadata:sa,removePreview:oa};}else if(aa.contextArgs.entstream){ta={metadata:sa,likeToggle:ja,likeCount:ka,commentReply:ma,messageReply:na,spamCount:la,spamToggle:ia,removePreview:oa};}else if(da.isthreaded){ta={likeToggle:ja,commentReply:ma,messageReply:na,spamToggle:ia,removePreview:oa,likeCount:ka,spamCount:la,metadata:sa};}else ta={metadata:sa,likeToggle:ja,likeCount:ka,spamCount:la,commentReply:ma,messageReply:na,spamToggle:ia,removePreview:oa};if(ba.status===u.LIVE_DELETED){var ua=g.createElement("span",{className:y},g.createElement("i",{className:x,"data-hover":"tooltip","aria-label":q._("Commentaire supprim\u00e9")}));ta.deletionWarning=ua;}var va=true,wa={};for(var xa in ta){var ya=ta[xa];if(ya){wa[xa]=va?ya:h.create({MIDDOT:v,action:ya});va=false;}}return (g.createElement("div",{className:w},h.create(wa)));}});e.exports=z;},null);
__d("StringTrims",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={trimLeft:function(h){return h.replace(/^\s+/,'');},trimRight:function(h){return h.replace(/\s+$/,'');}};e.exports=g;},null);
__d("concatMap",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i){var j=-1,k=i.length,l=[],m;while(++j<k){m=h(i[j],j,i);Array.isArray(m)?Array.prototype.push.apply(l,m):Array.prototype.push.call(l,m);}return l;}e.exports=g;},null);
__d("LitestandEllipsis",["DOM","DOMDimensions","StringTrims","concatMap","createArrayFromMixed","getElementText"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m,n={add:function(q,r,s){s=s||q;g.scry(q,'br').forEach(g.remove);var t=h.getElementDimensions(s).height;if(t<=r)return q;var u,v='...',w=p(q),x=w.length-1,y=l(w[x]);if(x===0)y=i.trimLeft(y);while(x>=0&&t>r){u=Math.max(y.lastIndexOf(' '),y.lastIndexOf('\n'));if(u===-1)u=y.length-v.length-1;if(u<=0){o(w[x],'');x--;y=l(w[x]);}else{y=i.trimRight(y.substr(0,u))+v;o(w[x],y);}t=h.getElementDimensions(s).height-1;}}};function o(q,r){m=m||(q.textContent!=null?'textContent':'innerText');q[m]=r;}function p(q){if(g.isTextNode(q))return [q];return j(p,k(q.childNodes));}e.exports=n;},null);
__d("LitestandShareAttachment",["CSS","DOM","LitestandEllipsis","csx","cx","queryThenMutateDOM"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=16,n=22,o=20,p=5,q=3,r=2,s=2,t=5,u=5,v={init:function(z){var aa,ba,ca,da=w(z);l(function(){aa=h.scry(z,"._6m6")[0];ba=h.scry(z,"._6m7")[0];ca=x(z,aa,da);},function(){if(!ca){ba&&g.hide(ba);aa&&i.add(aa,da*y(z));}else if(ba&&ca){g.show(ba);i.add(ba,ca*m);}});},getNumDescriptionLines:function(z){return x(z,h.scry(z,"._6m6")[0],w(z));},getDescriptionLineHeight:function(){return m;}};function w(z){var aa=g.hasClass(z,"_59ap"),ba=g.hasClass(z,"_pb2"),ca=h.scry(z,"^div._4rtc").length>0,da;if(ba){da=s;}else if(ca){da=r;}else if(aa){da=q;}else da=p;return da;}function x(z,aa,ba){var ca=h.scry(z,"._6m3")[0];if(!aa||!ca)return 0;var da=h.scry(z,"._59tj")[0],ea=g.hasClass(z,"_59ap"),fa=g.hasClass(z,"_pb2"),ga=Math.round(aa.scrollHeight/y(z));if(ga>ba&&!fa)return 0;var ha=ca.offsetHeight-t-aa.offsetHeight-(da?da.offsetHeight:0)-(ea?0:u)+1;return Math.floor(Math.max(ha,0)/m);}function y(z){return g.hasClass(z,"_pb2")?o:n;}e.exports=v;},null);
__d("UFICommentAttachment.react",["DOM","HTML","LitestandShareAttachment","React","Sticker.react"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=j,m=l.PropTypes,n=80,o=j.createClass({displayName:"UFICommentAttachment",propTypes:{comment:m.object.isRequired},_attachmentFromCommentData:function(p){return p.photo_comment||p.attachment;},_getScaledDimensions:function(p,q){var r,s,t;if(q>p){t=n/q;r=p*t;s=q*t;}else{t=n/p;r=p*t;s=q*t;}return {height:Math.round(r),width:Math.round(s)};},componentDidMount:function(){var p=this._attachmentFromCommentData(this.props.comment);if(p)this.renderAttachment(p);},shouldComponentUpdate:function(p,q){var r=this._attachmentFromCommentData(this.props.comment),s=this._attachmentFromCommentData(p.comment);if(!r&&!s)return false;if(!r||!s||r.markup!=s.markup){return true;}else return false;},componentDidUpdate:function(p){var q=this._attachmentFromCommentData(this.props.comment);if(q.type!=='sticker')this.renderAttachment(q);},renderAttachment:function(p){if(p&&this.refs&&this.refs.contents&&p.markup){var q=p.markup;if(h.isHTML(q.markup))q=h.replaceJSONWrapper(q.markup).getRootNode();var r=q.parentNode,s=j.findDOMNode(this.refs.contents);if(r&&r!==s)q=q.cloneNode(true);g.setContent(s,q);if(p.type=="share")i.init(s);}},renderSticker:function(p){var q=this._getScaledDimensions(p.metadata.height,p.metadata.width),r=null,s=null;if(window.devicePixelRatio&&window.devicePixelRatio>1&&p.metadata.source_uri_2x){r=p.metadata.sprite_uri_2x;s=p.metadata.source_uri_2x;}else{r=p.metadata.sprite_uri;s=p.metadata.source_uri;}return (j.createElement(k,{animationTrigger:"load_and_hover",frameCount:p.metadata.frameCount,frameRate:p.metadata.frameRate,framesPerCol:p.metadata.framesPerCol,framesPerRow:p.metadata.framesPerRow,spriteURI:r,sourceHeight:q.height,sourceURI:s,sourceWidth:q.width}));},render:function(){var p=this._attachmentFromCommentData(this.props.comment);if(p)if(p&&p.type==='sticker'){return this.renderSticker(p);}else return j.createElement("div",{ref:"contents"});return j.createElement("span",null);}});e.exports=o;},null);
__d("UFIActor.react",["Badge.react","Focus","HovercardLink","Locale","React","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=k,n=m.PropTypes,o=k.createClass({displayName:"UFIActor",propTypes:{author:n.object.isRequired,'data-ft':n.string,focusOnMount:n.bool,showHovercard:n.bool,isAuthorWeakReference:n.bool,groupOrEventID:n.number,useFirstName:n.bool,delimiter:n.string},getDefaultProps:function(){return {delimiter:" \u00b7 "};},componentDidMount:function(){if(this.props.focusOnMount)h.setWithoutOutline(k.findDOMNode(this.refs.authorName));},render:function(){var p=this.props.author,q=j.isRTL()?'rtl':'ltr',r=((this.props.isAuthorWeakReference?"weakReference":'')+(' '+"UFICommentActorName")),s=[];if(this.props.isAuthorWeakReference)s.push(k.createElement("i",{className:"UFIWeakReferenceIcon",key:"icon"}));if(this.props.useFirstName){s.push(p.firstName);}else s.push(p.name);var t=p.uri?k.createElement("a",k.__spread({},this.props,{className:r,"data-hovercard":this.props.showHovercard?i.constructEndpointWithGroupAndLocation(p,this.props.groupOrEventID,'ufi',this.props.isAuthorWeakReference).toString():null,"data-ft":this.props['data-ft'],dir:q,href:p.uri,ref:"authorName"}),s):k.createElement("span",{className:r,dir:q,ref:"authorName"},s);return (k.createElement("span",null,t,k.Children.map(this.props.children,function(u){return u?[u.type===g?'':this.props.delimiter,u]:null;}.bind(this))));}});e.exports=o;},null);
__d("UFISocialContext.react",["HovercardLink","ProfileBrowserLink","ProfileBrowserTypes","React","URI","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=j,n=m.PropTypes,o=27,p=j.createClass({displayName:"UFISocialContext",propTypes:{commentAuthor:n.object.isRequired,otherMutualCount:n.number.isRequired,topMutualFriend:n.object.isRequired},render:function(){var q=this.props.topMutualFriend,r=this.props.otherMutualCount,s=this.props.commentAuthor,t=g.constructEndpoint(q).toString(),u=j.createElement("a",{href:q.uri,"data-hovercard":t,key:"top"},q.name),v=s.name.length+q.name.length,w;if(r===0){w=l._("Amis avec {name}",[l.param("name",u)]);}else if(v<o){var x;if(r==1){x=l._("1 autre personne");}else x=l._({"*":"{count} autres personnes"},[l.param("count",r,[0])]);w=l._("Ami(e) avec {name} et {others}",[l.param("name",u),l.param("others",this.getOthersLink(x,s,q))]);}else{var y=l._({"*":"{count} amis en commun"},[l.param("count",r+1,[0])]);w=this.getOthersLink(y,s);}return (j.createElement("span",{className:"UFICommentSocialContext"},w));},getOthersLink:function(q,r,s){var t=i.MUTUAL_FRIENDS,u={uid:r.id},v=new k('/ajax/mutual_friends/tooltip.php').setQueryData({friend_id:r.id});if(s)v.addQueryData({exclude_id:s.id});var w=h.constructDialogURI(t,u).toString();return (j.createElement("a",{ajaxify:w,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":v.toString(),href:h.constructPageURI(t,u).toString(),key:"others",rel:"dialog"},q));}});e.exports=p;},null);
__d("UFICommentAuthorName.react",["Badge.react","React","TrackingNodes","UFIActor.react","UFISocialContext.react"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();"use strict";var l=h,m=l.PropTypes,n=h.createClass({displayName:"UFICommentAuthorName",propTypes:{author:m.object.isRequired,authorProfiles:m.object.isRequired,showHovercard:m.bool,isAuthorWeakReference:m.bool,focusOnMount:m.bool,groupOrEventID:m.number,isFeatured:m.bool,socialContext:m.object,useFirstName:m.bool},render:function(){var o=this.props,p=o.author,q=i.getTrackingInfo(i.types.USER_NAME);return (h.createElement(j,{author:p,showHovercard:o.showHovercard,key:"author",focusOnMount:o.focusOnMount,"data-ft":q,isAuthorWeakReference:o.isAuthorWeakReference,groupOrEventID:o.groupOrEventID,useFirstName:o.useFirstName},o.isFeatured?h.createElement(g,{key:"badge",size:"xsmall",type:"verified"}):null,o.socialContext?h.createElement(k,{topMutualFriend:o.authorProfiles[o.socialContext.topmutualid],otherMutualCount:o.socialContext.othermutualcount,commentAuthor:p}):null));}});e.exports=n;},null);
__d("SeeMore.react",["React","cx","fbt"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g.createClass({displayName:"SeeMore",getInitialState:function(){return {isCollapsed:true};},handleClick:function(){this.setState({isCollapsed:false});},render:function(){var k=this.state.isCollapsed,l=k?g.createElement("span",{className:"_5uzb"},i._("...")):null,m=this.props.children[0],n=k?null:g.createElement("span",null,this.props.children[1]),o=!k?null:g.createElement("a",{className:"_5v47 fss",onClick:this.handleClick,href:"#",role:"button"},i._("Voir plus"));return (g.createElement("span",{className:this.props.className},m,l,o,n));}});e.exports=j;},null);
__d("findSplitPointForText",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i,j){var k=null,l=h.split('\n');if(i&&h.length>i)k=i;if(j&&l.length>j){var m=l.slice(0,j).join('\n').length;if(k!==null){k=Math.min(m,k);}else k=m;}return k;}e.exports=g;},null);
__d("partitionTextAndRanges",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(j,k){var l=j.offset+j.length;return k>j.offset&&k<l;}function h(j,k){for(var l=0;l<j.length;l++){var m=j[l];if(g(m,k))return m.offset;}return k;}var i=function(j,k,l){var m=[],n=[],o=h(k,l);for(var p=0;p<k.length;p++){var q=k[p];if(q.offset<o){m.push(q);}else n.push({offset:q.offset-o,length:q.length,entity:q.entity});}return {before:{ranges:m,text:j.substr(0,o)},after:{ranges:n,text:j.substr(o)}};};e.exports=i;},null);
__d("TruncatedTextWithEntities.react",["React","TextWithEntities.react","SeeMore.react","findSplitPointForText","partitionTextAndRanges"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g.createClass({displayName:"TruncatedTextWithEntities",render:function(){var m=this.props.text||'',n=this.props.ranges||[];m=m.replace(/\s*$/,'');var o=this.props.maxLines,p=this.props.maxLength;if(p&&m.length>p){var q=this.props.truncationPercent||.6;p=Math.floor(q*p);}var r=j(m,p,o);if(r!==null){while(m[r-1]==='\n')r--;var s=k(m,n,r);return (g.createElement("span",{"data-ft":this.props['data-ft'],dir:this.props.dir},g.createElement(i,{className:this.props.className},g.createElement(h,{interpolator:this.props.interpolator,ranges:s.before.ranges,aggregatedRanges:this.props.aggregatedRanges,text:s.before.text,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}),g.createElement(h,{interpolator:this.props.interpolator,ranges:s.after.ranges,aggregatedRanges:this.props.aggregatedRanges,text:s.after.text,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}))));}else return (g.createElement("span",{"data-ft":this.props['data-ft'],dir:this.props.dir},g.createElement(h,{className:this.props.className,interpolator:this.props.interpolator,ranges:n,imageRanges:this.props.imageRanges,aggregatedRanges:this.props.aggregatedRanges,text:m,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji})));}});e.exports=l;},null);
__d("isRTL",["UnicodeBidi","UnicodeBidiDirection"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){return g.getDirection(j)===h.RTL;}e.exports=i;},null);
__d("HovercardLinkInterpolator",["HovercardLink","Link.react","React","URI","WWWBase","cx","fbt","isRTL"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();function o(p,q,r,s,t){var u=q.entity,v=r||(u.external?'_blank':null),w,x=((!u.external?"profileLink":'')+(u.weakreference?' '+"weakReference":'')),y,z=u.hashtag?p.substring(1):p;y=n(z)?'rtl':'ltr';if(u.hashtag){var aa=new j(u.url).setDomain(new j(k.uri).getDomain());w=i.createElement("a",{className:"_58cn",dir:y,href:aa.toString(),target:v},i.createElement("span",{"aria-label":m._("hashtag"),className:"_58cl"},p.substring(0,1)),i.createElement("span",{className:"_58cm"},p.substring(1)));}else if(u.weakreference){w=i.createElement(h,{className:x,dir:y,href:u,target:v},i.createElement("i",{className:"UFIWeakReferenceIcon"}),p);}else w=i.createElement(h,{className:x,dir:y,href:u,target:v},p);if(!u.external&&!u.hashtag&&!u.photo)w.props['data-hovercard']=g.constructEndpointWithGroupAndLocation(u,s,t).toString();return w;}e.exports=o;},null);
__d("URITruncator",["URI","fbt"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=3;function j(k,l){var m=h._("..."),n=m.length;if(!k||l===(void 0)||k.length<=l||l<=n||k.toString().length<=n)return k;if(!g.isValidURI(k))return k.substring(0,l-n)+m;var o=new g(k),p=o.getOrigin();if(p.length>l-n)return p.substring(0,l-n)+m;var q=false;if(!!o.getFragment()){q=true;o.setFragment('');if(o.toString().length<=l-n)return o.toString()+m;}var r=o.getQueryData();if(r){var s=Object.keys(r);if(s.length>0){q=true;for(var t=s.length-1;t>=0;t--){o.removeQueryData(s[t]);if(o.toString().length<=l-n)return o.toString()+m;}}}var u=o.getPath()+(q?m:''),v=u.split('/'),w=(p.length+u.length)-l,x=0;while(w>0&&v.length>x+1){var y=x+1,z=v[y];if(w+n+i<=z.length){var aa=z.length-1,ba=z.length-w-n,ca=/[a-zA-Z0-9]/;w+=n;while(w>0){while(aa>0&&ca.test(z[aa])){aa--;w--;}while(aa>0&&!ca.test(z[aa])){aa--;w--;}}if(aa===0)aa=ba-1;v[y]=z.substring(0,aa+1)+m;}else{x++;w-=z.length;if(x===1){w+=n;}else w--;}}if(x>0){if(v[v.length-1].length===0&&v.length===x+2)x++;v.splice(1,x,m);}var da=p+v.join('/');if(da.length>l)da=da.substring(0,l-n)+m;return da;}e.exports=j;},null);
__d("transformTextRanges",["UnicodeUtils"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=function(i,j,k){if(!i||!j||!k)return i;j.sort(function(r,s){return r.offset-s.offset;});var l=0;for(var m=0;m<j.length;m++){j[m].offset+=l;var n=g.substr(i,j[m].offset,j[m].length),o=g.strlen(n),p=k(n,j[m]),q=g.strlen(p);if(n!==p){i=g.substr(i,0,j[m].offset)+p+g.substr(i,j[m].offset+j[m].length);j[m].length=q;l+=q-o;}}return i;};e.exports=h;},null);
__d("UFICommentUtils.react",["HovercardLinkInterpolator","UFIConstants","URITruncator","copyProperties","transformTextRanges"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();"use strict";var l={getCommentTextWithTruncatedURIs:function(m,n){if(h.commentURLTruncationLength)if(m&&m.length>0)n=k(n,m,function(o,p){return p.entity.external?i(o,h.commentURLTruncationLength):o;});return n;},getCommentBodyInterpolator:function(m){return function(n,o){return g(n,o,'_blank',m,'ufi');};},shallowCopyRanges:function(m){if(!m)return m;var n=[];m.forEach(function(o){n.push(j({},o));});return n;}};e.exports=l;},null);
__d("UFICommentBody.react",["Locale","React","TrackingNodes","TruncatedTextWithEntities.react","UnicodeBidi","UFICommentUtils.react","UFIConfig","UFIConstants","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();"use strict";var p=h,q=p.PropTypes,r=h.createClass({displayName:"UFICommentBody",propTypes:{commentText:q.string.isRequired,commentRanges:q.array,groupOrEventID:q.number,useWhitespacesRender:q.bool,maxLength:q.number,maxLines:q.number,socialContext:q.object},render:function(){var s=this.props,t=s.commentText,u=i.getTrackingInfo(i.types.USER_MESSAGE),v=k.isDirectionLTR(t),w=!v,x=v&&g.isRTL()?'ltr':w&&!g.isRTL()?'rtl':null,y=l.getCommentBodyInterpolator(s.groupOrEventID),z=h.createElement(j,{key:"comment-body",className:(("UFICommentBody")+(this.props.useWhitespacesRender?' '+"UFICommentBodyPreserveWhitespace":'')),interpolator:y,ranges:s.commentRanges,text:t,truncationPercent:n.commentTruncationPercent,maxLength:s.maxLength,maxLines:s.maxLines,renderEmoticons:m.renderEmoticons,renderEmoji:m.renderEmoji,"data-ft":u,dir:x});if(s.socialContext){z=h.createElement("div",{key:"body"},z);}else{var aa=((v&&g.isRTL()?"_5wjy":'')+(v&&g.isRTL()?' '+"_5wjz":'')+(w&&!g.isRTL()?' '+"_5wj-":'')+(w&&!g.isRTL()?' '+"_5wj_":''));z=aa?h.createElement("div",{key:"body",className:aa},z):[' ',z];}return h.createElement("span",null,z);}});e.exports=r;},null);
__d("XUIEditButton.react",["XUIAbstractGlyphButton.react","React","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=h.createClass({displayName:"XUIEditButton",render:function(){var m=this.props.label,n=this.props.title;if(!this.props.title&&!this.props.tooltip){if(!m)m=j._("Modifier");n=m;}return (h.createElement(g,h.__spread({},this.props,{label:m,title:n,"aria-label":this.props.tooltip,"data-hover":this.props.tooltip&&'tooltip',"data-tooltip-alignh":this.props.tooltip&&'center',className:k(this.props.className,"_5upq _5upr")})));}});e.exports=l;},null);
__d("UFICommentMenu.react",["Bootloader","React","XUICloseButton.react","XUIEditButton.react","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();"use strict";var l=h,m=l.PropTypes,n,o,p,q,r=k({EDIT:true,CLOSE:true}),s=h.createClass({displayName:"UFICommentMenu",propTypes:{menuData:m.array,menuType:m.oneOf(Object.keys(r)).isRequired,onAction:m.func,onClick:m.func},getInitialState:function(){return {bootloading:false,bootloaded:false,needsExpand:false};},onClickGuard:function(event){if(this.state.bootloading){return;}else if(!this.state.bootloaded&&this.props.menuData){this.setState({bootloading:true});g.loadModules(["ContextualDialogArrow","PopoverMenu.react","ReactXUIMenu"],function(t,u,v){n=t,o=u;p=v;q=p.Item;this.setState({bootloading:false,bootloaded:true,needsExpand:true});}.bind(this));}else if(this.props.onClick)this.props.onClick(event);},shouldComponentUpdate:function(t,u,v){if(this.state.needsExpand&&!u.needsExpand)return false;return true;},render:function(){var t=null;if(this.props.menuType===r.EDIT){t=j;}else t=i;if(this.props.menuData&&this.state.bootloaded){var u=this.props.menuData.map(function(w){return (h.createElement(q,{value:w.value},w.label));}),v=h.createElement(p,{onItemClick:this.props.onAction},u);return (h.createElement(o,h.__spread({},this.props,{alignh:"right",layerBehaviors:[n],menu:v,ref:"menu"}),h.createElement(t,{href:"#",onClick:this.onClickGuard})));}return h.createElement(t,h.__spread({},this.props,{href:"#",onClick:this.onClickGuard}));},componentDidUpdate:function(){if(this.state.needsExpand){this.refs.menu.showPopover();this.setState({needsExpand:false});}}});s.MenuType=r;e.exports=s;},null);
__d("UFIComment.react",["Bootloader","HovercardLink","React","TrackingNodes","TextWithEntities.react","UFIClassNames","UFICommentActions.react","UFICommentAttachment.react","UFICommentAuthorName.react","UFICommentBody.react","UFICommentMenu.react","UFICommentUtils.react","UFIConfig","UFIConstants","UFIImageBlock.react","UFITranslationConstants","URI","XUICloseButton.react","cx","joinClasses","keyMirror","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){b.__markCompiled&&b.__markCompiled();'use strict';var ca=i,da=ca.PropTypes,ea=t.UFIStatus,fa=aa({edit:true,hide:true,remove:true}),ga="UFITranslateLink",ha="UFITranslatedText",ia="UFITranslationErrorText",ja="UFITranslateAttribution",ka="fcg",la=null,ma=function(pa){var qa=pa.status;return qa===ea.FAILED_ADD||qa===ea.FAILED_EDIT;};function na(pa){return pa.commenterIsFOF!==undefined&&pa.userIsMinor!==undefined&&pa.reportLink!==undefined;}var oa=i.createClass({displayName:"UFIComment",propTypes:{authorProfiles:da.object.isRequired,comment:da.object.isRequired,contextArgs:da.object.isRequired,feedback:da.object.isRequired,'data-ft':da.string,focusOnMount:da.bool,hasPartialBorder:da.bool,hideAsSpamForPageAdmin:da.bool,isFeatured:da.bool,isFirst:da.bool,isFirstCommentComponent:da.bool,isFirstComponent:da.bool,isLast:da.bool,isLastCommentComponent:da.bool,isLastComponent:da.bool,isLocallyComposed:da.bool,isReply:da.bool,onBlingBoxClick:da.func,onCommentLikeToggle:da.func,onCommentReply:da.func,onCommentTranslate:da.func,onEdit:da.func,onHideAsSpam:da.func,onInlineBan:da.func,onMarkAsNotSpam:da.func,onPreviewRemove:da.func,onRemove:da.func,onRetrySubmit:da.func,onUndoInlineBan:da.func,permalink:da.string,shortenTimestamp:da.bool,showPermalink:da.bool,showRemoveReportMenu:da.bool,showReplyLink:da.bool,viewerIsAuthor:da.bool},getInitialState:function(){return {isHighlighting:this.props.comment.highlightcomment,wasHighlighted:this.props.comment.highlightcomment,markedAsSpamHere:false,isInlinePageDeleted:false,isInlineBanned:false};},_onHideAsSpam:function(event){this.props.onHideAsSpam(event);this.setState({markedAsSpamHere:true});},_onMarkAsNotSpam:function(event){this.props.onMarkAsNotSpam(event);this.setState({markedAsSpamHere:false});},_onDeleteSpam:function(event){this.props.onRemove(event,this);},_onInlineBan:function(event){this.props.onInlineBan(event);this.setState({isInlineBanned:true});},_onUndoInlineBan:function(event){this.props.onUndoInlineBan(event);this.setState({isInlineBanned:false});},_onAction:function(event,pa){var qa=pa.item,ra=qa.getValue();setTimeout(function(){if(ra===fa.remove){this.props.onRemove(event);}else if(ra===fa.edit){this.props.onEdit(event);}else if(ra===fa.hide)this._onHideAsSpam(event);}.bind(this),0);},_createRemoveReportMenuData:function(){return [{value:fa.remove,label:ba._("Supprimer le commentaire...")},{value:fa.hide,label:ba._("Masquer le commentaire")}];},_createEditDeleteMenuData:function(){return [{value:fa.edit,label:ba._("Modifier...")},{value:fa.remove,label:ba._("Supprimer...")}];},_renderCloseButton:function(){var pa=this.props.comment,qa=this.props.feedback,ra=null,sa=null,ta=null,ua=false;if(pa.canremove&&!this.props.hideAsSpamForPageAdmin){if(this.props.viewerIsAuthor){if(pa.canedit){ta=ba._("Modifier ou supprimer");sa=this._createEditDeleteMenuData();ua=true;}else{ta=ba._("Supprimer");ra=this.props.onRemove;}}else if(qa.canremoveall)if(this.props.showRemoveReportMenu){ta=ba._("Supprimer ou signaler");sa=this._createRemoveReportMenuData();}else{ta=ba._("Supprimer");ra=this.props.onRemove;}}else if(pa.canreport){ta=ba._("Masquer");ra=this._onHideAsSpam;}var va=(("UFICommentCloseButton")+(ra===null&&sa===null?' '+"hdn":'')),wa=null,xa=null;if(this.props.contextArgs.viewas){wa="/ajax/profile/link_disabled_in_viewas.php";xa="dialog";ra=null;}var ya=ua?q.MenuType.EDIT:q.MenuType.CLOSE;return (i.createElement(q,{ajaxify:wa,className:va,onClick:ra,rel:xa,tooltip:ta,menuData:sa,menuType:ya,onAction:this._onAction}));},_renderFakeCloseButton:function(){return (i.createElement(x,{className:"UFICommentCloseButtonFake",tabIndex:"-1"}));},componentDidMount:function(){if(this.state.isHighlighting){var pa=i.findDOMNode(this),qa=parseInt(this.props.comment.scrolltopoffset||0,10);g.loadModules(["UFIScrollHighlight"],function(ra){setTimeout(ra.actOn.bind(null,pa,qa),0);});this.setState({isHighlighting:false});}},shouldComponentUpdate:function(pa,qa){var ra=this.props,sa=this.state;return (pa.comment!==ra.comment||pa.showReplyLink!==ra.showReplyLink||pa.isFirst!==ra.isFirst||pa.isLast!==ra.isLast||pa.isFirstCommentComponent!==ra.isFirstCommentComponent||pa.isLastCommentComponent!==ra.isLastCommentComponent||pa.isFirstComponent!==ra.isFirstComponent||pa.isLastComponent!==ra.isLastComponent||pa.isFeatured!==ra.isFeatured||pa.hasPartialBorder!==ra.hasPartialBorder||qa.wasHighlighted!==sa.wasHighlighted||qa.isHighlighting!==sa.isHighlighting||qa.markedAsSpamHere!==sa.markedAsSpamHere||qa.isInlinePageDeleted!==sa.isInlinePageDeleted||qa.isInlineBanned!==sa.isInlineBanned);},render:function(){var pa=this.props.comment,qa=this.props.feedback,ra=pa.status===ea.DELETED,sa=pa.status===ea.LIVE_DELETED,ta=pa.status===ea.SPAM_DISPLAY,ua=this.state.markedAsSpamHere,va=this.state.isInlinePageDeleted,wa=this.props.hideAsSpamForPageAdmin,xa=this.state.isInlineBanned,ya=na(pa),za=!pa.status&&(pa.isunseen||pa.islocal);if(!pa.status&&qa.lastseentime){var ab=pa.originalTimestamp||pa.timestamp.time;za=za||ab>qa.lastseentime;}var bb=this.props.contextArgs.markedcomments;if(bb&&bb[pa.legacyid])za=true;var cb=((this.props.isFirst?"UFIFirstComment":'')+(this.props.isLast?' '+"UFILastComment":'')+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''));if(ya)if(la){var db,eb=null,fb=null,gb=null;if(wa){fb=xa?this._onUndoInlineBan:this._onInlineBan;if(va){db=ba._("You've deleted this comment so no one can see it.");}else if(ua){db=ba._("Ce contenu est d\u00e9sormais visible de son auteur et ses amis.");gb=this._onDeleteSpam;eb=this._onMarkAsNotSpam;}}else if(ua){db=ba._("Ce commentaire a \u00e9t\u00e9 masqu\u00e9.");gb=this._onDeleteSpam;eb=this._onMarkAsNotSpam;}if(db)return (i.createElement("li",{className:z(l.ROW,cb,"UFIHide")},i.createElement(la,{notice:db,comment:this.props.comment,authorProfiles:this.props.authorProfiles,onUndo:eb,onBanAction:fb,onDeleteAction:gb,isInlineBanned:xa,isInlinePageDeleted:va,hideAsSpamForPageAdmin:wa,pageID:this.props.feedback.ownerid})));}else g.loadModules(["UFICommentRemovalControls.react"],function(kb){la=kb;setTimeout(function(){this.forceUpdate();}.bind(this));}.bind(this));var hb=!ra,ib=z(l.ROW,cb,(("UFIComment")+(ma(pa)?' '+"UFICommentFailed":'')+(ra||sa||ta?' '+"UFITranslucentComment":'')+(this.state.isHighlighting?' '+"highlightComment":'')+(!hb?' '+"noDisplay":'')+(hb?' '+"display":'')+(' '+"UFIComponent")+(this.props.hasPartialBorder?' '+"UFIPartialBorder":''))),jb=this.renderComment();if(za)ib=z(ib,l.UNSEEN_ITEM);return (i.createElement("li",{className:ib,"data-ft":this.props['data-ft']},jb));},renderComment:function(){var pa=this.props,qa=pa.comment,ra=qa.body.text,sa=r.shallowCopyRanges(qa.body.ranges),ta=pa.permalink,ua=pa.feedback,va=pa.authorProfiles[qa.author],wa=qa.status===ea.SPAM_DISPLAY,xa=qa.status===ea.LIVE_DELETED,ya=!(wa||xa),za=ua.canremoveall||qa.hiddenbyviewer;ra=r.getCommentTextWithTruncatedURIs(sa,ra);var ab=null,bb=null;if(!pa.isLocallyComposed&&!this.state.wasHighlighted){bb=t.commentTruncationLength;ab=t.commentTruncationMaxLines;}var cb=j.getTrackingInfo(j.types.SMALL_ACTOR_PHOTO),db=j.getTrackingInfo(j.types.USER_MESSAGE),eb=null,fb=null,gb=null,hb=null;if(qa.istranslatable&&(qa.translatedbody===undefined))eb=i.createElement("a",{href:"#",role:"button",title:ba._("Traduire ce commentaire"),className:ga,onClick:pa.onCommentTranslate},ba._("Voir la traduction"));if(qa.translatedbody!==undefined)if(qa.translatedbody!==null&&qa.translatedbody.text!==''){var ib=v.BING_PAGE_URL,jb=v.BING_TRANSLATOR_APP,kb=null;if(qa.translatorapp===jb){var lb=new w(ib).addQueryData({text:ra});kb=i.createElement("a",{href:lb.toString(),target:"_blank",className:ka},ba._("Traduction fournie par Bing"));}else kb=ba._("Traduit automatiquement");hb=i.createElement("span",{className:ja},kb);var mb=r.shallowCopyRanges(qa.translatedbody.ranges),nb=qa.translatedbody.text,ob=qa.translatedbody.dir,pb=i.createElement("span",{key:"comment-body","data-ft":db,dir:ob},i.createElement(k,{className:(("UFICommentBody")+(this.props.contextArgs.useWhitespacesRender?' '+"UFICommentBodyPreserveWhitespace":'')),interpolator:r.getCommentBodyInterpolator(pa.feedback.grouporeventid),ranges:mb,text:nb,renderEmoticons:s.renderEmoticons,renderEmoji:s.renderEmoji}));fb=i.createElement("span",{className:ha},pb);}else gb=i.createElement("span",{className:ia},ba._("Aucune traduction disponible"));var qb=i.createElement(p,{socialContext:qa.socialcontext,commentText:ra,commentRanges:sa,groupOrEventID:ua.grouporeventid,useWhitespacesRender:this.props.contextArgs.useWhitespacesRender,maxLength:bb,maxLines:ab}),rb=pa.contextArgs.viewas?null:h.constructEndpointWithGroupAndLocation(va,ua.grouporeventid,'ufi',qa.isauthorweakreference).toString(),sb=i.createElement(o,{author:va,authorProfiles:pa.authorProfiles,showHovercard:!!rb,isAuthorWeakReference:qa.isauthorweakreference,focusOnMount:pa.focusOnMount,groupOrEventID:ua.grouporeventid,isFeatured:pa.isFeatured,socialContext:qa.socialcontext}),tb=null;if(qa.photo_comment_status)tb=i.createElement("div",{className:"_50f8"},qa.photo_comment_status);var ub=null;if(qa.sticker_attachment_status)ub=i.createElement("div",{className:"_50f8"},qa.sticker_attachment_status);var vb=null;if(qa.status!==ea.DELETED)vb=i.createElement(n,{comment:pa.comment});return (i.createElement(u,{spacing:"medium"},i.createElement("a",{href:va.uri,"data-hovercard":rb,"data-ft":cb},i.createElement("img",{src:va.thumbSrc,className:l.ACTOR_IMAGE,alt:""})),i.createElement("div",{className:"UFICommentContentBlock"},i.createElement("div",{className:"UFICommentContent"},sb,qb,eb,fb,hb,gb,vb),tb,ub,i.createElement(m,{comment:qa,feedback:ua,onBlingBoxClick:pa.onBlingBoxClick,onCommentLikeToggle:pa.onCommentLikeToggle,onCommentReply:pa.onCommentReply,onPreviewRemove:pa.onPreviewRemove,onRetrySubmit:pa.onRetrySubmit,onMarkAsNotSpam:this._onMarkAsNotSpam,permalink:ta,viewerCanMarkNotSpam:za,shortenTimestamp:pa.shortenTimestamp,showPermalink:pa.showPermalink,showReplyLink:pa.showReplyLink,contextArgs:pa.contextArgs,markedAsSpamHere:this.state.markedAsSpamHere,hideAsSpamForPageAdmin:pa.hideAsSpamForPageAdmin}),ya?this._renderCloseButton():null),ya?this._renderFakeCloseButton():null));}});e.exports=oa;},null);
__d("UFIContainer.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g.createClass({displayName:"UFIContainer",render:function(){var j=null;if(this.props.hasNub)j=g.createElement("li",{className:"UFIArrow"},g.createElement("i",null));var k=((!this.props.isReplyList?"UFIList":'')+(this.props.isReplyList?' '+"UFIReplyList":'')+(this.props.isParentLiveDeleted?' '+"UFITranslucentReplyList":'')+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''));return (g.createElement("ul",{className:k},j,this.props.children));}});e.exports=i;},null);
__d("UFILikeSentenceText.react",["ActorURI","HovercardLinkInterpolator","ProfileBrowserLink","ProfileBrowserTypes","React","TextWithEntities.react","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=k,o=n.PropTypes;function p(r,s,t,u){if(u.count!=null){var v=j.LIKES,w={id:r.targetfbid,actorid:r.actorid},x=[],y;for(var z=0;z<s.length;z++)if(!s[z].count){y=s[z];var aa=y.entity;x.push(aa.id);}var ba=new m('/ajax/like/tooltip.php').setQueryData({comment_fbid:r.targetfbid,comment_from:r.actorforpost,seen_user_fbids:x.length?x:true});ba=g.create(ba,r.actorforpost);return (k.createElement("a",{rel:"dialog",ajaxify:i.constructDialogURI(v,w).toString(),href:i.constructPageURI(v,w).toString(),"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":ba.toString(),role:"button"},t));}else return h(t,u,null,null,'ufi');}var q=k.createClass({displayName:"UFILikeSentenceText",propTypes:{contextArgs:o.object.isRequired,feedback:o.object.isRequired,likeSentenceData:o.object.isRequired},render:function(){var r=this.props.feedback,s=this.props.likeSentenceData,t;t=p;t=t.bind(null,r,s.ranges);return (k.createElement(l,{interpolator:t,ranges:s.ranges,aggregatedRanges:s.aggregatedranges,text:s.text}));}});e.exports=q;},null);
__d("UFILikeSentence.react",["Bootloader","LeftRight.react","ProfileBrowserLink","ProfileBrowserTypes","React","UFIClassNames","UFIImageBlock.react","UFILikeSentenceText.react","URI","cx","joinClasses","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=k,t=s.PropTypes,u=k.createClass({displayName:"UFILikeSentence",propTypes:{contextArgs:t.object.isRequired,feedback:t.object.isRequired,isFirstComponent:t.bool,isLastComponent:t.bool,onOrderingModeChange:t.func,onTargetLikeToggle:t.func,orderingMode:t.string,showOrderingModeSelector:t.bool},getInitialState:function(){return {selectorModule:null,bootloadedSelectorModule:false};},componentWillMount:function(){this._bootloadSelectorModule(this.props);},componentWillReceiveProps:function(v){this._bootloadSelectorModule(v);},_bootloadSelectorModule:function(v){if(v.showOrderingModeSelector&&!this.state.bootloadedSelectorModule){var w=function(x){this.setState({selectorModule:x});}.bind(this);if(v.contextArgs.entstream){g.loadModules(["UFIEntStreamOrderingModeSelector.react"],w);}else g.loadModules(["UFIOrderingModeSelector.react"],w);this.setState({bootloadedSelectorModule:true});}},render:function(){var v=this.props.feedback,w=v.likesentences.current,x=this.props.contextArgs.entstream,y=q(l.ROW,v.likesentences.isunseen?l.UNSEEN_ITEM:'',(("UFILikeSentence")+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),z=null,aa=null;if(w.text)aa=k.createElement("div",{className:"UFILikeSentenceText"},k.createElement(n,{contextArgs:this.props.contextArgs,feedback:v,likeSentenceData:w}));var ba=this.props.contextArgs.ufiexperiments||{};if(aa&&!x&&!ba.showRevisedUFI){z=k.createElement("i",{className:"UFILikeIcon"});if(v.viewercanlike&&!v.hasviewerliked)z=k.createElement("a",{className:"UFILikeThumb",href:"#",tabIndex:"-1",title:r._("Aimer \u00e7a"),onClick:this.props.onTargetLikeToggle,role:"button","aria-label":r._("Aimer \u00e7a")},z);}var ca=aa,da=null;if(v.seencount>0&&!x){var ea=j.GROUP_MESSAGE_VIEWERS,fa={id:v.targetfbid},ga=i.constructDialogURI(ea,fa),ha=i.constructPageURI(ea,fa),ia=new o('/ajax/ufi/seen_tooltip.php').setQueryData({ft_ent_identifier:v.entidentifier,displayed_count:v.seencount}),ja;if(v.seenbyall){ja=r._("Vu par tout le monde");}else ja=v.seencount==1?r._("Vu par une personne"):r._("Vu par {count} personnes",[r.param("count",v.seencount)]);da=k.createElement("a",{rel:"dialog",ajaxify:ga.toString(),href:ha.toString(),"data-hover":"tooltip","data-tooltip-alignh":"left","data-tooltip-uri":ia.toString(),className:(("UFISeenCount")+(!!w.text?' '+"UFISeenCountRight":''))},k.createElement("span",{className:"UFISeenCountIcon"}),ja);}else if(this.props.showOrderingModeSelector&&this.state.selectorModule){var ka=this.state.selectorModule;da=k.createElement(ka,{currentOrderingMode:this.props.orderingMode,entstream:x,orderingmodes:v.orderingmodes,onOrderChanged:this.props.onOrderingModeChange});if(!ca)ca=k.createElement("div",null);}var la=null;if(z&&aa){la=k.createElement(m,null,z,aa,da);}else if(ca){la=k.createElement(h,{direction:h.DIRECTION.right},ca,da);}else la=da;return (k.createElement("li",{className:y},la));}});e.exports=u;},null);
__d("UFIPager.react",["LeftRight.react","React","UFIClassNames","UFIImageBlock.react","XUISpinner.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=h,o=n.PropTypes,p=h.createClass({displayName:"UFIPager",propTypes:{contextArgs:o.object.isRequired,pagerLabel:o.string.isRequired,'data-ft':o.string,countSentence:o.string,isFirstCommentComponent:o.bool,isFirstComponent:o.bool,isLastCommentComponent:o.bool,isLastComponent:o.bool,isLoading:o.bool,isUnseen:o.bool,onPagerClick:o.func},onPagerClick:function(q){!this.props.isLoading&&this.props.onPagerClick&&this.props.onPagerClick();q.nativeEvent.prevent();},render:function(){var q=this.onPagerClick,r=m(i.ROW,this.props.isUnseen?i.UNSEEN_ITEM:'',(("UFIPagerRow")+(' '+"UFIComponent")+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),s=null;if(this.props.isLoading)s=h.createElement(k,{className:"mls",background:"light",size:"small"});var t=h.createElement("a",{className:"UFIPagerLink",onClick:q,href:"#",role:"button"},this.props.pagerLabel,s),u=(("fcg")+(' '+"UFIPagerCount")),v=h.createElement("span",{className:u},this.props.countSentence),w,x=this.props.contextArgs.ufiexperiments||{};if(this.props.contextArgs.entstream||x.showRevisedUFI){w=(h.createElement(g,{direction:g.DIRECTION.right},t,v));}else w=(h.createElement(j,null,h.createElement("a",{className:"UFIPagerIcon",onClick:q,href:"#",role:"button"}),t,v));return (h.createElement("li",{className:r,"data-ft":this.props['data-ft']},w));}});e.exports=p;},null);
__d("UFIPagerLabel",["fbt","intlList","NumberFormat"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={VIEW_ONE:'view_one',VIEW_ONE_MORE:'view_one_more',VIEW_ALL:'view_all',VIEW_MORE_EXPLICIT:'view_more_explicit',VIEW_MORE:'view_more',VIEW_PREVIOUS:'view_previous',_getReplyLabel:function(k,l){var m;switch(k){case j.VIEW_ONE:return g._("Afficher 1 r\u00e9ponse");case j.VIEW_ONE_MORE:return g._("Afficher une autre r\u00e9ponse");case j.VIEW_ALL:m=i.formatIntegerWithDelimiter(l.count,l.delimiter);return g._({"*":"Voir les {count} r\u00e9ponses"},[g.param("count",m,[0,l.count])]);case j.VIEW_MORE_EXPLICIT:m=i.formatIntegerWithDelimiter(l.count,l.delimiter);return g._({"*":"Afficher {count} autres r\u00e9ponses"},[g.param("count",m,[0,l.count])]);case j.VIEW_MORE:return g._("Voir plus de r\u00e9ponses");case j.VIEW_PREVIOUS:return g._("Voir les r\u00e9ponses pr\u00e9c\u00e9dentes");default:return null;}},_getCommentLabel:function(k,l){if(l.commenters)return this._getCommentLabelWithCommentSentence(k,l);var m;switch(k){case j.VIEW_ONE:return g._("Voir 1 commentaire");case j.VIEW_ONE_MORE:return g._("Afficher 1 autre commentaire");case j.VIEW_ALL:m=i.formatIntegerWithDelimiter(l.count,l.delimiter);return g._({"*":"Afficher les {count} commentaires"},[g.param("count",m,[0,l.count])]);case j.VIEW_MORE_EXPLICIT:m=i.formatIntegerWithDelimiter(l.count,l.delimiter);return g._({"*":"Afficher {count} autres commentaires"},[g.param("count",m,[0,l.count])]);case j.VIEW_MORE:return g._("Afficher plus de commentaires");case j.VIEW_PREVIOUS:return g._("Voir les commentaires pr\u00e9c\u00e9dents");default:return null;}},_getCommentLabelWithCommentSentence:function(k,l){var m=h(l.commenters),n=l.othersCount,o=i.formatIntegerWithDelimiter(n,l.delimiter),p=i.formatIntegerWithDelimiter(l.count,l.delimiter);switch(k){case j.VIEW_ONE:return g._("Afficher un commentaire de {names}",[g.param("names",m)]);case j.VIEW_ONE_MORE:return g._("Afficher un autre commentaire de {names}",[g.param("names",m)]);case j.VIEW_ALL:switch(n){case 0:return g._({"*":"Afficher les {count} commentaires de {names}"},[g.param("count",p,[0,l.count]),g.param("names",m)]);case 1:return g._({"*":"Afficher les {count} commentaires de {names} et une autre personne"},[g.param("count",p,[0,l.count]),g.param("names",m)]);default:return g._({"*":{"*":"Afficher les {count} commentaires de {names} et {othersCount} autres personnes"}},[g.param("count",p,[0,l.count]),g.param("names",m),g.param("othersCount",o,[0,n])]);}break;case j.VIEW_MORE_EXPLICIT:case j.VIEW_MORE:switch(n){case 0:return g._("Afficher plus de commentaires de {names}",[g.param("names",m)]);case 1:return g._("Afficher plus de commentaires de {names} et une autre personne",[g.param("names",m)]);default:return g._({"*":"Afficher plus de commentaires de {names} et {othersCount} autres personnes"},[g.param("names",m),g.param("othersCount",o,[0,n])]);}break;case j.VIEW_PREVIOUS:switch(n){case 0:return g._("Afficher les commentaires pr\u00e9c\u00e9dents de {names}",[g.param("names",m)]);case 1:return g._("Afficher les commentaires pr\u00e9c\u00e9dents de {names} et une autre personne",[g.param("names",m)]);default:return g._({"*":"Afficher les commentaires pr\u00e9c\u00e9dents de {names} et {othersCount} autres personnes"},[g.param("names",m),g.param("othersCount",o,[0,n])]);}break;default:return null;}},_getQuestionLabel:function(k,l){var m;switch(k){case j.VIEW_ONE:return g._("Afficher une question");case j.VIEW_ONE_MORE:return g._("Afficher une autre question");case j.VIEW_ALL:m=i.formatIntegerWithDelimiter(l.count,l.delimiter);return g._({"*":"Afficher les {count} questions"},[g.param("count",m,[0,l.count])]);case j.VIEW_MORE_EXPLICIT:m=i.formatIntegerWithDelimiter(l.count,l.delimiter);return g._({"*":"Afficher {count} questions suppl\u00e9mentaires"},[g.param("count",m,[0,l.count])]);case j.VIEW_MORE:return g._("Afficher plus de questions");case j.VIEW_PREVIOUS:return g._("Afficher les questions pr\u00e9c\u00e9dentes");default:return null;}},getLabel:function(k,l,m,n){if(l){return j._getReplyLabel(k,n);}else if(m){return j._getQuestionLabel(k,n);}else return j._getCommentLabel(k,n);}};e.exports=j;},null);
__d("UFIReplySocialSentence.react",["Badge.react","LiveTimer","React","Timestamp.react","UFIClassNames","UFIConstants","UFIImageBlock.react","cx","joinClasses","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q=i,r=q.PropTypes,s=' \u00b7 ',t=43200,u=i.createClass({displayName:"UFIReplySocialSentence",propTypes:{author:r.object,'data-ft':r.string,isExpanded:r.bool,isFirstComponent:r.bool,isLastComponent:r.bool,isLoading:r.bool,onClick:r.func,orderingMode:r.string,replies:r.number,shortenTimestamp:r.bool,showVerified:r.bool,timestamp:r.object},render:function(){var v=((this.props.isLoading?"UFIReplySocialSentenceLoading":'')),w=o(k.ROW,(("UFIReplySocialSentenceRow")+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),x,y;if(this.props.isExpanded){x=this.props.replies>1?p._({"*":"Masquer {count} r\u00e9ponses"},[p.param("count",this.props.replies,[0])]):p._("Masquer une r\u00e9ponse");}else{x=this.props.replies>1?p._({"*":"{count} r\u00e9ponses"},[p.param("count",this.props.replies,[0])]):p._("1 r\u00e9ponse");if(this.props.timestamp){var z=h.getApproximateServerTime()/1000-this.props.timestamp.time;if(z<t||this.props.orderingMode==l.UFICommentOrderingMode.RECENT_ACTIVITY)y=i.createElement("span",{className:"fcg"},s,i.createElement(j,{shorten:this.props.shortenTimestamp,time:this.props.timestamp.time,text:this.props.timestamp.text,verbose:this.props.timestamp.verbose}));}}var aa=this.props.author,ba=aa&&!this.props.isExpanded,ca=null,da;if(ba){ca=i.createElement("img",{alt:"",src:aa.thumbSrc,className:k.ACTOR_IMAGE});var ea=null;if(this.props.showVerified)ea=i.createElement(g,{size:"xsmall",type:"verified"});da=[p._("{author}{verified_badge} a r\u00e9pondu",[p.param("author",aa.name),p.param("verified_badge",ea)]),s,x];}else da=x;var fa=null,ga=false;if(!ba||this.props.contextArgs.feedcarded){if(ba)ga=true;fa=i.createElement("i",{className:((!this.props.isExpanded?"UFIPagerIcon":'')+(this.props.isExpanded?' '+"UFICollapseIcon":'')+(ga?' '+"UFIFeedCardedIconWithActor":''))});}return (i.createElement("li",{className:w,"data-ft":this.props['data-ft']},i.createElement("a",{className:"UFICommentLink",onClick:this.props.onClick,href:"#",role:"button"},i.createElement(m,null,i.createElement("div",{className:((ba?"UFIReplyActorPhotoWrapper":'')+(ga?' '+"UFIFeedCardedReplyActor":''))},fa,ca),i.createElement("span",{className:v},i.createElement("span",{className:(("UFIReplySocialSentenceLinkText")+(this.props.showVerified?' '+"UFIReplySocialSentenceVerified":''))},da),y)))));}});e.exports=u;},null);
__d("UFIShareRow.react",["NumberFormat","React","UFIClassNames","UFIImageBlock.react","URI","cx","joinClasses","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=h,p=o.PropTypes,q=h.createClass({displayName:"UFIShareRow",propTypes:{contextArgs:p.object.isRequired,shareCount:p.number.isRequired,targetID:p.any.isRequired,isFirstComponent:p.bool,isLastComponent:p.bool},render:function(){var r=new k('/ajax/shares/view').setQueryData({target_fbid:this.props.targetID}),s=new k('/shares/view').setSubdomain('www').setQueryData({id:this.props.targetID}),t;if(this.props.shareCount>1){var u=g.formatIntegerWithDelimiter(this.props.shareCount,this.props.contextArgs.numberdelimiter||',');t=n._({"*":"{count} partages","268435456":"{count} partage"},[n.param("count",u,[0,this.props.shareCount])]);}else t=n._("1 partage");var v=m(i.ROW,(("UFIShareRow")+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),w=h.createElement("a",{className:"UFIShareLink",rel:"dialog",ajaxify:r.toString(),href:s.toString()},t),x=h.createElement(j,null,h.createElement("a",{className:"UFIShareIcon",rel:"dialog",ajaxify:r.toString(),href:s.toString()}),w),y=this.props.contextArgs.ufiexperiments||{};return (h.createElement("li",{className:v},y.showRevisedUFI?w:x));}});e.exports=q;},null);
__d("UFISpamPlaceholder.react",["React","UFIClassNames","XUISpinner.react","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m=g.createClass({displayName:"UFISpamPlaceholder",propTypes:{numHidden:l.number.isRequired,isLoading:l.bool,onClick:l.func},render:function(){if(this.props.isLoading)return (g.createElement("li",{className:h.ROW},g.createElement("span",{className:"UFISpamCommentWrapper"},g.createElement(i,{className:"mls",background:"light",size:"small"}))));return (g.createElement("li",{className:h.ROW},g.createElement("a",{href:"#",role:"button",className:"UFISpamCommentLink",onClick:this.props.onClick,"aria-label":j._("Afficher les commentaires marqu\u00e9s comme ind\u00e9sirables")},g.createElement("span",{"data-hover":"tooltip","data-tooltip-alignh":"center","aria-label":j._({"*":"{count} cach\u00e9s","268435456":"{count} cach\u00e9"},[j.param("count",this.props.numHidden,[0])]),className:"UFISpamCommentWrapper"},g.createElement("i",{className:"placeholderIcon"})))));}});e.exports=m;},null);
__d("DateConsts",["fbt"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=1000,i=60,j=60,k=24,l=7,m=365.242,n=12,o=i*j,p=o*k,q=p*m,r=h*p,s=h*p*l,t=h*p*m,u={SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6};Object.freeze(u);var v=g._("Jour\u00a0:"),w=g._("Mois\u00a0:"),x=g._("Ann\u00e9e\u00a0:"),y=g._("jj"),z=g._("mm"),aa=g._("yyyy"),ba=[g._("dim"),g._("lun"),g._("mar"),g._("mer"),g._("jeu"),g._("ven"),g._("sam")],ca=[g._("Dimanche"),g._("Lundi"),g._("Mardi"),g._("Mercredi"),g._("Jeudi"),g._("Vendredi"),g._("Samedi")],da=[g._("jan"),g._("f\u00e9v"),g._("mar"),g._("avr"),g._("mai"),g._("jun"),g._("juil"),g._("ao\u00fb"),g._("sep"),g._("oct"),g._("nov"),g._("d\u00e9c")],ea=[g._("janvier"),g._("f\u00e9vrier"),g._("mars"),g._("avril"),g._("mai"),g._("juin"),g._("juillet"),g._("ao\u00fbt"),g._("septembre"),g._("octobre"),g._("novembre"),g._("d\u00e9cembre")],fa=['',g._("er"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French"),g._("No suffix used in French")],ga={getWeekdayName:function(ha){return ca[ha];},getWeekdayNameShort:function(ha){return ba[ha];},getMonthName:function(ha){return ea[ha-1];},getMonthNameShort:function(ha){return da[ha-1];},getOrdinalSuffix:function(ha){return fa[ha];},getDaysInMonth:function(ha,ia){return (new Date(ha,ia,0)).getDate();},getCurrentTimeInSeconds:function(){return Date.now()/h;},DAYS_PER_YEAR:m,DAYS_PER_WEEK:l,HOUR_PER_DAY:k,MIN_PER_HOUR:j,MONTHS_PER_YEAR:n,MS_PER_SEC:h,MS_PER_DAY:r,MS_PER_WEEK:s,MS_PER_YEAR:t,SEC_PER_MIN:i,SEC_PER_HOUR:o,SEC_PER_DAY:p,SEC_PER_YEAR:q,DAY_LABEL:v,MONTH_LABEL:w,YEAR_LABEL:x,DATE_PLACEHOLDER:y,MONTH_PLACEHOLDER:z,YEAR_PLACEHOLDER:aa,DAYS:u};e.exports=ga;},null);
__d("formatDate",["DateConsts","DateFormatConfig","fbt","invariant"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();function k(o,p,q){q=q||{};if(!p||!o)return '';if(typeof o==='string')o=parseInt(o,10);if(typeof o==='number')o=new Date(o*1000);j(o instanceof Date);j(!isNaN(o.getTime()));j(o.getTime()<1e+15);if(typeof p!=='string'){var r=m();for(var s in r){var t=r[s];if(t.start<=o.getTime()&&p[t.name]){p=p[t.name];break;}}}var u;if(q.skipPatternLocalization||(!q.formatInternal&&n())||p.length===1){u=p;}else{j(h.formats[p]);u=h.formats[p];}var v=q.utc?'getUTC':'get',w=o[v+'Date'](),x=o[v+'Day'](),y=o[v+'Month'](),z=o[v+'FullYear'](),aa=o[v+'Hours'](),ba=o[v+'Minutes'](),ca=o[v+'Seconds'](),da=o[v+'Milliseconds'](),ea='';for(var fa=0;fa<u.length;fa++){var ga=u.charAt(fa);switch(ga){case '\\':fa++;ea+=u.charAt(fa);break;case 'd':ea+=l(w,2);break;case 'j':ea+=w;break;case 'S':ea+=g.getOrdinalSuffix(w);break;case 'D':ea+=g.getWeekdayNameShort(x);break;case 'l':ea+=g.getWeekdayName(x);break;case 'F':case 'f':ea+=g.getMonthName(y+1);break;case 'M':ea+=g.getMonthNameShort(y+1);break;case 'm':ea+=l(y+1,2);break;case 'n':ea+=y+1;break;case 'Y':ea+=z;break;case 'y':ea+=(''+z).slice(2);break;case 'a':if(aa<12){ea+=i._("am");}else ea+=i._("pm");break;case 'A':if(aa<12){ea+=i._("AM");}else ea+=i._("PM");break;case 'g':ea+=(aa===0||aa===12)?12:aa%12;break;case 'G':ea+=aa;break;case 'h':if(aa===0||aa===12){ea+=12;}else ea+=l(aa%12,2);break;case 'H':ea+=l(aa,2);break;case 'i':ea+=l(ba,2);break;case 's':ea+=l(ca,2);break;case 'X':ea+=l(da,3);break;default:ea+=ga;}}return ea;}function l(o,p){return Array(p-(''+o).length+1).join('0')+o;}function m(){var o=new Date(),p=o.getTime(),q=o.getFullYear(),r=o.getDate()-((o.getDay()-h.weekStart+6)%7),s=new Date(q,o.getMonth()+1,0).getDate(),t=new Date(q,1,29).getMonth()===1?366:365,u=1000*60*60*24;return [{name:'today',start:o.setHours(0,0,0,0)},{name:'withinDay',start:p-u},{name:'thisWeek',start:new Date(o.getTime()).setDate(r)},{name:'withinWeek',start:p-u*7},{name:'thisMonth',start:o.setDate(1)},{name:'withinMonth',start:p-u*s},{name:'thisYear',start:o.setMonth(0)},{name:'withinYear',start:p-u*t},{name:'older',start:-Infinity}];}k.periodNames=['today','thisWeek','thisMonth','thisYear','withinDay','withinWeek','withinMonth','withinYear','older'];function n(){if(typeof window==='undefined'||!window||!window.location||!window.location.pathname)return false;var o=window.location.pathname,p='/intern';return o.substr(0,p.length)===p;}e.exports=k;},null);
__d("Date.react",["React","formatDate"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.PropTypes,k=g.createClass({displayName:"ReactDate",getDefaultProps:function(){return {options:{}};},propTypes:{date:j.oneOfType([j.number,j.instanceOf(Date)]).isRequired,format:j.oneOfType([j.object,j.string]).isRequired,options:j.object},render:function(){return (g.createElement("span",null,h(this.props.date,this.props.format,this.props.options)));}});e.exports=k;},null);
__d("UFITopicConversationComment.react",["HovercardLink","React","TrackingNodes","UFIConstants","UFICommentAttachment.react","UFICommentAuthorName.react","UFICommentBody.react","UFICommentUtils.react","UFIImageBlock.react","Date.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();"use strict";var s=h,t=s.PropTypes,u=j.UFIStatus,v=function(x){return x.status===u.FAILED_ADD;},w=h.createClass({displayName:"UFITopicConversationComment",propTypes:{authorProfiles:t.object.isRequired,comment:t.object.isRequired,contextArgs:t.object.isRequired,feedback:t.object.isRequired,focusOnMount:t.bool,isFirst:t.bool,isLast:t.bool,isLocallyComposed:t.bool,viewerIsAuthor:t.bool},shouldComponentUpdate:function(x,y){var z=this.props;return (x.comment!==z.comment||x.isFirst!==z.isFirst||x.isLast!==z.isLast);},render:function(){var x=this.props.comment,y=r(((v(x)?"UFICommentFailed":'')+(' '+"_3lw8"))),z=this.renderComment();return (h.createElement("li",{className:y},z));},renderComment:function(){var x=this.props,y=x.feedback,z=x.comment,aa=z.body.text,ba=n.shallowCopyRanges(z.body.ranges),ca=x.authorProfiles[z.author];aa=n.getCommentTextWithTruncatedURIs(ba,aa);var da=i.getTrackingInfo(i.types.SMALL_ACTOR_PHOTO),ea=h.createElement(m,{socialContext:z.socialcontext,commentText:aa,commentRanges:ba,groupOrEventID:y.grouporeventid,useWhitespacesRender:this.props.contextArgs.useWhitespacesRender,maxLength:1000,maxLines:10}),fa=x.contextArgs.viewas?null:g.constructEndpointWithGroupAndLocation(ca,y.grouporeventid,'ufi',z.isauthorweakreference).toString(),ga=h.createElement(l,{author:ca,authorProfiles:x.authorProfiles,showHovercard:!!fa,isAuthorWeakReference:z.isauthorweakreference,focusOnMount:x.focusOnMount,groupOrEventID:y.grouporeventid,isFeatured:x.isFeatured,socialContext:z.socialcontext,useFirstName:ca.type==='friend'}),ha=null;if(z.photo_comment_status)ha=h.createElement("div",{className:"_50f8"},z.photo_comment_status);var ia=null;if(z.sticker_attachment_status)ia=h.createElement("div",{className:"_50f8"},z.sticker_attachment_status);return (h.createElement(o,{spacing:"medium"},h.createElement("a",{href:ca.uri,"data-hovercard":fa,"data-ft":da},h.createElement("img",{src:ca.thumbSrc,className:"_3mnu",alt:""})),h.createElement("div",{className:"UFICommentContentBlock"},h.createElement("div",{className:"UFICommentContent"},h.createElement("div",null,ga),h.createElement("span",null,h.createElement("span",null,h.createElement("div",{className:"_50q4"},ea),h.createElement(k,{comment:x.comment})))),ia,h.createElement("div",{className:"_3lw9"},h.createElement(p,{date:new Date(z.timestamp.time*1000),format:{today:'g:ia',thisYear:'m\/d',older:'m\/d\/y'}})))));}});e.exports=w;},null);
__d("UFI.react",["CommentPrelude","DOMScroll","Event","LogHistory","NumberFormat","React","ReactFragment","ScrollableArea.react","ScrollAwareDOM","SearchableEntry","ShareDialog.react","ShareDialogController","ShareNowController","TrackingNodes","UFIAddCommentController","UFIAddCommentLink.react","UFIComment.react","UFIConstants","UFIContainer.react","UFIInstanceState","UFILikeSentence.react","UFIPager.react","UFIPagerLabel","UFIReplySocialSentence.react","UFIShareRow.react","UFISpamPlaceholder.react","UFITopicConversationComment.react","URI","Vector","copyProperties","getUnboundedScrollPosition","isEmpty","focusWithinLayer","throttle","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa){b.__markCompiled&&b.__markCompiled();"use strict";var pa={TOP:'top',BOTTOM:'bottom',ALL:'all'},qa=l.createClass({displayName:"UFI",getInitialState:function(){return {repliesExpandedMap:{},loadingSpamIDs:{},isActiveLoading:{},commentIDToFocusOnMount:null,replyComposerIDToFocusOnMount:null,hasPagedToplevel:false};},getDefaultProps:function(){return {inlineShare:{}};},componentDidMount:function(){this.suppressScrolls=0;this.scrollSubscription=o.subscribe('scroll',function(){if(this.suppressScrolls>0){this.suppressScrolls--;return false;}return true;}.bind(this));if(this.props.feedback.isqanda&&this.props.feedback.infinitescroll){var ra=na(this.loadMoreComments,20);this._scrollEventListener=i.listen(window,'scroll',ra);this._resizeEventListener=i.listen(window,'resize',ra);}},componentWillUnmount:function(){if(this.scrollSubscription){o.unsubscribe(this.scrollSubscription);this.scrollSubscription=null;}if(this._scrollEventListener)this._scrollEventListener.remove();if(this._resizeEventListener)this._resizeEventListener.remove();},componentWillReceiveProps:function(ra){var sa=ja({},this.state.isActiveLoading),ta;for(ta in this.state.isActiveLoading){var ua=this.props.ranges[this.props.id],va=ra.ranges[this.props.id];if(ua.getOffset()!=va.getOffset()||ua.getLength()!=va.getLength()){var wa=(va.getOffset()<ua.getOffset())?0:ua.getLength();if(wa<ra.availableComments.length)this.setState({commentIDToFocusOnMount:ra.availableComments[wa].id});}delete sa[ta];}this.setState({isActiveLoading:sa});},componentDidUpdate:function(ra,sa,ta){if(this.props.inlineShare.toggling){var ua=!ra.inlineShare.active&&!this.props.inlineShare.active;g.click(l.findDOMNode(this),ua);var va=this.props.inlineShare.active;if(va)ma(l.findDOMNode(this.refs.inlineShare));z.updateStateField(this.props.instanceid,'inlineShare','toggling',false);}var wa=this.state.replyComposerIDToFocusOnMount;if(this.refs&&wa in this.refs){this.refs[wa].focus();this.setState({replyComposerIDToFocusOnMount:null});}},componentWillUpdate:function(ra,sa,ta){var ua,va;for(ua in this.state.isActiveLoading){va=this.state.isActiveLoading[ua];if(va!==pa.TOP)this.suppressScrolls++;}},render:function(){var ra=this.props,sa=ra.feedback,ta=ra.contextArgs,ua=ra.source!=x.UFIFeedbackSourceType.ADS,va=!ra.hideOrderingModeSelector&&sa.orderingmodes&&ra.commentCounts[ra.id]>=x.minCommentsForOrderingModeSelector,wa=(!la(sa.likesentences.current)||(sa.seencount>0&&!ta.entstream)||va)&&ta.search!==true&&ua,xa=null;if(wa)xa=l.createElement(aa,{contextArgs:ta,feedback:sa,onTargetLikeToggle:ra.onTargetLikeToggle,onOrderingModeChange:ra.onOrderingModeChange,orderingMode:ra.orderingMode,showOrderingModeSelector:va});var ya=ra.availableComments&&ra.availableComments.length&&ua,za=null;if(ya)za=this.renderCommentMap(ra.availableComments,ra.ranges[ra.id].getOffset());var ab=null,bb=sa.cancomment,cb=bb&&ta.showaddcomment&&sa.actorforpost&&ra.canAddCommentMap[ra.id];if(cb){ta.orderingmodes=sa.orderingmodes;var db=new u(null,ra.id,null,ta),eb=ra.authorProfiles[sa.actorforpost];ab=db.renderAddComment(eb,sa.ownerid,sa.mentionsdatasource,sa.showsendonentertip,'toplevelcomposer',null,sa.subtitle,sa.allowphotoattachments,sa.allowstickerattachments,sa.isqanda);}var fb=null,gb=ta.showshares&&sa.sharecount&&ua;if(gb&&!ta.entstream)fb=l.createElement(ea,{targetID:sa.targetfbid,shareCount:sa.sharecount,contextArgs:ta});var hb=wa||gb||ya||bb,ib=this.renderPagers(ra.id,ra.ranges[ra.id].getOffset(),ra.ranges[ra.id].getLength());this.applyToUFIComponents([ib.topPager],za,[ib.bottomPager],{isFirstCommentComponent:true},{isLastCommentComponent:true});var jb=sa.isranked?ab:null,kb=sa.isranked?null:ab,lb=null;if(cb&&sa.isranked&&this.state.hasPagedToplevel)lb=l.createElement(v,{onClick:this.onComment,isQAndA:sa.isqanda});this.applyToUFIComponents([xa,fb,jb,ib.topPager],za,[ib.bottomPager,kb,lb],{isFirstComponent:true},{isLastComponent:true});var mb=[ib.topPager,za&&m.create(za),ib.bottomPager];if(ta.scrollcomments&&ta.scrollwidth)mb=l.createElement("li",null,l.createElement(n,{width:ta.scrollwidth},l.createElement("ul",null,mb)));if(this.props.inlineShare.active){return (l.createElement(y,{hasNub:false},l.createElement(q,l.__spread({},this.props.inlineShare.props,{onPost:function(nb){r.onPost(nb,this._beforePostInlineShare,this._onInlineShareSuccess,this._onInlineShareError);}.bind(this),ref:"inlineShare",renderInline:true,status:this.props.inlineShare.status}))));}else return (l.createElement(y,{hasNub:ta.shownub&&hb},xa,fb,jb,mb,kb,lb));},applyToUFIComponents:function(ra,sa,ta,ua,va){var wa=Object.keys(sa||{}).map(function(ya){return sa[ya];}).filter(function(ya){return (ya&&ya.props.comment&&this._shouldRenderComment(ya.props.comment));}.bind(this)),xa=[].concat(ra,wa,ta);this._applyToFirstComponent(xa,ua);xa.reverse();this._applyToFirstComponent(xa,va);},_shouldRenderComment:function(ra){return ra.status!==x.UFIStatus.DELETED;},_applyToFirstComponent:function(ra,sa){for(var ta=0;ta<(ra||[]).length;ta++)if(ra[ta]){ja(ra[ta].props,sa);return;}},renderCommentMap:function(ra,sa){var ta=this.props,ua={},va=ra.length;if(!va)return ua;var wa=ra[0].parentcommentid,xa=[],ya=function(){if(xa.length>0){var kb=function(lb,mb){this.state.loadingSpamIDs[lb[0]]=true;this.forceUpdate();ta.onSpamFetch(lb,mb);}.bind(this,xa,wa);ua['spam'+xa[0]]=l.createElement(fa,{onClick:kb,numHidden:xa.length,isLoading:!!this.state.loadingSpamIDs[xa[0]]});xa=[];}}.bind(this),za=ta.instanceid,ab=z.getKeyForInstance(za,'editcommentid'),bb=!!ra[0].parentcommentid;for(var cb=0;cb<va;cb++)if(ra[cb].status==x.UFIStatus.SPAM){xa.push(ra[cb].id);}else{ya();var db=Math.max(ta.loggingOffset-cb-sa,0),eb=ra[cb],fb;if(eb.id==ab){fb=this.renderEditCommentBox(eb);}else{var gb=cb===0,hb=cb===va-1,ib=!bb,jb=bb&&!gb;fb=this.renderComment(eb,db,gb,hb,ib,jb);}ua['comment'+eb.id]=fb;if(eb.status!==x.UFIStatus.DELETED)ua['replies'+eb.id]=this.renderReplyContainer(eb);}ya();return ua;},renderReplyContainer:function(ra){var sa=this.props,ta=sa.commentCounts[ra.id],ua=this.state.repliesExpandedMap[ra.id],va=!ua&&ra.interestingReplyId,wa,xa;if(ua||ra.interestingReplyId){wa=sa.repliesMap[ra.id];xa=sa.ranges[ra.id].getOffset();if(va){var ya=wa.filter(function(qb){return qb.id===ra.interestingReplyId;});if(ya.length!==1){j.getInstance('ufi').error('comment '+ra.id+' claims to have an interesting reply, '+'but there is not exactly 1 comment with that id in the reply '+'list.');wa=null;}else{wa=ya;xa=ra.interestingReplyOffset;}}}var za,ab,bb;if(wa){var cb=sa.ranges[ra.id].getOffset(),db=sa.ranges[ra.id].getLength();if(va){cb=xa;db=1;}var eb=this.renderPagers(ra.id,cb,db);za=eb.topPager;ab=eb.bottomPager;bb=this.renderCommentMap(wa,xa);}var fb=Math.max(ta-ra.spamreplycount,0),gb;if(fb&&((ua&&fb>this.props.replySocialSentenceMaxReplies)||(!ua&&!wa))){var hb=ua&&(this.isLoadingPrev(ra.id)||this.isLoadingNext(ra.id)),ib=null;if(ra.replyauthors&&ra.replyauthors.length)ib=sa.authorProfiles[ra.replyauthors[0]];gb=l.createElement(da,{contextArgs:sa.contextArgs,author:ib,replies:fb,shortenTimestamp:sa.shortenTimestamp,timestamp:ra.recentreplytimestamp,onClick:this.onToggleReplies.bind(this,ra.id),isLoading:hb,isExpanded:ua,showVerified:this.props.feedback.showfeaturedreplies,orderingMode:this.props.orderingMode});}var jb;if(ua)if(ra.cancomment&&sa.canAddCommentMap[ra.id]){var kb=false,lb=Object.keys(bb);for(var mb=lb.length-1;mb>=0;mb--){var nb=lb[mb];if(nb&&bb[nb]){kb=bb[nb].props.isAuthorReply;break;}}jb=this.renderReplyComposer(ra,!kb);}var ob;if(gb||za||bb||ab||jb){this.applyToUFIComponents([gb,za],bb,[ab,jb],{isFirstComponent:true},{isLastComponent:true});var pb=ra.status===x.UFIStatus.LIVE_DELETED;ob=l.createElement(y,{isParentLiveDeleted:pb,isReplyList:true},gb,za,bb&&m.create(bb),ab,jb);}return ob;},renderReplyComposer:function(ra,sa){var ta=this.props;return (new u(null,ta.id,ra.id,ta.contextArgs)).renderAddComment(ta.authorProfiles[ta.feedback.actorforpost],ta.feedback.ownerid,ta.feedback.mentionsdatasource,false,'replycomposer-'+ra.id,sa,ta.feedback.subtitle,ta.feedback.allowphotoattachments,ta.feedback.allowstickerattachments,ta.feedback.isqanda);},renderEditCommentBox:function(ra){var sa=new u(null,this.props.id,null,{mentionsinput:this.props.contextArgs.mentionsinput}),ta=sa.renderEditComment(this.props.authorProfiles[this.props.feedback.actorforpost],this.props.feedback.ownerid,ra.id,this.props.feedback.mentionsdatasource,this.props.onEditAttempt.bind(null,ra),this.props.onCancelEdit,this.props.feedback.allowphotoattachments,this.props.feedback.allowstickerattachments,this.props.feedback.isqanda);return ta;},renderComment:function(ra,sa,ta,ua,va,wa){var xa=this.props,ya=xa.feedback,za=ya.actorforpost===ra.author,ab=z.getKeyForInstance(this.props.instanceid,'locallycomposed'),bb=ra.islocal||ab&&ab[ra.id],cb=ya.showremovemenu||(ya.viewerid===ra.author),db=ya.canremoveall&&ya.isownerpage&&!za,eb=xa.source!=x.UFIFeedbackSourceType.INTERN,fb=t.getTrackingInfo(t.types.COMMENT,sa),gb=!!ra.parentcommentid,hb=!!ra.isfeatured;switch(this.props.source){case x.UFIFeedbackSourceType.TOPIC_CONVERSATION:return (l.createElement(ga,{isFirst:ta,isLast:ua,comment:ra,authorProfiles:this.props.authorProfiles,viewerIsAuthor:za,feedback:ya,contextArgs:this.props.contextArgs,focusOnMount:ra.id===this.state.commentIDToFocusOnMount,isLocallyComposed:bb}));default:var ib=ha(xa.commentPermalinks[ra.id]).addQueryData({comment_tracking:fb}).toString();return (l.createElement(w,{isFirst:ta,isLast:ua,showReplyLink:va,hasPartialBorder:wa,comment:ra,authorProfiles:this.props.authorProfiles,viewerIsAuthor:za,feedback:ya,"data-ft":fb,contextArgs:this.props.contextArgs,hideAsSpamForPageAdmin:db,isLocallyComposed:bb,isReply:gb,isFeatured:hb,permalink:ib,shortenTimestamp:xa.shortenTimestamp,showPermalink:eb,showRemoveReportMenu:cb,focusOnMount:ra.id===this.state.commentIDToFocusOnMount,onCommentLikeToggle:xa.onCommentLikeToggle.bind(null,ra),onCommentReply:this.onCommentReply.bind(this,ra),onCommentTranslate:xa.onCommentTranslate.bind(null,ra),onEdit:xa.onCommentEdit.bind(null,ra),onHideAsSpam:xa.onCommentHideAsSpam.bind(null,ra),onInlineBan:xa.onCommentInlineBan.bind(null,ra),onMarkAsNotSpam:xa.onCommentMarkAsNotSpam.bind(null,ra),onPreviewRemove:xa.onPreviewRemove.bind(null,ra),onRemove:xa.onCommentRemove.bind(null,ra),onRetrySubmit:xa.onRetrySubmit.bind(null,ra),onUndoInlineBan:xa.onCommentUndoInlineBan.bind(null,ra)}));}},_toggleReplyExpandedState:function(ra){var sa=this.state.repliesExpandedMap[ra],ta=this.state.repliesExpandedMap;ta[ra]=!sa;this.setState({repliesExpandedMap:ta,replyComposerIDToFocusOnMount:!sa?'replycomposer-'+ra:null});},onToggleReplies:function(ra){this._toggleReplyExpandedState(ra);var sa=this.state.repliesExpandedMap[ra],ta=this.props.ranges[ra].getRequestedLength();ta-=this.props.deletedCounts[ra];if(sa&&ta===0){var ua=this.props.commentCounts[ra],va=Math.min(ua,this.props.pageSize),wa=ua-va;this.onPage(ra,pa.BOTTOM,{offset:wa,length:va});}},onPage:function(ra,sa,ta){var ua=this.state.hasPagedToplevel||ra===this.props.id;if(ra!==this.props.id&&!this.state.repliesExpandedMap[ra]){var va=this.state.repliesExpandedMap;va[ra]=true;this.setState({repliesExpandedMap:va});}var wa=ja({},this.state.isActiveLoading);wa[ra]=sa;this.setState({isActiveLoading:wa,hasPagedToplevel:ua});this.props.onChangeRange(ra,ta);},isLoadingPrev:function(ra){var sa=this.props;ra=ra||sa.id;var ta=sa.ranges[ra].getRequestedOffset(),ua=sa.ranges[ra].getOffset();return ta<ua;},isLoadingNext:function(ra){var sa=this.props;ra=ra||sa.id;var ta=sa.ranges[ra].getRequestedOffset(),ua=sa.ranges[ra].getRequestedLength(),va=sa.ranges[ra].getOffset(),wa=sa.ranges[ra].getLength();return ta+ua>va+wa;},renderPagers:function(ra,sa,ta){var ua=this.props,va=ua.deletedCounts[ra],wa=ua.commentCounts[ra],xa=wa-va,ya=ta-va,za=ua.contextArgs.numberdelimiter||',',ab=ra!==ua.id,bb,cb={topPager:null,bottomPager:null};if(ua.source==x.UFIFeedbackSourceType.ADS)return cb;var db=this.isLoadingPrev(ra),eb=this.isLoadingNext(ra);if(ta==wa)return cb;var fb={},gb=ua.feedback.commentsentenceinfo;if(gb){fb.commenters=gb.explicit_commenter_names;fb.othersCount=gb.other_commenter_count;}var hb=(sa+ta)==wa;if((wa<ua.pageSize&&hb)||ya===0){bb=Math.min(wa,ua.pageSize);var ib=this.onPage.bind(this,ra,ua.feedback.isranked&&!ab?pa.BOTTOM:pa.TOP,{offset:wa-bb,length:bb}),jb;if(ya===0){if(xa==1){jb=ca.VIEW_ONE;}else{fb.count=xa;jb=ca.VIEW_ALL;}}else if(xa-ya==1){jb=ca.VIEW_ONE_MORE;}else{jb=ca.VIEW_MORE_EXPLICIT;fb.count=xa-ya;}var kb=t.getTrackingInfo(t.types.VIEW_ALL_COMMENTS);fb.delimiter=za;var lb=ca.getLabel(jb,ab,ua.feedback.isqanda,fb),mb=ua.feedback.isranked&&!ab,nb=l.createElement(ba,{key:"allPager"+ra,ref:mb?"topLevelBottomPager":null,contextArgs:ua.contextArgs,isUnseen:ua.feedback.hasunseencollapsed,isLoading:db,pagerLabel:lb,onPagerClick:ib,"data-ft":kb});if(mb){cb.bottomPager=nb;}else cb.topPager=nb;return cb;}var ob=ca.getLabel(ca.VIEW_MORE,ab,ua.feedback.isqanda,fb),pb=ca.getLabel(ca.VIEW_PREVIOUS,ab,ua.feedback.isqanda,fb);if(sa>0){var qb=Math.max(sa-ua.pageSize,0);bb=sa+ta-qb;var rb;if(ab&&ya>1){var sb=k.formatIntegerWithDelimiter(ya,za),tb=k.formatIntegerWithDelimiter(xa,za);rb=oa._("{countshown}\/{totalcount}",[oa.param("countshown",sb),oa.param("totalcount",tb)]);}var ub;if(ua.feedback.isranked&&!ab){ub=this.onPage.bind(this,ra,pa.BOTTOM,{offset:qb,length:bb});cb.bottomPager=l.createElement(ba,{key:"bottomPager"+ra,ref:!ab?"topLevelBottomPager":null,contextArgs:ua.contextArgs,isLoading:db,pagerLabel:ob,onPagerClick:ub,countSentence:rb});}else{ub=this.onPage.bind(this,ra,pa.TOP,{offset:qb,length:bb});cb.topPager=l.createElement(ba,{key:"topPager"+ra,contextArgs:ua.contextArgs,isLoading:db,pagerLabel:pb,onPagerClick:ub,countSentence:rb});}}if(sa+ta<wa){bb=Math.min(ta+ua.pageSize,wa-sa);var vb;if(ua.feedback.isranked&&!ab){vb=this.onPage.bind(this,ra,pa.TOP,{offset:sa,length:bb});cb.topPager=l.createElement(ba,{key:"topPager"+ra,contextArgs:ua.contextArgs,isLoading:eb,pagerLabel:pb,onPagerClick:vb});}else{vb=this.onPage.bind(this,ra,pa.BOTTOM,{offset:sa,length:bb});cb.bottomPager=l.createElement(ba,{key:"bottomPager",ref:!ab?"topLevelBottomPager":null,contextArgs:ua.contextArgs,isLoading:eb,pagerLabel:ob,onPagerClick:vb});}}return cb;},loadMoreComments:function(){if(this.scrollSubscription&&this.refs.topLevelBottomPager&&!(this.props.id in this.state.isActiveLoading)){var ra=l.findDOMNode(this.refs.topLevelBottomPager),sa=ka(window).y,ta=sa+document.documentElement.clientHeight+x.infiniteScrollRangeForQANDAPermalinks;if(ra.offsetHeight&&ra.offsetTop<ta)this.refs.topLevelBottomPager.props.onPagerClick();}},_scrollToAddComment:function(){if(this.refs.toplevelcomposer){var ra=l.findDOMNode(this.refs.toplevelcomposer),sa=80,ta=ra.getBoundingClientRect().top;if(ta<sa||ta>ia.getViewportDimensions().y-sa)h.scrollTo(ra,true,false,sa);}},onCommentReply:function(ra){var sa=ra.parentcommentid||ra.id;if(this.props.feedback.isthreaded&&ra.cancomment){if(!this.state.repliesExpandedMap[sa]){this.onToggleReplies(ra.id);}else if(this.refs&&this.refs['replycomposer-'+sa])this.refs['replycomposer-'+sa].focus();}else if(this.props.contextArgs.simplereply&&ra.author&&this.refs.toplevelcomposer&&this.refs.toplevelcomposer.insertMention){var ta=this.props.authorProfiles[ra.author].type,ua=new p({uniqueID:ra.author,title:this.props.authorProfiles[ra.author].name,type:ta==='friend'?'user':ta});this.refs.toplevelcomposer.insertMention(ua);this._scrollToAddComment();}},onComment:function(){if(this.refs&&this.refs.toplevelcomposer){this.refs.toplevelcomposer.focus();var ra=l.findDOMNode(this.refs.toplevelcomposer),sa=60;if(ra.getBoundingClientRect().top<sa)h.scrollTo(ra,true,true);}},_beforePostInlineShare:function(){z.updateStateField(this.props.instanceid,'inlineShare','status',{type:'posting'});},_onInlineShareSuccess:function(ra){this._resetInlineShare();s.showSuccess(ra.payload.message);},_onInlineShareError:function(ra){this._resetInlineShare();s.showError(ra.errorDescription);},_resetInlineShare:function(){z.updateState(this.props.instanceid,'inlineShare',{});}});e.exports=qa;},null);
__d("UFIFeaturedReplyCommentList",["UFIReplyCommentList"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();"use strict";for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;j.getCommentList=function(k,l){};function j(k,l,m,n){g.call(this,k,l);var o=0,p=m.length;this.updateCommentCount(p);this.addCommentIDs(o,p,m);var q={};n.forEach(function(r){q[r.id]=r;});m.forEach(function(r){var s=q[r];this.addComment(s.id,s.clientid,s.legacyid);}.bind(this));}j.prototype.fetchComments=function(k,l,m){};e.exports=j;},null);
__d("UFIFeaturedToplevelCommentList",["UFIConstants","UFIToplevelCommentList"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();"use strict";for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;k.getCommentList=function(l,m){};k.getCommentListsForFeedbackTargetID=function(l){};k.getCommentListForFeedbackTargetID_UNSAFE=function(l){};k.resetCommentListsForFeedbackTargetID=function(l){};function k(l,m,n){h.call(this,l,g.UFICommentOrderingMode.FEATURED);var o=0,p=m.length;this.updateCommentCount(p);this.addCommentIDs(o,p,m);var q={};n.forEach(function(r){q[r.id]=r;});m.forEach(function(r){var s=q[r];this.addComment(s.id,s.clientid,s.legacyid);}.bind(this));}k.prototype.fetchComments=function(l,m,n){};e.exports=k;},null);
__d("UFIRange",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();"use strict";function g(h,i){this.offset=h||0;this.length=i||0;this.requestedOffset=this.offset;this.requestedLength=this.length;}g.prototype.getOffset=function(){return this.offset;};g.prototype.getLength=function(){return this.length;};g.prototype.updateRange=function(h,i){this.offset=h;this.length=i;if(this.requestedLength>0){var j=Math.min(this.offset,this.requestedOffset),k=Math.max(this.offset+this.length,this.requestedOffset+this.requestedLength);this.requestedOffset=j;this.requestedLength=k-j;}else{this.requestedOffset=this.offset;this.requestedLength=this.length;}};g.prototype.getRequestedOffset=function(){return this.requestedOffset;};g.prototype.getRequestedLength=function(){return this.requestedLength;};g.prototype.updateRequestedRange=function(h,i){this.requestedOffset=h;this.requestedLength=i;};e.exports=g;},null);
__d("UFIController",["Arbiter","Bootloader","CSS","DOM","LayerRemoveOnHide","LiveTimer","PageAdminSignatureSettings","Parent","React","ReactMount","ShortProfiles","UFI.react","UFIActionLinkController","UFICentralUpdates","UFIFeaturedReplyCommentList","UFIFeaturedToplevelCommentList","UFICommentTemplates","UFIConstants","UFIFeedbackTargets","UFIInstanceState","UFIRange","UFIReplyCommentList","UFIToplevelCommentList","UFIUserActions","URI","isEmpty","onEnclosingPageletDestroy","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){b.__markCompiled&&b.__markCompiled();"use strict";var ia=function(ma,na,oa,pa,qa){var ra=ma+na===oa;return {offset:ma,length:(ra&&ja(qa))?pa-ma:na};},ja=function(ma){return ma==x.UFIPayloadSourceType.USER_ACTION||ma==x.UFIPayloadSourceType.LIVE_SEND;},ka=function(ma,na){for(var oa=0;oa<na.length;oa++){var pa=na[oa];if(pa.author)ma.push(pa.author);if(pa.socialcontext)ma.push(pa.socialcontext.topmutualid);if(pa.replyauthors&&pa.replyauthors.length)for(var qa=0;qa<pa.replyauthors.length;qa++)ma.push(pa.replyauthors[qa]);}};function la(ma,na,oa){this.root=ma;this.id=na.ftentidentifier;this.source=na.source;this.$UFIController0=na.instanceid;this.featuredToplevelCommentList=null;this.featuredReplyCommentLists={};this.$UFIController1=na;this.$UFIController1.rootid=this.root.id;this.$UFIController1.pagesAdminSignatureSettings=new m(this.$UFIController1.initAdminSignatureContext);this.$UFIController2=false;var pa=oa.feedbacktargets[0];this.actionLink=new s(ma,this.$UFIController1,pa,this.$UFIController0);this.orderingMode=pa.defaultcommentorderingmode;var qa=null;if(oa.featuredcommentlists&&oa.featuredcommentlists.comments&&oa.featuredcommentlists.comments[this.id]){qa=oa.featuredcommentlists.comments[this.id];this.featuredToplevelCommentList=new v(this.id,qa.values,oa.comments);}else qa=oa.commentlists.comments[this.id][this.orderingMode];this.ranges={};this.replyRanges={};this.repliesMap={};this.shortenTimestamp=na.shortenTimestamp;this.commentcounts={};this.commentcounts[this.id]=this.getToplevelCommentList().getCommentCount();var ra=pa.orderingmodes||[{value:this.orderingMode}];ra.forEach(function(va){this.ranges[va.value]=new aa(qa.range.offset,qa.range.length);}.bind(this));var sa,ta,ua;if(oa.commentlists.replies)for(sa=0;sa<qa.values.length;sa++){ta=qa.values[sa];ua=oa.commentlists.replies[ta];if(ua){this.commentcounts[ta]=this.getReplyCommentList(ta).getCommentCount();this.getReplyRange(ta).updateRange(ua.range.offset,ua.range.length);}}if(oa.featuredcommentlists)if(oa.featuredcommentlists.replies)for(sa=0;sa<qa.values.length;sa++){ta=qa.values[sa];ua=oa.featuredcommentlists.replies[ta];if(ua){this.featuredReplyCommentLists[ta]=new u(this.id,ta,ua.values,oa.comments);this.commentcounts[ta]=this.getReplyCommentList(ta).getCommentCount();this.getReplyRange(ta).updateRange(ua.range.offset,ua.range.length);}}this.$UFIController3=null;this.$UFIController4=null;this.ufiCentralUpdatesSubscriptions=[t.subscribe('feedback-updated',function(va,wa){var xa=wa.updates,ya=wa.payloadSource;if(ya!=x.UFIPayloadSourceType.COLLAPSED_UFI&&this.id in xa)this.fetchAndUpdate(this.render.bind(this),ya);}.bind(this)),t.subscribe('feedback-id-changed',function(va,wa){var xa=wa.updates;if(this.id in xa)this.id=xa[this.id];}.bind(this)),t.subscribe('instance-updated',function(va,wa){var xa=wa.updates;if(this.$UFIController0 in xa){var ya=xa[this.$UFIController0];if(ya.editcommentid||ya.inlineShare)this.render(wa.payloadSource);}}.bind(this))];this.clearPageletSubscription=ga(this.root,this.$UFIController6.bind(this));this.clearPageSubscription=g.subscribe('ufi/page_cleared',this.$UFIController7.bind(this));t.handleUpdate(x.UFIPayloadSourceType.INITIAL_SERVER,oa);if(this.$UFIController1.viewas)this.viewasUFICleanSubscription=g.subscribe('pre_page_transition',function(va,wa){if(this.$UFIController1.viewas!==ea(wa.to).getQueryData('viewas'))ca.resetCommentListsForFeedbackTargetID(this.id);}.bind(this));h.loadModules(["ScrollAwareDOM"],function(va){p.scrollMonitor=va.monitor;});g.inform('notifStory/ufiLoaded');}la.prototype.$UFIController8=function(){if(!this.$UFIController9)this.$UFIController9=n.byTag(this.root,'form');return this.$UFIController9;};la.prototype.$UFIControllera=function(event){var ma=!this.feedback.hasviewerliked;da.changeLike(this.id,ma,{source:this.source,target:event.target,rootid:this.$UFIController1.rootid});event.preventDefault();};la.prototype.$UFIControllerb=function(ma,event){var na=!ma.hasviewerliked;da.changeCommentLike(ma.id,na,{source:this.source,target:event.target});};la.prototype.$UFIControllerc=function(ma){z.updateState(this.$UFIController0,'isediting',true);z.updateState(this.$UFIController0,'editcommentid',ma.id);};la.prototype.$UFIControllerd=function(ma,na,event){if(!na.visibleValue&&!na.attachedPhoto&&!na.attachedSticker){this.$UFIControllere(ma,event);}else da.editComment(ma.id,na.visibleValue,na.encodedValue,{source:this.$UFIController1.source,target:event.target,attachedPhoto:na.attachedPhoto,attachedSticker:na.attachedSticker});z.updateStateField(this.$UFIController0,'locallycomposed',ma.id,true);this.$UFIControllerf();};la.prototype.$UFIControllerf=function(){z.updateState(this.$UFIController0,'isediting',false);z.updateState(this.$UFIController0,'editcommentid',null);};la.prototype.$UFIControllere=function(ma,event,na){this.$UFIControllerg(ma,false,event,na);};la.prototype.$UFIControllerg=function(ma,na,event,oa){var pa=w[':fb:ufi:hide-dialog-template'].build();j.setContent(pa.getNode('body'),ha._("Souhaitez-vous vraiment supprimer ce commentaire\u00a0?"));j.setContent(pa.getNode('title'),ha._("Supprimer le commentaire"));h.loadModules(["DialogX"],function(qa){var ra=new qa({modal:true,width:465,addedBehaviors:[k]},pa.getRoot());ra.subscribe('confirm',function(){da.removeComment(ma.id,{source:this.source,oneclick:na,target:event.target,timelinelogdata:this.$UFIController1.timelinelogdata});if(oa)oa.setState({isInlinePageDeleted:true});ra.hide();}.bind(this));ra.show();}.bind(this));};la.prototype.$UFIControllerh=function(ma,event){da.setHideAsSpam(ma.id,true,{source:this.source,target:event.target});};la.prototype.$UFIControlleri=function(ma,event){da.setHideAsSpam(ma.id,false,{source:this.source,target:event.target});};la.prototype.$UFIControllerj=function(ma,event){da.translateComment(ma,{source:this.source,target:event.target});};la.prototype.$UFIControllerk=function(ma,na,event){da.banUser(ma,this.feedback.ownerid,na,{source:this.source,target:event.target});};la.prototype.$UFIControllerl=function(ma,event){this.$UFIControllerk(ma,true,event);};la.prototype.$UFIControllerm=function(ma,event){this.$UFIControllerk(ma,false,event);};la.prototype.$UFIControllern=function(ma,na){da.fetchSpamComments(this.id,ma,na,this.$UFIController1.viewas);};la.prototype.$UFIControllero=function(ma,event){da.removePreview(ma,{source:this.source,target:event.target});};la.prototype.$UFIControllerp=function(ma){h.loadModules(["UFIRetryActions"],function(na){na.retrySubmit(ma,{source:this.source});}.bind(this));};la.prototype.$UFIControllerq=function(){if(this.$UFIController2)return;var ma=n.byTag(this.root,'form');if(ma){i.removeClass(ma,'collapsed_comments');this.$UFIController2=true;}};la.prototype.setRange=function(ma){this.getRange().updateRange(ma.offset,ma.length);};la.prototype.setReplyRange=function(ma,na){this.getReplyRange(ma).updateRange(na.offset,na.length);};la.prototype.render=function(ma){var na=z.getKeyForInstance(this.$UFIController0,'inlineShare'),oa=this.comments.length||!fa(this.feedback.likesentences.current);if(oa&&ja(ma))this.$UFIControllerq();var pa=this.getRange();if(this.$UFIController3===null)this.$UFIController3=pa.getOffset()+pa.getLength()-1;var qa=this.feedback.replysocialsentencemaxreplies||-1,ra={};ra[this.id]=this.getToplevelCommentList().getDeletedCount();var sa={},ta={};ta[this.id]=!this.featuredToplevelCommentList;this.comments.forEach(function(ya){var za=ya.id;ra[za]=this.getReplyCommentList(za).getDeletedCount();sa[za]=this.getToplevelCommentList().getPermalinkForComment(za);ta[za]=!this.featuredReplyCommentLists[za];if(this.repliesMap[za])this.repliesMap[za].forEach(function(ab){var bb=ab.id;sa[bb]=ba.getCommentList(this.id,za).getPermalinkForComment(bb);}.bind(this));}.bind(this));var ua={};ua[this.id]=pa;for(var va in this.replyRanges)ua[va]=this.replyRanges[va];var wa=!!this.featuredToplevelCommentList,xa=o.createElement(r,{feedback:this.feedback,id:this.id,onTargetLikeToggle:this.$UFIControllera.bind(this),onCommentLikeToggle:this.$UFIControllerb.bind(this),onCommentRemove:this.$UFIControllere.bind(this),onCommentHideAsSpam:this.$UFIControllerh.bind(this),onCommentMarkAsNotSpam:this.$UFIControlleri.bind(this),onCommentEdit:this.$UFIControllerc.bind(this),onCommentTranslate:this.$UFIControllerj.bind(this),onCommentInlineBan:this.$UFIControllerl.bind(this),onCommentUndoInlineBan:this.$UFIControllerm.bind(this),onEditAttempt:this.$UFIControllerd.bind(this),onCancelEdit:this.$UFIControllerf.bind(this),onChangeRange:this.$UFIControllerr.bind(this),onSpamFetch:this.$UFIControllern.bind(this),onPreviewRemove:this.$UFIControllero.bind(this),onRetrySubmit:this.$UFIControllerp.bind(this),onOrderingModeChange:this.$UFIControllers.bind(this),contextArgs:this.$UFIController1,repliesMap:this.repliesMap,shortenTimestamp:this.shortenTimestamp,commentCounts:this.commentcounts,deletedCounts:ra,availableComments:this.comments,source:this.source,ranges:ua,pageSize:x.defaultPageSize,authorProfiles:this.authorProfiles,instanceid:this.$UFIController0,loggingOffset:this.$UFIController3,replySocialSentenceMaxReplies:qa,orderingMode:this.orderingMode,hideOrderingModeSelector:wa,commentPermalinks:sa,canAddCommentMap:ta,inlineShare:na});this.$UFIController4=o.render(xa,this.root);l.updateTimeStamps();if(this.$UFIController8())g.inform('ufi/changed',{form:this.$UFIController8()});if(ma!=x.UFIPayloadSourceType.INITIAL_SERVER&&ma!=x.UFIPayloadSourceType.COLLAPSED_UFI)g.inform('reflow');};la.prototype.deferredCallback=function(ma,na,oa,pa){ma.callbackCount++;if(ma.callbackCount<ma.expectedCallbackCount)return;q.getMulti(na,function(qa){this.authorProfiles=qa;pa(oa);if(oa==x.UFIPayloadSourceType.ENDPOINT_COMMENT_FETCH)g.inform('CommentUFI.Pager');}.bind(this));};la.prototype.fetchAndUpdate=function(ma,na){y.getFeedbackTarget(this.id,function(oa){this.feedback=oa;var pa=this.getToplevelCommentList(this.orderingMode).getCommentCount(),qa=this.getRange(),ra=ia(qa.getRequestedOffset(),qa.getRequestedLength(),this.commentcounts[this.id],pa,na),sa=[];if(this.feedback.actorforpost)sa.push(this.feedback.actorforpost);var ta={expectedCallbackCount:0,callbackCount:0},ua=ra.offset,va=ra.length,wa={viewAs:this.$UFIController1.viewas+'',feedContext:this.$UFIController1.feedcontext};this.getToplevelCommentList().getComments(ua,va,wa,function(xa,ya,za){this.commentcounts[this.id]=ya;this.setRange(xa);this.comments=[];for(var ab in za)this.comments.push(za[ab]);ka(sa,this.comments);if(this.feedback.isthreaded&&this.comments.length){ta.expectedCallbackCount=this.comments.length;}else ta.expectedCallbackCount=1;for(var bb in za){var cb=za[bb],db=cb.id;if(this.feedback.isthreaded){var eb=this.getReplyCommentList(db).getCommentCount(),fb;if(this.replyRanges[db]){var gb=this.getReplyRange(db);fb=ia(gb.getRequestedOffset(),gb.getRequestedLength(),this.commentcounts[db],eb,na);}else if(cb.interestingReplyOffset!==(void 0)){fb={offset:cb.interestingReplyOffset,length:1};}else{var hb=this.feedback.isranked?0:Math.min(eb,2);fb={offset:0,length:hb};}var ib=fb.offset,jb=fb.length;this.getReplyCommentList(db).getComments(ib,jb,wa,function(kb,lb,mb,nb){this.commentcounts[kb]=mb;this.setReplyRange(kb,lb);this.repliesMap[kb]=[];for(var ob in nb)this.repliesMap[kb].push(nb[ob]);ka(sa,this.repliesMap[kb]);this.deferredCallback(ta,sa,na,ma);}.bind(this,db,fb,eb));}}if(!this.feedback.isthreaded||!this.comments.length)this.deferredCallback(ta,sa,na,ma);}.bind(this,ra,pa));}.bind(this));};la.prototype.getToplevelCommentList=function(){if(this.featuredToplevelCommentList)return this.featuredToplevelCommentList;return ca.getCommentList(this.id,this.orderingMode);};la.prototype.getReplyCommentList=function(ma){if(ma in this.featuredReplyCommentLists)return this.featuredReplyCommentLists[ma];return ba.getCommentList(this.id,ma);};la.prototype.getRange=function(){if(!(this.orderingMode in this.ranges))this.ranges[this.orderingMode]=new aa();return this.ranges[this.orderingMode];};la.prototype.getReplyRange=function(ma){if(!(ma in this.replyRanges))this.replyRanges[ma]=new aa();return this.replyRanges[ma];};la.prototype.$UFIControllerr=function(ma,na){if(ma==this.id){this.getRange().updateRequestedRange(na.offset,na.length);}else this.replyRanges[ma].updateRequestedRange(na.offset,na.length);this.fetchAndUpdate(this.render.bind(this),x.UFIPayloadSourceType.USER_ACTION);};la.prototype.$UFIController6=function(){o.unmountComponentAtNode(this.root);this.ufiCentralUpdatesSubscriptions.forEach(t.unsubscribe.bind(t));g.unsubscribe(this.clearPageSubscription);this.viewasUFICleanSubscription&&g.unsubscribe(this.viewasUFICleanSubscription);};la.prototype.$UFIController7=function(){this.$UFIController6();g.unsubscribe(this.clearPageletSubscription);};la.prototype.$UFIControllers=function(ma){this.orderingMode=ma;this.fetchAndUpdate(this.render.bind(this),x.UFIPayloadSourceType.USER_ACTION);};e.exports=la;},null);
__d("cssURL",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){return "url('"+h.replace(/(\\|\s|\(|\)|'|\")/g,'\\$1')+"')";}e.exports=g;},null);
__d("GroupMentionsTypeaheadView.react",["Image.react","MentionsTypeaheadViewItem.react","React","cx","extendArray","fbt","ix","uniqueID"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=i,p=o.PropTypes,q=l._("Aucun r\u00e9sultat"),r=i.createClass({displayName:"GroupMentionsTypeaheadView",propTypes:{id:p.string,viewProps:p.object,highlightedEntry:p.object,entries:p.array.isRequired,onSelect:p.func.isRequired,onHighlight:p.func,onRenderHighlight:p.func},getInitialState:function(){return {membersHeaderID:n(),nonMembersHeaderID:n()};},_renderItem:function(s,t){var u=s===this.props.highlightedEntry;return (i.createElement(h,{key:s.getUniqueID(),ariaDescribedBy:t,entry:s,highlighted:u,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this._onRenderHighlight}));},_renderMembers:function(s){var t=null;if(s.length){t=s.map(function(w,x){var y=x===0?this.state.membersHeaderID:null;return this._renderItem(w,y);}.bind(this));}else t=[i.createElement("li",{className:"_2ph-",role:"option","aria-describedby":this.state.membersHeaderID,"aria-label":q},q)];var u=null;if(this.props.viewProps.member.aux)u=i.createElement("span",{className:"_1knr"},' \u00b7 ',this.props.viewProps.member.aux);var v=[i.createElement("li",{id:this.state.membersHeaderID,className:"_1kns"},this.props.viewProps.member.title,u)];return k(v,t);},_renderNonMembers:function(s){if(!s.length)return null;var t=null;if(this.props.viewProps.nonMember.aux)t=i.createElement("span",{className:"_1knr"},' \u00b7 ',this.props.viewProps.nonMember.aux);var u=[i.createElement("li",{id:this.state.nonMembersHeaderID,className:"_1kns"},i.createElement(g,{src:m('/images/groups/secret-tag.png'),className:"_1knt"}),this.props.viewProps.nonMember.title,t)];return k(u,s.map(function(v,w){var x=w===0?this.state.nonMembersHeaderID:null;return this._renderItem(v,x);}.bind(this)));},render:function(){var s=[],t=[];this.props.entries.forEach(function(v){var w=v.getAuxiliaryData();if(w.renderType==='member'){s.push(v);}else t.push(v);});var u=(("_5u8_")+(!s.length&&!t.length?' '+"_5u90":''));return (i.createElement("ul",{className:u,role:"listbox",id:this.props.id},this._renderMembers(s),this._renderNonMembers(t)));}});e.exports=r;},null);
__d("UFIMentionsInputProxy.react",["Bootloader","immutable","React","cx","emptyFunction","setImmediate"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=i.createClass({displayName:"UFIMentionsInputProxy",getInitialState:function(){return {cmdBuffer:h.List(),component:null};},componentDidMount:function(){if(this.props.initialData)this._bootload();},hasEnteredText:function(){return this._fillCmdBuffer({fn:'hasEnteredText',args:[]});},setSignature:function(n){this._fillCmdBuffer({fn:'setSignature',args:[n]});},focus:function(){this._fillCmdBuffer({fn:'focus',args:[]});},submitComment:function(event){this._fillCmdBuffer({fn:'submitComment',args:[event]});},insertMention:function(n){this._fillCmdBuffer({fn:'insertMention',args:[n]});},insertEmoticon:function(n){this._fillCmdBuffer({fn:'insertEmoticon',args:[n]});},_bootload:function(){g.loadModules(["UFIMentionsInput.react"],function(n){return this.setState({component:n});}.bind(this));},_focusAndLoad:function(){this._bootload();this.focus();},_hasBufferedCommands:function(){return this.state.cmdBuffer.size>0;},_fillCmdBuffer:function(n){if(this.refs.mentionsinputchild){return this._execCmd(n);}else this.setState({cmdBuffer:this.state.cmdBuffer.push(n)});},_drainFnBuffer:function(){var n=this.state.cmdBuffer.first();this.setState({cmdBuffer:this.state.cmdBuffer.shift()});return n;},_execCmd:function(n){var o=this.refs.mentionsinputchild;return o[n.fn].apply(o,n.args);},_renderProxyInput:function(){var n="_1osa mentionsHidden";return (i.createElement("input",{className:n,name:"add_comment_text",ref:"proxyInput",onFocus:this._focusAndLoad,tabIndex:"-1"}));},_renderDummy:function(){var n="UFIAddCommentInput _1osb _1osc";return (i.createElement("div",{onFocus:this._focusAndLoad,onClick:this._focusAndLoad,onTouchStart:k,onMouseOver:this._bootload},i.createElement("div",{className:n},this._renderProxyInput(),this.props.placeholder)));},render:function(){var n=this.state.component;if(!n)return this._renderDummy();if(this._hasBufferedCommands())l(function(){return this._execCmd(this._drainFnBuffer());}.bind(this));return (i.createElement(n,i.__spread({key:"mentionsinputchild",ref:"mentionsinputchild"},this.props),this.props.children));}});e.exports=m;},null);
__d("MentionsInputTypeaheadView.react",["MentionsTypeaheadViewItem.react","React","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=h,k=j.PropTypes,l=h.createClass({displayName:"MentionsInputTypeaheadView",propTypes:{id:k.string,highlightedEntry:k.object,entries:k.array.isRequired,onSelect:k.func.isRequired,onHighlight:k.func,onRenderHighlight:k.func},_renderItem:function(m){var n=m===this.props.highlightedEntry;return (h.createElement(g,{key:m.getUniqueID(),entry:m,highlighted:n,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight}));},render:function(){var m=(("_5u8_")+(!this.props.entries.length?' '+"_5u90":''));return (h.createElement("ul",{className:m,role:"listbox",id:this.props.id},this.props.entries.map(this._renderItem)));}});e.exports=l;},null);
__d("XHPTemplate",["DataStore","DOM","HTML"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(l){"use strict";this._model=l;}j.prototype.render=function(){"use strict";if(i.isHTML(this._model))this._model=h.setContent(document.createDocumentFragment(),this._model)[0];return this._model.cloneNode(true);};j.prototype.build=function(){"use strict";return new k(this.render());};j.getNode=function(l,m){"use strict";return j.getNodes(l)[m];};j.getNodes=function(l){"use strict";var m=g.get(l,'XHPTemplate:nodes');if(!m){m={};var n=h.scry(l,'[data-jsid]');n.push(l);var o=n.length;while(o--){var p=n[o];m[p.getAttribute('data-jsid')]=p;p.removeAttribute('data-jsid');}g.set(l,'XHPTemplate:nodes',m);}return m;};function k(l){"use strict";this._root=l;this._populateNodes();}k.prototype._populateNodes=function(){"use strict";this._nodes={};this._leaves={};var l=this._root.getElementsByTagName('*');for(var m=0,n=l.length;m<n;m++){var o=l[m],p=o.getAttribute('data-jsid');if(p){o.removeAttribute('data-jsid');this._nodes[p]=o;this._leaves[p]=!o.childNodes.length;}}};k.prototype.getRoot=function(){"use strict";return this._root;};k.prototype.getNode=function(l){"use strict";return this._nodes[l];};k.prototype.setNodeProperty=function(l,m,n){"use strict";this.getNode(l)[m]=n;return this;};k.prototype.setNodeContent=function(l,m){"use strict";if(!this._leaves[l])throw new Error("Can't setContent on non-leaf node: "+l);h.setContent(this.getNode(l),m);return this;};e.exports=j;},null);
__d("highlight",["Animation","Style"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j,k,l,m){new g(j).from('background',m||'#fff9d7').to('background',l||'#fff').ease(g.ease.both).duration(2000).ondone(function(){h.set(j,'background','');k&&k();}).go();}e.exports=i;},null);
__d("ProfileTypeaheadContainer.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g.createClass({displayName:"ProfileTypeaheadContainer",render:function(){return (g.createElement("div",{className:"_1ceo"},this.props.children));}});e.exports=i;},null);
__d("VideoAutoplayPlayButton",["CSS","Event","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={},k={getClicked:function(l){if(j.hasOwnProperty(l))return j[l].clicked;return false;},register:function(l,m,n){j[l]=h.listen(m,'click',function(){g.removeClass(m,"_5vos");g.show(n);j[l].clicked=true;});},unregister:function(l){if(j.hasOwnProperty(l))j[l].remove();}};e.exports=k;},null);